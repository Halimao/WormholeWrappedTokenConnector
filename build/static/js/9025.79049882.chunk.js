/*! For license information please see 9025.79049882.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkwormhole_connector=self.webpackChunkwormhole_connector||[]).push([[9025],{3234:(e,t,n)=>{n.d(t,{g:()=>a});var r;let i;const s=new Set;const o={};function a(){if(i||(i=Object.freeze({register:c,get:u,on:d}),typeof window>"u"))return i;const e=Object.freeze({register:c});try{window.addEventListener("wallet-standard:register-wallet",t=>{let{detail:n}=t;return n(e)})}catch(t){console.error("wallet-standard:register-wallet event listener could not be added\n",t)}try{window.dispatchEvent(new f(e))}catch(t){console.error("wallet-standard:app-ready event could not be dispatched\n",t)}return i}function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;return(t=t.filter(e=>!s.has(e))).length?(t.forEach(e=>function(e){l=void 0,s.add(e)}(e)),null==(r=o.register)||r.forEach(e=>h(()=>e(...t))),function(){var e;t.forEach(e=>function(e){l=void 0,s.delete(e)}(e)),null==(e=o.unregister)||e.forEach(e=>h(()=>e(...t)))}):()=>{}}let l;function u(){return l||(l=[...s]),l}function d(e,t){var n;return null!=(n=o[e])&&n.push(t)||(o[e]=[t]),function(){var n;o[e]=null==(n=o[e])?void 0:n.filter(e=>t!==e)}}function h(e){try{e()}catch(t){console.error(t)}}class f extends Event{get detail(){return function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}(this,r,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),r.set(this,void 0),function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===r?i.call(e,n):i?i.value=n:t.set(e,n)}(this,r,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}r=new WeakMap},9025:(e,t,n)=>{n.r(t),n.d(t,{fetchOptions:()=>nh,signAndSendTransaction:()=>rh});var r=n(45),i=n(9379),s=n(600),o=n(6218),a=n(8951),c=n(9495),l=n(7547),u=n(6045),d=n(3234),h=n(1200);const f=["data"],g=["connectedAccounts"],p=["connectedAccounts"],y=["sender"],w=["claimSecretKey","network","preferredWalletName"];var m;class A extends Event{get detail(){return function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}(this,m,"f")}get type(){return"wallet-standard:register-wallet"}constructor(e){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),m.set(this,void 0),function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===r?i.call(e,n):i?i.value=n:t.set(e,n)}(this,m,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}m=new WeakMap;var v={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,r,s,o){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new i(r,s||e,o),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,s=r.length,o=new Array(s);i<s;i++)o[i]=r[i].fn;return o},a.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},a.prototype.emit=function(e,t,r,i,s,o){var a=n?n+e:e;if(!this._events[a])return!1;var c,l,u=this._events[a],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,s),!0;case 6:return u.fn.call(u.context,t,r,i,s,o),!0}for(l=1,c=new Array(d-1);l<d;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var h,f=u.length;for(l=0;l<f;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),d){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,r);break;case 4:u[l].fn.call(u[l].context,t,r,i);break;default:if(!c)for(h=1,c=new Array(d-1);h<d;h++)c[h-1]=arguments[h];u[l].fn.apply(u[l].context,c)}}return!0},a.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,r,i){var s=n?n+e:e;if(!this._events[s])return this;if(!t)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn===t&&(!i||a.once)&&(!r||a.context===r)&&o(this,s);else{for(var c=0,l=[],u=a.length;c<u;c++)(a[c].fn!==t||i&&!a[c].once||r&&a[c].context!==r)&&l.push(a[c]);l.length?this._events[s]=1===l.length?l[0]:l:o(this,s)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a}(v);var b=v.exports;const z=(0,l.g)(b);var U="aptos:signAndSubmitTransaction",E="aptos:signIn",_="aptos:signMessage",S="aptos:signTransaction",T="aptos:connect",M="aptos:disconnect",I="aptos:account",N="aptos:network",x="aptos:onAccountChange",k="aptos:onNetworkChange",C=class e extends u.B{constructor(e){let{address:t,publicKey:n,ansName:r}=e;super(),this.address=u.l.from(t),this.publicKey=n,this.ansName=r}serialize(e){var t;if(this.address.serialize(e),this.publicKey instanceof u.f)e.serializeU32AsUleb128(u.E.Ed25519);else if(this.publicKey instanceof u.F)e.serializeU32AsUleb128(u.E.MultiEd25519);else if(this.publicKey instanceof u.k)e.serializeU32AsUleb128(u.E.SingleKey);else{if(!(this.publicKey instanceof u.S))throw new Error("Unsupported public key");e.serializeU32AsUleb128(u.E.MultiKey)}this.publicKey.serialize(e),e.serializeStr(null!==(t=this.ansName)&&void 0!==t?t:"")}static deserialize(t){let n,r=u.l.deserialize(t),i=t.deserializeUleb128AsU32();switch(i){case u.E.Ed25519:n=u.f.deserialize(t);break;case u.E.MultiEd25519:n=u.F.deserialize(t);break;case u.E.SingleKey:n=u.k.deserialize(t);break;case u.E.MultiKey:n=u.S.deserialize(t);break;default:throw new Error("Unknown variant index for WrappedPublicKey: ".concat(i))}let s=t.deserializeStr()||void 0;return new e({address:r,publicKey:n,ansName:s})}},D=["aptos:devnet","aptos:testnet","aptos:localnet","aptos:mainnet"],O=["aptos:account","aptos:connect","aptos:disconnect","aptos:network","aptos:onAccountChange","aptos:onNetworkChange","aptos:signMessage","aptos:signTransaction"];function j(e){return[...O,...arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]].every(t=>t in e.features)}function B(){let{get:e,on:t}=(0,d.g)(),n=e(),r=[];return n.map(e=>{j(e)&&r.push(e)}),{aptosWallets:r,on:t}}var L,P=((L=P||{})[L.Unauthorized=4100]="Unauthorized",L[L.Unsupported=4200]="Unsupported",L[L.InternalError=-30001]="InternalError",L),R=Object.freeze({4100:{status:"Unauthorized",message:"The requested method and/or account has not been authorized by the user."},[-30001]:{status:"Internal error",message:"Something went wrong within the wallet."},4200:{status:"Unsupported",message:"The requested feature is not supported."}}),F=class e extends Error{constructor(t,n){var r,i,s,o;super(null!==(r=null!==n&&void 0!==n?n:null==(s=R[t])?void 0:s.message)&&void 0!==r?r:"Unknown error occurred"),this.code=t,this.status=null!==(i=null==(o=R[t])?void 0:o.status)&&void 0!==i?i:"Unknown error",this.name="AptosWalletError",Object.setPrototypeOf(this,e.prototype)}},K=(e=>(e.APPROVED="Approved",e.REJECTED="Rejected",e))(K||{}),W={exports:{}};!function(e){var t,n;t=l.U,n=function(e){if(!e)throw new Error("tweetnacl not loaded");var t=function(e){var t,n=new Float64Array(16);if(e)for(t=0;t<e.length;t++)n[t]=e[t];return n},n=t(),r=t([1]),i=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),s=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function o(e){var t,n;for(n=0;n<16;n++)e[n]+=65536,t=Math.floor(e[n]/65536),e[(n+1)*(n<15?1:0)]+=t-1+37*(t-1)*(15===n?1:0),e[n]-=65536*t}function a(e,t,n){for(var r,i=~(n-1),s=0;s<16;s++)r=i&(e[s]^t[s]),e[s]^=r,t[s]^=r}function c(e,t,n){var r;for(r=0;r<16;r++)e[r]=t[r]+n[r]|0}function l(e,t,n){var r;for(r=0;r<16;r++)e[r]=t[r]-n[r]|0}function u(e,t,n){var r,i,s=new Float64Array(31);for(r=0;r<31;r++)s[r]=0;for(r=0;r<16;r++)for(i=0;i<16;i++)s[r+i]+=t[r]*n[i];for(r=0;r<15;r++)s[r]+=38*s[r+16];for(r=0;r<16;r++)e[r]=s[r];o(e),o(e)}function d(e,t){u(e,t,t)}function h(e,n){var r,i,s,c=t(),l=t();for(r=0;r<16;r++)l[r]=n[r];for(o(l),o(l),o(l),i=0;i<2;i++){for(c[0]=l[0]-65517,r=1;r<15;r++)c[r]=l[r]-65535-(c[r-1]>>16&1),c[r-1]&=65535;c[15]=l[15]-32767-(c[14]>>16&1),s=c[15]>>16&1,c[14]&=65535,a(l,c,1-s)}for(r=0;r<16;r++)e[2*r]=255&l[r],e[2*r+1]=l[r]>>8}function f(e,t){var n=new Uint8Array(32),r=new Uint8Array(32);return h(n,e),h(r,t),function(e,t,n,r){return function(e,t,n,r,i){var s,o=0;for(s=0;s<i;s++)o|=e[t+s]^n[r+s];return(1&o-1>>>8)-1}(e,t,n,r,32)}(n,0,r,0)}function g(e,o){var a=t(),g=t(),p=t(),y=t(),w=t(),m=t(),A=t();return function(e,t){var n;for(n=0;n<16;n++)e[n]=0|t[n]}(e[2],r),function(e,t){var n;for(n=0;n<16;n++)e[n]=t[2*n]+(t[2*n+1]<<8);e[15]&=32767}(e[1],o),d(p,e[1]),u(y,p,i),l(p,p,e[2]),c(y,e[2],y),d(w,y),d(m,w),u(A,m,w),u(a,A,p),u(a,a,y),function(e,n){var r,i=t();for(r=0;r<16;r++)i[r]=n[r];for(r=250;r>=0;r--)d(i,i),1!==r&&u(i,i,n);for(r=0;r<16;r++)e[r]=i[r]}(a,a),u(a,a,p),u(a,a,y),u(a,a,y),u(e[0],a,y),d(g,e[0]),u(g,g,y),f(g,p)&&u(e[0],e[0],s),d(g,e[0]),u(g,g,y),f(g,p)?-1:(function(e){var t=new Uint8Array(32);return h(t,e),1&t[0]}(e[0])===o[31]>>7&&l(e[0],n,e[0]),u(e[3],e[0],e[1]),0)}function p(e){var n=new Uint8Array(32),i=[t(),t(),t(),t()],s=t(),o=t();if(g(i,e))return null;var a=i[1];return c(s,r,a),l(o,r,a),function(e,n){var r,i=t();for(r=0;r<16;r++)i[r]=n[r];for(r=253;r>=0;r--)d(i,i),2!==r&&4!==r&&u(i,i,n);for(r=0;r<16;r++)e[r]=i[r]}(o,o),u(s,s,o),h(n,s),n}function y(t){var n,r=new Uint8Array(64),i=new Uint8Array(32);for(e.lowlevel.crypto_hash(r,t,32),r[0]&=248,r[31]&=127,r[31]|=64,n=0;n<32;n++)i[n]=r[n];for(n=0;n<64;n++)r[n]=0;return i}return{convertPublicKey:p,convertSecretKey:y,convertKeyPair:function(e){var t=p(e.publicKey);return t?{publicKey:t,secretKey:y(e.secretKey)}:null}}},e.exports?e.exports=n(h.t):t.ed2curve=n(t.nacl)}(W);var H=W.exports;const V=(0,l.g)(H);function q(e){return[u.e.MAINNET,u.e.TESTNET,u.e.DEVNET].includes(e)}function G(e,t){if(t instanceof u.f)e.serializeU32AsUleb128(u.E.Ed25519);else if(t instanceof u.F)e.serializeU32AsUleb128(u.E.MultiEd25519);else if(t instanceof u.k)e.serializeU32AsUleb128(u.E.SingleKey);else{if(!(t instanceof u.S))throw new Error("Unexpected public key type");e.serializeU32AsUleb128(u.E.MultiKey)}e.serialize(t)}function Q(e){const t=e.deserializeUleb128AsU32();switch(t){case u.E.Ed25519:return e.deserialize(u.f);case u.E.MultiEd25519:return e.deserialize(u.F);case u.E.SingleKey:return e.deserialize(u.k);case u.E.MultiKey:return e.deserialize(u.S);default:throw new Error("Unknown signing scheme: ".concat(t))}}function Y(e,t){var n;e.serialize(t.address),G(e,t.publicKey),e.serializeStr(null!==(n=t.name)&&void 0!==n?n:"")}function J(e){const t=e.deserialize(u.l),n=Q(e),r=e.deserializeStr();return(0,i.A)({address:t,publicKey:n},r.length>0?{name:r}:void 0)}function Z(e,t){e.serialize(t.address),e.serializeBool(void 0!==t.publicKey),t.publicKey&&G(e,t.publicKey)}function X(e){return{address:e.deserialize(u.l),publicKey:e.deserializeBool()?Q(e):void 0}}function $(e,t){e.serializeStr(t.domain),e.serializeStr(t.name),e.serializeBool(void 0!==t.imageURI),void 0!==t.imageURI&&e.serializeStr(t.imageURI)}function ee(e){const t=e.deserializeStr(),n=e.deserializeStr();return{domain:t,imageURI:e.deserializeBool()?e.deserializeStr():void 0,name:n}}function te(e,t){if(null!=t)if(Array.isArray(t)){e.serializeU32AsUleb128(1),e.serializeU32AsUleb128(t.length);for(const n of t)te(e,n)}else{if("string"==typeof t||"number"==typeof t||"boolean"==typeof t||"bigint"==typeof t)return e.serializeU32AsUleb128(2),void e.serializeStr(t.toString());if(t instanceof Uint8Array)return e.serializeU32AsUleb128(3),void e.serializeBytes(t);if(t instanceof ArrayBuffer)return e.serializeU32AsUleb128(3),void e.serializeBytes(new Uint8Array(t));if(!("values"in t))return"data"in t?(e.serializeU32AsUleb128(4),void e.serialize(t)):void 0===t.value?(e.serializeU32AsUleb128(0),void e.serialize(t)):t.value instanceof Uint8Array?(e.serializeU32AsUleb128(5),void e.serializeBytes(t.value)):(e.serializeU32AsUleb128(2),void e.serializeStr(t.value.toString()));e.serializeU32AsUleb128(1),e.serializeU32AsUleb128(t.values.length);for(const n of t.values)te(e,n)}else e.serializeU32AsUleb128(0)}function ne(e){switch(e.deserializeUleb128AsU32()){case 0:return;case 1:{const t=e.deserializeUleb128AsU32(),n=[];for(let r=0;r<t;r+=1){const t=ne(e);n.push(t)}return n}case 3:return e.deserializeBytes();case 4:return e.deserialize(u.l);case 2:return e.deserializeStr();case 5:{const t=e.deserializeBytes();return new u.t(t)}default:throw new Error("Unexpected variant")}}function re(e,t){if(t instanceof u.h)e.serializeU32AsUleb128(u.E.Ed25519);else if(t instanceof u._)e.serializeU32AsUleb128(u.E.MultiEd25519);else{if(!(t instanceof u.O))throw new Error("Unexpected signature type");e.serializeU32AsUleb128(u.E.SingleKey)}e.serialize(t)}function ie(e){const t=e.deserializeUleb128AsU32();switch(t){case u.E.Ed25519:return e.deserialize(u.h);case u.E.MultiEd25519:return e.deserialize(u._);case u.E.SingleKey:return e.deserialize(u.O);default:throw new Error("Unknown signing scheme: ".concat(t))}}function se(e,t){e.serializeU32AsUleb128(t.length);for(const n of t){const t="string"==typeof n?(0,u.A)(n,{allowGenerics:!0}):n;e.serialize(t)}}function oe(e){const t=[],n=e.deserializeUleb128AsU32();for(let r=0;r<n;r+=1){const n=e.deserialize(u.U);t.push(n)}return t}function ae(e,t){e.serializeU32AsUleb128(t.length);for(const n of t)te(e,n)}function ce(e){const t=e.deserializeUleb128AsU32(),n=[];for(let r=0;r<t;r+=1){const t=ne(e);n.push(t)}return n}function le(e,t){var n;if("multisigAddress"in t){var r;e.serializeU32AsUleb128(2),e.serializeStr(t.function),ae(e,t.functionArguments),se(e,null!==(r=t.typeArguments)&&void 0!==r?r:[]);const n=u.l.from(t.multisigAddress);e.serialize(n)}else if("function"in t)e.serializeU32AsUleb128(0),e.serializeStr(t.function),ae(e,t.functionArguments),se(e,null!==(n=t.typeArguments)&&void 0!==n?n:[]);else{var i;e.serializeU32AsUleb128(1);const n=u.c.fromHexInput(t.bytecode);e.serializeBytes(n.toUint8Array()),e.serializeU32AsUleb128(t.functionArguments.length);for(const r of t.functionArguments)r.serializeForScriptFunction(e);se(e,null!==(i=t.typeArguments)&&void 0!==i?i:[])}}function ue(e){switch(e.deserializeUleb128AsU32()){case 2:{const t=e.deserializeStr(),n=ce(e),r=oe(e);return{function:t,functionArguments:n,multisigAddress:e.deserialize(u.l),typeArguments:r}}case 0:return{function:e.deserializeStr(),functionArguments:ce(e),typeArguments:oe(e)};case 1:{const t=e.deserializeBytes(),n=e.deserializeUleb128AsU32(),r=[];for(let i=0;i<n;i+=1){const t=(0,u.M)(e);r.push(t)}return{bytecode:t,functionArguments:r,typeArguments:oe(e)}}default:throw new Error("Unexpected variant")}}function de(e){let{dappInfo:t,name:n,version:r}=e;const i=new u.n;return $(i,t),{data:i.toUint8Array(),name:n,version:r}}function he(e){let{data:t,name:n,version:r}=e;return{dappInfo:ee(new u.b(t)),name:n,version:r}}function fe(e,t){let{args:n,dappInfo:r,name:i,version:s}=e;const o=new u.n;return $(o,r),t(o,n),{data:o.toUint8Array(),name:i,version:s}}function ge(e,t){let{data:n,name:r,version:i}=e;const s=new u.b(n),o=ee(s);return{args:t(s),dappInfo:o,name:r,version:i}}var pe,ye,we,me,Ae,ve,be,ze,Ue,Ee,_e,Se,Te,Me,Ie,Ne;function xe(e){return(t,n)=>{t.serializeBool("approved"===n.status),"approved"===n.status&&e(t,n.args)}}function ke(e){return t=>t.deserializeBool()?{args:e(t),status:"approved"}:{status:"dismissed"}}function Ce(e,t){const n=new u.n;return t(n,e),{data:n.toUint8Array()}}function De(e,t){let{data:n}=e;return{args:t(new u.b(n))}}(e=>{function t(e,t){if(e.serializeOptionStr(t.dappId),e.serializeOptionStr(t.dappEd25519PublicKeyB64),e.serializeOptionStr(t.preferredWalletName),e.serializeBool(void 0!==t.claimOptions),t.claimOptions&&(e.serialize(t.claimOptions.secretKey),e.serializeStr(t.claimOptions.network),e.serializeOptionStr(t.claimOptions.asset),!q(t.claimOptions.network)))throw new Error("Unsupported network '".concat(t.claimOptions.network,"'"))}function n(e,t){if(1===t)return{};const n=e.deserializeOption("string"),r=e.deserializeOption("string"),i=t>=3?e.deserializeOption("string"):void 0;let s;if(t>=4&&e.deserializeBool()){const t=e.deserialize(u.a),n=e.deserializeStr(),r=e.deserializeOption("string");if(!q(n))throw new Error("Unsupported network '".concat(n,"'"));s={asset:r,network:n,secretKey:t}}return{claimOptions:s,dappEd25519PublicKeyB64:r,dappId:n,preferredWalletName:i}}e.name="connect",e.supportedVersions=[1,2,3,4],e.currentVersion=4,e.serializeArgs=t,e.deserializeArgs=n,e.serialize=function(n){return fe({args:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},dappInfo:n,name:e.name,version:e.currentVersion},t)},e.deserialize=function(e){return ge(e,t=>n(t,e.version))},e.isSerialized=function(t){return t.name===e.name&&e.supportedVersions.includes(t.version)}})(pe||(pe={})),(e=>{e.supportedVersions=[1,2],e.currentVersion=2;const t=xe(function(e,t){Y(e,t.account)}),n=xe(function(e,t){Y(e,t.account),e.serializeOptionStr(void 0!==t.pairing?JSON.stringify(t.pairing):void 0)}),r=ke(function(e){const t=J(e),n=e.deserializeOption("string");return{account:t,pairing:void 0!==n?JSON.parse(n):void 0}});e.serialize=function(r){return Ce(r,1===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.currentVersion)?t:n)},e.deserialize=function(e){return De(e,r)}})(ye||(ye={})),(e=>{e.name="disconnect",e.currentVersion=1,e.serialize=function(t){return de({dappInfo:t,name:e.name,version:e.currentVersion})},e.deserialize=function(e){return he(e)},e.isSerialized=function(t){return t.name===e.name&&t.version===e.currentVersion}})(we||(we={})),(e=>{e.serialize=function(e){return Ce(e,()=>{})},e.deserialize=function(e){return De(e,()=>({}))}})(me||(me={})),(e=>{function t(e,t){if(void 0!==t.network&&!q(t.network))throw new Error("Unsupported network '".concat(t.network,"' in SignInRequest.serializeArgs"));(function(e,t){e.serializeStr(JSON.stringify(t))})(e,t),e.serializeStr(t.network)}function n(e,t){return(0,i.A)((0,i.A)({},function(e){return JSON.parse(e.deserializeStr())}(e)),{},{network:e.deserializeStr()})}e.name="signIn",e.supportedVersions=[1],e.currentVersion=1,e.serializeArgs=t,e.deserializeArgs=n,e.serialize=function(n,r){return fe({args:r,dappInfo:n,name:e.name,version:e.currentVersion},t)},e.deserialize=function(e){return ge(e,t=>n(t,e.version))},e.isSerialized=function(t){return t.name===e.name&&e.supportedVersions.includes(t.version)}})(Ae||(Ae={})),(e=>{e.supportedVersions=[1],e.currentVersion=1;const t=xe(function(e,t){!function(e,t){Y(e,t.account),e.serializeStr(JSON.stringify(t.input)),e.serializeStr(t.plainText),re(e,t.signature),e.serializeBytes(t.signingMessage),e.serializeStr(t.type)}(e,t)}),n=ke(function(e){return function(e){return{account:new C(J(e)),input:JSON.parse(e.deserializeStr()),plainText:e.deserializeStr(),signature:ie(e),signingMessage:e.deserializeBytes(),type:e.deserializeStr()}}(e)});e.serialize=function(n){return arguments.length>1&&void 0!==arguments[1]||e.currentVersion,Ce(n,t)},e.deserialize=function(e){return De(e,n)}})(ve||(ve={})),(e=>{e.name="getConnectedAccounts",e.currentVersion=1,e.serialize=function(t){return de({dappInfo:t,name:e.name,version:e.currentVersion})},e.deserialize=function(e){return he(e)},e.isSerialized=function(t){return t.name===e.name&&t.version===e.currentVersion}})(be||(be={})),(e=>{function t(e,t){e.serializeU32AsUleb128(t.length);for(const n of t)Y(e,n)}function n(e){const t=e.deserializeUleb128AsU32(),n=[];for(let r=0;r<t;r+=1)n.push(J(e));return n}e.serialize=function(e){return Ce(e,t)},e.deserialize=function(e){return De(e,n)}})(ze||(ze={})),(e=>{e.name="isConnected",e.currentVersion=1,e.serialize=function(t){return de({dappInfo:t,name:e.name,version:e.currentVersion})},e.deserialize=function(e){return he(e)},e.isSerialized=function(t){return t.name===e.name&&t.version===e.currentVersion}})(Ue||(Ue={})),(e=>{function t(e,t){e.serializeBool(t)}function n(e){return e.deserializeBool()}e.serialize=function(e){return Ce(e,t)},e.deserialize=function(e){return De(e,n)}})(Ee||(Ee={})),(e=>{function t(e,t){var n,r,i;if(void 0!==t.network&&!q(t.network))throw new Error("Unsupported network '".concat(t.network,"'"));e.serializeBool(void 0!==t.signerAddress),void 0!==t.signerAddress&&e.serialize(t.signerAddress),e.serializeOptionStr(t.network),"bcsToBytes"in t.payload?(e.serializeBool(!0),e.serialize(t.payload)):(e.serializeBool(!1),le(e,t.payload)),e.serializeU64(null!==(n=t.expirationTimestamp)&&void 0!==n?n:0),e.serializeU32AsUleb128(null!==(r=t.gasUnitPrice)&&void 0!==r?r:0),e.serializeU32AsUleb128(null!==(i=t.maxGasAmount)&&void 0!==i?i:0),e.serializeU32AsUleb128(t.feePayer?1:0),t.feePayer&&function(e,t){e.serialize(t.address),e.serialize(t.authenticator)}(e,t.feePayer)}function n(e,t){const n=t>=3&&e.deserializeBool()?e.deserialize(u.l):void 0,r=1===t?e.deserializeStr():e.deserializeOption("string");if(void 0!==r&&!q(r))throw new Error("Unsupported network '".concat(r,"'"));const i=1===t||e.deserializeBool()?e.deserialize(u.o):ue(e),s=Number(e.deserializeU64()),o=e.deserializeUleb128AsU32(),a=e.deserializeUleb128AsU32(),c=e.deserializeUleb128AsU32()?function(e){return{address:e.deserialize(u.l),authenticator:e.deserialize(u.V)}}(e):void 0;return{expirationTimestamp:s>0?s:void 0,feePayer:c,gasUnitPrice:o>0?o:void 0,maxGasAmount:a>0?a:void 0,network:r,payload:i,signerAddress:n}}e.name="signAndSubmitTransaction",e.supportedVersions=[1,2,3],e.currentVersion=3,e.serializeArgs=t,e.deserializeArgs=n,e.serialize=function(n,r){return fe({args:r,dappInfo:n,name:e.name,version:e.currentVersion},t)},e.deserialize=function(e){return ge(e,t=>n(t,e.version))},e.isSerialized=function(t){return t.name===e.name&&e.supportedVersions.includes(t.version)}})(_e||(_e={})),(e=>{const t=xe(function(e,t){e.serializeStr(t.txnHash)}),n=ke(function(e){return{txnHash:e.deserializeStr()}});e.serialize=function(e){return Ce(e,t)},e.deserialize=function(e){return De(e,n)}})(Se||(Se={})),(e=>{function t(e,t){e.serializeBool(void 0!==t.signerAddress),void 0!==t.signerAddress&&e.serialize(t.signerAddress),e.serializeU8(t.chainId),e.serializeBytes(t.nonce),e.serializeBytes(t.message)}e.name="signMessage",e.supportedVersions=[1,2],e.currentVersion=2,e.serialize=function(n,r){return fe({args:r,dappInfo:n,name:e.name,version:e.currentVersion},t)},e.deserialize=function(e){return ge(e,t=>function(e,t){const n=t>=2&&e.deserializeBool()?e.deserialize(u.l):void 0,r=e.deserializeU8(),i=e.deserializeBytes();return{chainId:r,message:e.deserializeBytes(),nonce:i,signerAddress:n}}(t,e.version))},e.isSerialized=function(t){return t.name===e.name&&t.version===e.currentVersion}})(Te||(Te={})),(e=>{const t=xe(function(e,t){e.serializeStr(t.fullMessage),re(e,t.signature)}),n=ke(function(e){return{fullMessage:e.deserializeStr(),signature:ie(e)}});e.serialize=function(e){return Ce(e,t)},e.deserialize=function(e){return De(e,n)}})(Me||(Me={})),(e=>{function t(e,t){var n,r,i,s,o;if(void 0!==t.network&&!q(t.network))throw new Error("Unsupported network '".concat(t.network,"'"));e.serializeBool(void 0!==t.signerAddress),void 0!==t.signerAddress&&e.serialize(t.signerAddress),e.serializeOptionStr(t.network),e.serializeBool(void 0!==t.sender),void 0!==t.sender&&Z(e,t.sender),"bcsToBytes"in t.payload?(e.serializeBool(!0),e.serialize(t.payload)):(e.serializeBool(!1),le(e,t.payload)),e.serializeU32AsUleb128(null!==(n=t.expirationSecondsFromNow)&&void 0!==n?n:0),e.serializeU64(null!==(r=t.expirationTimestamp)&&void 0!==r?r:0),e.serializeU32AsUleb128(null!==(i=t.gasUnitPrice)&&void 0!==i?i:0),e.serializeU32AsUleb128(null!==(s=t.maxGasAmount)&&void 0!==s?s:0),e.serializeBool(void 0!==t.feePayer),void 0!==t.feePayer&&Z(e,t.feePayer);const a=null!==(o=t.secondarySigners)&&void 0!==o?o:[];e.serializeU32AsUleb128(a.length);for(const c of a)Z(e,c)}e.name="signTransaction",e.supportedVersions=[1,2,3,4],e.currentVersion=4,e.normalizeArgs=function(e){const{feePayer:t,secondarySigners:n,senderPublicKey:r,signerAddress:i,transaction:s}=e,o={address:s.sender,publicKey:r},a=function(e){switch(e){case u.r.mainnet:return u.e.MAINNET;case u.r.testnet:return u.e.TESTNET;default:return u.e.DEVNET}}(e.transaction.chain_id.chainId);return{expirationTimestamp:Number(s.expiration_timestamp_secs),feePayer:t,gasUnitPrice:Number(s.gas_unit_price),maxGasAmount:Number(s.max_gas_amount),network:a,payload:s.payload,secondarySigners:n,sender:o,signerAddress:i}},e.serialize=function(n,r){return fe({args:r,dappInfo:n,name:e.name,version:e.currentVersion},t)},e.deserialize=function(e){return ge(e,t=>function(e,t){const n=t>=3&&e.deserializeBool()?e.deserialize(u.l):void 0,r=1===t?e.deserializeStr():e.deserializeOption("string");if(void 0!==r&&!q(r))throw new Error("Unsupported network '".concat(r,"'"));const i=e.deserializeBool()?X(e):void 0,s=t<4||e.deserializeBool()?e.deserialize(u.o):ue(e),o=e.deserializeUleb128AsU32(),a=Number(e.deserializeU64()),c=e.deserializeUleb128AsU32(),l=e.deserializeUleb128AsU32(),d=e.deserializeBool()?X(e):void 0,h=e.deserializeUleb128AsU32(),f=[];for(let u=0;u<h;u+=1)f.push(X(e));return{expirationSecondsFromNow:o>0?o:void 0,expirationTimestamp:a>0?a:void 0,feePayer:d,gasUnitPrice:c>0?c:void 0,maxGasAmount:l>0?l:void 0,network:r,payload:s,secondarySigners:f,sender:i,signerAddress:n}}(t,e.version))},e.isSerialized=function(t){return t.name===e.name&&e.supportedVersions.includes(t.version)}})(Ie||(Ie={})),(e=>{const t=xe(function(e,t){e.serialize(t.authenticator),e.serializeBool(void 0!==t.rawTransaction),void 0!==t.rawTransaction&&e.serialize(t.rawTransaction)}),n=ke(function(e){return{authenticator:e.deserialize(u.V),rawTransaction:e.deserializeBool()?e.deserialize(u.p):void 0}});e.serialize=function(e){return Ce(e,t)},e.deserialize=function(e){return De(e,n)}})(Ne||(Ne={}));var Oe=class extends Error{},je=class e extends Oe{constructor(t,n){super(t),this.field=n,this.name="EnvelopeMessageMismatchError",Object.setPrototypeOf(this,e.prototype)}},Be=class e extends Oe{constructor(t){super(t),this.name="DecryptionError",Object.setPrototypeOf(this,e.prototype)}},Le=(e=>(e.Ed25519PublicKey="Ed25519PublicKey",e.Ed25519SecretKey="Ed25519SecretKey",e.X25519PublicKey="X25519PublicKey",e.X25519SecretKey="X25519SecretKey",e))(Le||{});function Pe(){return function(e){return{publicKey:Fe(e.publicKey,"X25519PublicKey"),secretKey:Fe(e.secretKey,"X25519SecretKey")}}(h.u.box.keyPair())}function Re(){return function(e){return{publicKey:Fe(e.publicKey,"Ed25519PublicKey"),secretKey:Fe(e.secretKey,"Ed25519SecretKey")}}(h.u.sign.keyPair())}function Fe(e,t){return{key:e,type:t}}function Ke(e){return globalThis.Buffer?new Uint8Array(l.d.Buffer.from(e,"base64")):Uint8Array.from(atob(e),e=>e.codePointAt(0))}function We(e){return globalThis.Buffer?l.d.Buffer.from(e).toString("base64"):btoa(Array.from(e,e=>String.fromCodePoint(e)).join(""))}function He(e,t,n){const r=function(e,t){const n=V.convertPublicKey(e.key.slice(0,32));if(!n)throw new Error("".concat(t," is not a valid Ed25519 public key"));return Fe(n,"X25519PublicKey")}(t,"receiver public key");return function(e,t,n){return function(e,t,n){const r=h.u.randomBytes(h.u.box.nonceLength),i=(new TextEncoder).encode(n);return{nonce:r,secured:h.u.box(i,r,t.key,e.key.slice(0,32))}}(e,t,JSON.stringify(n))}(e,r,n)}function Ve(e,t,n,r){const i=function(e){return Fe(V.convertSecretKey(e.key.slice(0,32)),"X25519SecretKey")}(t);return function(e,t,n,r){const i=function(e,t,n,r){let i;try{i=h.u.box.open(n,r,e.key.slice(0,32),t.key.slice(0,32))}catch(s){throw new Be("Could not decrypt message: ".concat(s.message))}if(!i)throw new Be("Could not decrypt message");return(new TextDecoder).decode(i)}(e,t,n,r);return JSON.parse(i)}(e,i,n,r)}function qe(e,t){const n=new Uint8Array((0,l.cv)("".concat("APTOS::IDENTITY_CONNECT","::").concat(t,"::")));return new Uint8Array((0,l.cv)(function(e,t){const n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}(n,e)))}var Ge,Qe,Ye,Je,Ze,Xe,$e,et,tt,nt,rt,it,st,ot,at,ct,lt,ut,dt,ht,ft,gt,pt,yt,wt,mt,At,vt,bt,zt,Ut,Et,_t=["receiverEd25519PublicKeyB64","senderEd25519PublicKeyB64","senderX25519PublicKeyB64","sequence","timestampMillis"].sort();function St(e,t){const n=Object.keys(e).filter(e=>Object.keys(t).includes(e));if(n.length>0){const e=n[0];throw new je("Field ".concat(e," appears in both private and public message fields"),e)}}function Tt(e){const t=Object.keys(e).sort(),n=t.filter(e=>!_t.includes(e)),r=_t.filter(e=>!t.includes(e));if(n.length>0||r.length>0){let e=n.length>0?"extra(".concat(n.join(", "),")"):"";const t=r.length>0?"missing(".concat(r.join(", "),")"):"";throw e=e.length>0&&t.length>0?"".concat(e,", "):e,new je("PublicMessage metadata fields do not conform to spec: ".concat(e).concat(t),"_metadata")}}function Mt(e,t,n,r,s,o){const a=Pe(),c=function(e,t,n,r){return{receiverEd25519PublicKeyB64:We(t.key),senderEd25519PublicKeyB64:We(e.key),senderX25519PublicKeyB64:We(r.key),sequence:n,timestampMillis:Date.now()}}(t,n,r,a.publicKey);return Tt(c),St(o,s),function(e,t,n,r,s,o){const a=He(o.secretKey,t,r),c=function(e){return{nonceB64:We(e.nonce),securedB64:We(e.secured)}}(a),l=Ke(c.securedB64),d=JSON.stringify((0,i.A)((0,i.A)({},s),{},{_metadata:n})),f=function(e,t,n){const r=It(e,t),i=function(e,t,n){return h.u.sign.detached(qe(e,n),t.key)}(r,n,"SECURED_ENVELOPE");return u.c.fromHexInput(i).toString()}((new TextEncoder).encode(d),l,e);return{encryptedPrivateMessage:c,messageSignature:f,serializedPublicMessage:d}}(e,n,c,o,s,a)}function It(e,t){const n=(0,l.cv)(e),r=(0,l.cv)(t),i=new Uint8Array(n.length+r.length);return i.set(n),i.set(r,n.length),(0,l.cv)(i)}function Nt(e,t,n,r){const i=new u.h(u.c.fromHexInput(n).toUint8Array()),s=new u.f(r.key);if(!function(e,t,n,r){return n.verifySignature({message:qe(e,r),signature:t})}(It(e,t),i,s,"SECURED_ENVELOPE"))throw new je("Could not verify SecuredEnvelope signature","messageSignature")}function xt(e,t,n){const{encryptedPrivateMessage:r,messageSignature:i,serializedPublicMessage:s}=n,o=JSON.parse(s),a=Ke(r.securedB64);Nt((new TextEncoder).encode(s),a,i,e);if(We(e.key)!==o._metadata.senderEd25519PublicKeyB64)throw new je("senderEd25519PublicKey in envelope does not match provided receiverEd25519SecretKey","senderPublicKey");const c=Fe(Ke(o._metadata.senderX25519PublicKeyB64),"X25519PublicKey"),l=function(e){return{nonce:Ke(e.nonceB64),secured:Ke(e.securedB64)}}(r),u=Ve(c,t,l.secured,l.nonce);return Tt(o._metadata),St(u,o),{messageSignature:i,privateMessage:u,publicMessage:o}}function kt(e){const t=new u.n;return G(t,e),function(e){const t=String.fromCharCode(...e);return btoa(t)}(t.toUint8Array())}function Ct(e){const t=function(e){const t=atob(e);return Uint8Array.from(t,e=>e.charCodeAt(0))}(e);return Q(new u.b(t))}function Dt(e){return new u.f(Ke(e))}function Ot(e){switch(e){case u.r.mainnet:return u.e.MAINNET;case u.r.testnet:return u.e.TESTNET;default:return u.e.DEVNET}}function jt(e){return[u.e.MAINNET,u.e.TESTNET,u.e.DEVNET].includes(e)}function Bt(e,t){if(t instanceof u.f)e.serializeU32AsUleb128(u.E.Ed25519);else if(t instanceof u.F)e.serializeU32AsUleb128(u.E.MultiEd25519);else if(t instanceof u.k)e.serializeU32AsUleb128(u.E.SingleKey);else{if(!(t instanceof u.S))throw new Error("Unexpected public key type");e.serializeU32AsUleb128(u.E.MultiKey)}e.serialize(t)}function Lt(e){const t=e.deserializeUleb128AsU32();switch(t){case u.E.Ed25519:return e.deserialize(u.f);case u.E.MultiEd25519:return e.deserialize(u.F);case u.E.SingleKey:return e.deserialize(u.k);case u.E.MultiKey:return e.deserialize(u.S);default:throw new Error("Unknown signing scheme: ".concat(t))}}function Pt(e,t){var n;e.serialize(t.address),Bt(e,t.publicKey),e.serializeStr(null!==(n=t.name)&&void 0!==n?n:"")}function Rt(e){const t=e.deserialize(u.l),n=Lt(e),r=e.deserializeStr();return(0,i.A)({address:t,publicKey:n},r.length>0?{name:r}:void 0)}function Ft(e,t){e.serialize(t.address),e.serializeBool(void 0!==t.publicKey),t.publicKey&&Bt(e,t.publicKey)}function Kt(e){return{address:e.deserialize(u.l),publicKey:e.deserializeBool()?Lt(e):void 0}}function Wt(e,t){e.serializeStr(t.domain),e.serializeStr(t.name),e.serializeBool(void 0!==t.imageURI),void 0!==t.imageURI&&e.serializeStr(t.imageURI)}function Ht(e){const t=e.deserializeStr(),n=e.deserializeStr();return{domain:t,imageURI:e.deserializeBool()?e.deserializeStr():void 0,name:n}}function Vt(e,t){if(null!=t)if(Array.isArray(t)){e.serializeU32AsUleb128(1),e.serializeU32AsUleb128(t.length);for(const n of t)Vt(e,n)}else{if("string"==typeof t||"number"==typeof t||"boolean"==typeof t||"bigint"==typeof t)return e.serializeU32AsUleb128(2),void e.serializeStr(t.toString());if(t instanceof Uint8Array)return e.serializeU32AsUleb128(3),void e.serializeBytes(t);if(t instanceof ArrayBuffer)return e.serializeU32AsUleb128(3),void e.serializeBytes(new Uint8Array(t));if(!("values"in t))return"data"in t?(e.serializeU32AsUleb128(4),void e.serialize(t)):void 0===t.value?(e.serializeU32AsUleb128(0),void e.serialize(t)):t.value instanceof Uint8Array?(e.serializeU32AsUleb128(5),void e.serializeBytes(t.value)):(e.serializeU32AsUleb128(2),void e.serializeStr(t.value.toString()));e.serializeU32AsUleb128(1),e.serializeU32AsUleb128(t.values.length);for(const n of t.values)Vt(e,n)}else e.serializeU32AsUleb128(0)}function qt(e){switch(e.deserializeUleb128AsU32()){case 0:return;case 1:{const t=e.deserializeUleb128AsU32(),n=[];for(let r=0;r<t;r+=1){const t=qt(e);n.push(t)}return n}case 3:return e.deserializeBytes();case 4:return e.deserialize(u.l);case 2:return e.deserializeStr();case 5:{const t=e.deserializeBytes();return new u.t(t)}default:throw new Error("Unexpected variant")}}function Gt(e,t){if(t instanceof u.h)e.serializeU32AsUleb128(u.E.Ed25519);else if(t instanceof u._)e.serializeU32AsUleb128(u.E.MultiEd25519);else{if(!(t instanceof u.O))throw new Error("Unexpected signature type");e.serializeU32AsUleb128(u.E.SingleKey)}e.serialize(t)}function Qt(e){const t=e.deserializeUleb128AsU32();switch(t){case u.E.Ed25519:return e.deserialize(u.h);case u.E.MultiEd25519:return e.deserialize(u._);case u.E.SingleKey:return e.deserialize(u.O);default:throw new Error("Unknown signing scheme: ".concat(t))}}function Yt(e,t){e.serializeU32AsUleb128(t.length);for(const n of t){const t="string"==typeof n?(0,u.A)(n,{allowGenerics:!0}):n;e.serialize(t)}}function Jt(e){const t=[],n=e.deserializeUleb128AsU32();for(let r=0;r<n;r+=1){const n=e.deserialize(u.U);t.push(n)}return t}function Zt(e,t){e.serializeU32AsUleb128(t.length);for(const n of t)Vt(e,n)}function Xt(e){const t=e.deserializeUleb128AsU32(),n=[];for(let r=0;r<t;r+=1){const t=qt(e);n.push(t)}return n}function $t(e,t){var n;if("multisigAddress"in t){var r;e.serializeU32AsUleb128(2),e.serializeStr(t.function),Zt(e,t.functionArguments),Yt(e,null!==(r=t.typeArguments)&&void 0!==r?r:[]);const n=u.l.from(t.multisigAddress);e.serialize(n)}else if("function"in t)e.serializeU32AsUleb128(0),e.serializeStr(t.function),Zt(e,t.functionArguments),Yt(e,null!==(n=t.typeArguments)&&void 0!==n?n:[]);else{var i;e.serializeU32AsUleb128(1);const n=u.c.fromHexInput(t.bytecode);e.serializeBytes(n.toUint8Array()),e.serializeU32AsUleb128(t.functionArguments.length);for(const r of t.functionArguments)r.serializeForScriptFunction(e);Yt(e,null!==(i=t.typeArguments)&&void 0!==i?i:[])}}function en(e){switch(e.deserializeUleb128AsU32()){case 2:{const t=e.deserializeStr(),n=Xt(e),r=Jt(e);return{function:t,functionArguments:n,multisigAddress:e.deserialize(u.l),typeArguments:r}}case 0:return{function:e.deserializeStr(),functionArguments:Xt(e),typeArguments:Jt(e)};case 1:{const t=e.deserializeBytes(),n=e.deserializeUleb128AsU32(),r=[];for(let i=0;i<n;i+=1){const t=(0,u.M)(e);r.push(t)}return{bytecode:t,functionArguments:r,typeArguments:Jt(e)}}default:throw new Error("Unexpected variant")}}function tn(e){let{dappInfo:t,name:n,version:r}=e;const i=new u.n;return Wt(i,t),{data:i.toUint8Array(),name:n,version:r}}function nn(e){let{data:t,name:n,version:r}=e;return{dappInfo:Ht(new u.b(t)),name:n,version:r}}function rn(e,t){let{args:n,dappInfo:r,name:i,version:s}=e;const o=new u.n;return Wt(o,r),t(o,n),{data:o.toUint8Array(),name:i,version:s}}function sn(e,t){let{data:n,name:r,version:i}=e;const s=new u.b(n),o=Ht(s);return{args:t(s),dappInfo:o,name:r,version:i}}function on(e){return{args:e,status:"approved"}}function an(e){return(t,n)=>{t.serializeBool("approved"===n.status),"approved"===n.status&&e(t,n.args)}}function cn(e){return t=>t.deserializeBool()?{args:e(t),status:"approved"}:{status:"dismissed"}}function ln(e,t){const n=new u.n;return t(n,e),{data:n.toUint8Array()}}function un(e,t){let{data:n}=e;return{args:t(new u.b(n))}}function dn(e){const t=atob(e);return Uint8Array.from(t,e=>e.charCodeAt(0))}function hn(e){const t=String.fromCharCode(...e);return btoa(t)}function fn(e){return hn(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function gn(e){return[u.e.MAINNET,u.e.TESTNET,u.e.DEVNET].includes(e)}function pn(e,t){if(t instanceof u.f)e.serializeU32AsUleb128(u.E.Ed25519);else if(t instanceof u.F)e.serializeU32AsUleb128(u.E.MultiEd25519);else if(t instanceof u.k)e.serializeU32AsUleb128(u.E.SingleKey);else{if(!(t instanceof u.S))throw new Error("Unexpected public key type");e.serializeU32AsUleb128(u.E.MultiKey)}e.serialize(t)}function yn(e){const t=e.deserializeUleb128AsU32();switch(t){case u.E.Ed25519:return e.deserialize(u.f);case u.E.MultiEd25519:return e.deserialize(u.F);case u.E.SingleKey:return e.deserialize(u.k);case u.E.MultiKey:return e.deserialize(u.S);default:throw new Error("Unknown signing scheme: ".concat(t))}}function wn(e,t){var n;e.serialize(t.address),pn(e,t.publicKey),e.serializeStr(null!==(n=t.name)&&void 0!==n?n:"")}function mn(e){const t=e.deserialize(u.l),n=yn(e),r=e.deserializeStr();return(0,i.A)({address:t,publicKey:n},r.length>0?{name:r}:void 0)}function An(e,t){e.serialize(t.address),e.serializeBool(void 0!==t.publicKey),t.publicKey&&pn(e,t.publicKey)}function vn(e){return{address:e.deserialize(u.l),publicKey:e.deserializeBool()?yn(e):void 0}}function bn(e,t){e.serializeStr(t.domain),e.serializeStr(t.name),e.serializeBool(void 0!==t.imageURI),void 0!==t.imageURI&&e.serializeStr(t.imageURI)}function zn(e){const t=e.deserializeStr(),n=e.deserializeStr();return{domain:t,imageURI:e.deserializeBool()?e.deserializeStr():void 0,name:n}}function Un(e,t){if(null!=t)if(Array.isArray(t)){e.serializeU32AsUleb128(1),e.serializeU32AsUleb128(t.length);for(const n of t)Un(e,n)}else{if("string"==typeof t||"number"==typeof t||"boolean"==typeof t||"bigint"==typeof t)return e.serializeU32AsUleb128(2),void e.serializeStr(t.toString());if(t instanceof Uint8Array)return e.serializeU32AsUleb128(3),void e.serializeBytes(t);if(t instanceof ArrayBuffer)return e.serializeU32AsUleb128(3),void e.serializeBytes(new Uint8Array(t));if(!("values"in t))return"data"in t?(e.serializeU32AsUleb128(4),void e.serialize(t)):void 0===t.value?(e.serializeU32AsUleb128(0),void e.serialize(t)):t.value instanceof Uint8Array?(e.serializeU32AsUleb128(5),void e.serializeBytes(t.value)):(e.serializeU32AsUleb128(2),void e.serializeStr(t.value.toString()));e.serializeU32AsUleb128(1),e.serializeU32AsUleb128(t.values.length);for(const n of t.values)Un(e,n)}else e.serializeU32AsUleb128(0)}function En(e){switch(e.deserializeUleb128AsU32()){case 0:return;case 1:{const t=e.deserializeUleb128AsU32(),n=[];for(let r=0;r<t;r+=1){const t=En(e);n.push(t)}return n}case 3:return e.deserializeBytes();case 4:return e.deserialize(u.l);case 2:return e.deserializeStr();case 5:{const t=e.deserializeBytes();return new u.t(t)}default:throw new Error("Unexpected variant")}}function _n(e,t){if(t instanceof u.h)e.serializeU32AsUleb128(u.E.Ed25519);else if(t instanceof u._)e.serializeU32AsUleb128(u.E.MultiEd25519);else{if(!(t instanceof u.O))throw new Error("Unexpected signature type");e.serializeU32AsUleb128(u.E.SingleKey)}e.serialize(t)}function Sn(e){const t=e.deserializeUleb128AsU32();switch(t){case u.E.Ed25519:return e.deserialize(u.h);case u.E.MultiEd25519:return e.deserialize(u._);case u.E.SingleKey:return e.deserialize(u.O);default:throw new Error("Unknown signing scheme: ".concat(t))}}function Tn(e,t){e.serializeU32AsUleb128(t.length);for(const n of t){const t="string"==typeof n?(0,u.A)(n,{allowGenerics:!0}):n;e.serialize(t)}}function Mn(e){const t=[],n=e.deserializeUleb128AsU32();for(let r=0;r<n;r+=1){const n=e.deserialize(u.U);t.push(n)}return t}function In(e,t){e.serializeU32AsUleb128(t.length);for(const n of t)Un(e,n)}function Nn(e){const t=e.deserializeUleb128AsU32(),n=[];for(let r=0;r<t;r+=1){const t=En(e);n.push(t)}return n}function xn(e,t){var n;if("multisigAddress"in t){var r;e.serializeU32AsUleb128(2),e.serializeStr(t.function),In(e,t.functionArguments),Tn(e,null!==(r=t.typeArguments)&&void 0!==r?r:[]);const n=u.l.from(t.multisigAddress);e.serialize(n)}else if("function"in t)e.serializeU32AsUleb128(0),e.serializeStr(t.function),In(e,t.functionArguments),Tn(e,null!==(n=t.typeArguments)&&void 0!==n?n:[]);else{var i;e.serializeU32AsUleb128(1);const n=u.c.fromHexInput(t.bytecode);e.serializeBytes(n.toUint8Array()),e.serializeU32AsUleb128(t.functionArguments.length);for(const r of t.functionArguments)r.serializeForScriptFunction(e);Tn(e,null!==(i=t.typeArguments)&&void 0!==i?i:[])}}function kn(e){switch(e.deserializeUleb128AsU32()){case 2:{const t=e.deserializeStr(),n=Nn(e),r=Mn(e);return{function:t,functionArguments:n,multisigAddress:e.deserialize(u.l),typeArguments:r}}case 0:return{function:e.deserializeStr(),functionArguments:Nn(e),typeArguments:Mn(e)};case 1:{const t=e.deserializeBytes(),n=e.deserializeUleb128AsU32(),r=[];for(let i=0;i<n;i+=1){const t=(0,u.M)(e);r.push(t)}return{bytecode:t,functionArguments:r,typeArguments:Mn(e)}}default:throw new Error("Unexpected variant")}}function Cn(e){let{dappInfo:t,name:n,version:r}=e;const i=new u.n;return bn(i,t),{data:i.toUint8Array(),name:n,version:r}}function Dn(e){let{data:t,name:n,version:r}=e;return{dappInfo:zn(new u.b(t)),name:n,version:r}}function On(e,t){let{args:n,dappInfo:r,name:i,version:s}=e;const o=new u.n;return bn(o,r),t(o,n),{data:o.toUint8Array(),name:i,version:s}}function jn(e,t){let{data:n,name:r,version:i}=e;const s=new u.b(n),o=zn(s);return{args:t(s),dappInfo:o,name:r,version:i}}function Bn(e){return(t,n)=>{t.serializeBool("approved"===n.status),"approved"===n.status&&e(t,n.args)}}function Ln(e){return t=>t.deserializeBool()?{args:e(t),status:"approved"}:{status:"dismissed"}}function Pn(e,t){const n=new u.n;return t(n,e),{data:n.toUint8Array()}}function Rn(e,t){let{data:n}=e;return{args:t(new u.b(n))}}function Fn(e,t){return(null==t?void 0:t.__messageType)===e.TYPE}(e=>{function t(e,t){if(e.serializeOptionStr(t.dappId),e.serializeOptionStr(t.dappEd25519PublicKeyB64),e.serializeOptionStr(t.preferredWalletName),e.serializeBool(void 0!==t.claimOptions),t.claimOptions&&(e.serialize(t.claimOptions.secretKey),e.serializeStr(t.claimOptions.network),e.serializeOptionStr(t.claimOptions.asset),!jt(t.claimOptions.network)))throw new Error("Unsupported network '".concat(t.claimOptions.network,"'"))}function n(e,t){if(1===t)return{};const n=e.deserializeOption("string"),r=e.deserializeOption("string"),i=t>=3?e.deserializeOption("string"):void 0;let s;if(t>=4&&e.deserializeBool()){const t=e.deserialize(u.a),n=e.deserializeStr(),r=e.deserializeOption("string");if(!jt(n))throw new Error("Unsupported network '".concat(n,"'"));s={asset:r,network:n,secretKey:t}}return{claimOptions:s,dappEd25519PublicKeyB64:r,dappId:n,preferredWalletName:i}}e.name="connect",e.supportedVersions=[1,2,3,4],e.currentVersion=4,e.serializeArgs=t,e.deserializeArgs=n,e.serialize=function(n){return rn({args:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},dappInfo:n,name:e.name,version:e.currentVersion},t)},e.deserialize=function(e){return sn(e,t=>n(t,e.version))},e.isSerialized=function(t){return t.name===e.name&&e.supportedVersions.includes(t.version)}})(Ge||(Ge={})),(e=>{e.supportedVersions=[1,2],e.currentVersion=2;const t=an(function(e,t){Pt(e,t.account)}),n=an(function(e,t){Pt(e,t.account),e.serializeOptionStr(void 0!==t.pairing?JSON.stringify(t.pairing):void 0)}),r=cn(function(e){const t=Rt(e),n=e.deserializeOption("string");return{account:t,pairing:void 0!==n?JSON.parse(n):void 0}});e.serialize=function(r){return ln(r,1===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.currentVersion)?t:n)},e.deserialize=function(e){return un(e,r)}})(Qe||(Qe={})),(e=>{e.name="disconnect",e.currentVersion=1,e.serialize=function(t){return tn({dappInfo:t,name:e.name,version:e.currentVersion})},e.deserialize=function(e){return nn(e)},e.isSerialized=function(t){return t.name===e.name&&t.version===e.currentVersion}})(Ye||(Ye={})),(e=>{e.serialize=function(e){return ln(e,()=>{})},e.deserialize=function(e){return un(e,()=>({}))}})(Je||(Je={})),(e=>{function t(e,t){if(void 0!==t.network&&!jt(t.network))throw new Error("Unsupported network '".concat(t.network,"' in SignInRequest.serializeArgs"));(function(e,t){e.serializeStr(JSON.stringify(t))})(e,t),e.serializeStr(t.network)}function n(e,t){return(0,i.A)((0,i.A)({},function(e){return JSON.parse(e.deserializeStr())}(e)),{},{network:e.deserializeStr()})}e.name="signIn",e.supportedVersions=[1],e.currentVersion=1,e.serializeArgs=t,e.deserializeArgs=n,e.serialize=function(n,r){return rn({args:r,dappInfo:n,name:e.name,version:e.currentVersion},t)},e.deserialize=function(e){return sn(e,t=>n(t,e.version))},e.isSerialized=function(t){return t.name===e.name&&e.supportedVersions.includes(t.version)}})(Ze||(Ze={})),(e=>{e.supportedVersions=[1],e.currentVersion=1;const t=an(function(e,t){!function(e,t){Pt(e,t.account),e.serializeStr(JSON.stringify(t.input)),e.serializeStr(t.plainText),Gt(e,t.signature),e.serializeBytes(t.signingMessage),e.serializeStr(t.type)}(e,t)}),n=cn(function(e){return function(e){return{account:new C(Rt(e)),input:JSON.parse(e.deserializeStr()),plainText:e.deserializeStr(),signature:Qt(e),signingMessage:e.deserializeBytes(),type:e.deserializeStr()}}(e)});e.serialize=function(n){return arguments.length>1&&void 0!==arguments[1]||e.currentVersion,ln(n,t)},e.deserialize=function(e){return un(e,n)}})(Xe||(Xe={})),(e=>{e.name="getConnectedAccounts",e.currentVersion=1,e.serialize=function(t){return tn({dappInfo:t,name:e.name,version:e.currentVersion})},e.deserialize=function(e){return nn(e)},e.isSerialized=function(t){return t.name===e.name&&t.version===e.currentVersion}})($e||($e={})),(e=>{function t(e,t){e.serializeU32AsUleb128(t.length);for(const n of t)Pt(e,n)}function n(e){const t=e.deserializeUleb128AsU32(),n=[];for(let r=0;r<t;r+=1)n.push(Rt(e));return n}e.serialize=function(e){return ln(e,t)},e.deserialize=function(e){return un(e,n)}})(et||(et={})),(e=>{e.name="isConnected",e.currentVersion=1,e.serialize=function(t){return tn({dappInfo:t,name:e.name,version:e.currentVersion})},e.deserialize=function(e){return nn(e)},e.isSerialized=function(t){return t.name===e.name&&t.version===e.currentVersion}})(tt||(tt={})),(e=>{function t(e,t){e.serializeBool(t)}function n(e){return e.deserializeBool()}e.serialize=function(e){return ln(e,t)},e.deserialize=function(e){return un(e,n)}})(nt||(nt={})),(e=>{function t(e,t){var n,r,i;if(void 0!==t.network&&!jt(t.network))throw new Error("Unsupported network '".concat(t.network,"'"));e.serializeBool(void 0!==t.signerAddress),void 0!==t.signerAddress&&e.serialize(t.signerAddress),e.serializeOptionStr(t.network),"bcsToBytes"in t.payload?(e.serializeBool(!0),e.serialize(t.payload)):(e.serializeBool(!1),$t(e,t.payload)),e.serializeU64(null!==(n=t.expirationTimestamp)&&void 0!==n?n:0),e.serializeU32AsUleb128(null!==(r=t.gasUnitPrice)&&void 0!==r?r:0),e.serializeU32AsUleb128(null!==(i=t.maxGasAmount)&&void 0!==i?i:0),e.serializeU32AsUleb128(t.feePayer?1:0),t.feePayer&&function(e,t){e.serialize(t.address),e.serialize(t.authenticator)}(e,t.feePayer)}function n(e,t){const n=t>=3&&e.deserializeBool()?e.deserialize(u.l):void 0,r=1===t?e.deserializeStr():e.deserializeOption("string");if(void 0!==r&&!jt(r))throw new Error("Unsupported network '".concat(r,"'"));const i=1===t||e.deserializeBool()?e.deserialize(u.o):en(e),s=Number(e.deserializeU64()),o=e.deserializeUleb128AsU32(),a=e.deserializeUleb128AsU32(),c=e.deserializeUleb128AsU32()?function(e){return{address:e.deserialize(u.l),authenticator:e.deserialize(u.V)}}(e):void 0;return{expirationTimestamp:s>0?s:void 0,feePayer:c,gasUnitPrice:o>0?o:void 0,maxGasAmount:a>0?a:void 0,network:r,payload:i,signerAddress:n}}e.name="signAndSubmitTransaction",e.supportedVersions=[1,2,3],e.currentVersion=3,e.serializeArgs=t,e.deserializeArgs=n,e.serialize=function(n,r){return rn({args:r,dappInfo:n,name:e.name,version:e.currentVersion},t)},e.deserialize=function(e){return sn(e,t=>n(t,e.version))},e.isSerialized=function(t){return t.name===e.name&&e.supportedVersions.includes(t.version)}})(rt||(rt={})),(e=>{const t=an(function(e,t){e.serializeStr(t.txnHash)}),n=cn(function(e){return{txnHash:e.deserializeStr()}});e.serialize=function(e){return ln(e,t)},e.deserialize=function(e){return un(e,n)}})(it||(it={})),(e=>{function t(e,t){e.serializeBool(void 0!==t.signerAddress),void 0!==t.signerAddress&&e.serialize(t.signerAddress),e.serializeU8(t.chainId),e.serializeBytes(t.nonce),e.serializeBytes(t.message)}e.name="signMessage",e.supportedVersions=[1,2],e.currentVersion=2,e.serialize=function(n,r){return rn({args:r,dappInfo:n,name:e.name,version:e.currentVersion},t)},e.deserialize=function(e){return sn(e,t=>function(e,t){const n=t>=2&&e.deserializeBool()?e.deserialize(u.l):void 0,r=e.deserializeU8(),i=e.deserializeBytes();return{chainId:r,message:e.deserializeBytes(),nonce:i,signerAddress:n}}(t,e.version))},e.isSerialized=function(t){return t.name===e.name&&t.version===e.currentVersion}})(st||(st={})),(e=>{const t=an(function(e,t){e.serializeStr(t.fullMessage),Gt(e,t.signature)}),n=cn(function(e){return{fullMessage:e.deserializeStr(),signature:Qt(e)}});e.serialize=function(e){return ln(e,t)},e.deserialize=function(e){return un(e,n)}})(ot||(ot={})),(e=>{function t(e,t){var n,r,i,s,o;if(void 0!==t.network&&!jt(t.network))throw new Error("Unsupported network '".concat(t.network,"'"));e.serializeBool(void 0!==t.signerAddress),void 0!==t.signerAddress&&e.serialize(t.signerAddress),e.serializeOptionStr(t.network),e.serializeBool(void 0!==t.sender),void 0!==t.sender&&Ft(e,t.sender),"bcsToBytes"in t.payload?(e.serializeBool(!0),e.serialize(t.payload)):(e.serializeBool(!1),$t(e,t.payload)),e.serializeU32AsUleb128(null!==(n=t.expirationSecondsFromNow)&&void 0!==n?n:0),e.serializeU64(null!==(r=t.expirationTimestamp)&&void 0!==r?r:0),e.serializeU32AsUleb128(null!==(i=t.gasUnitPrice)&&void 0!==i?i:0),e.serializeU32AsUleb128(null!==(s=t.maxGasAmount)&&void 0!==s?s:0),e.serializeBool(void 0!==t.feePayer),void 0!==t.feePayer&&Ft(e,t.feePayer);const a=null!==(o=t.secondarySigners)&&void 0!==o?o:[];e.serializeU32AsUleb128(a.length);for(const c of a)Ft(e,c)}e.name="signTransaction",e.supportedVersions=[1,2,3,4],e.currentVersion=4,e.normalizeArgs=function(e){const{feePayer:t,secondarySigners:n,senderPublicKey:r,signerAddress:i,transaction:s}=e,o={address:s.sender,publicKey:r},a=Ot(e.transaction.chain_id.chainId);return{expirationTimestamp:Number(s.expiration_timestamp_secs),feePayer:t,gasUnitPrice:Number(s.gas_unit_price),maxGasAmount:Number(s.max_gas_amount),network:a,payload:s.payload,secondarySigners:n,sender:o,signerAddress:i}},e.serialize=function(n,r){return rn({args:r,dappInfo:n,name:e.name,version:e.currentVersion},t)},e.deserialize=function(e){return sn(e,t=>function(e,t){const n=t>=3&&e.deserializeBool()?e.deserialize(u.l):void 0,r=1===t?e.deserializeStr():e.deserializeOption("string");if(void 0!==r&&!jt(r))throw new Error("Unsupported network '".concat(r,"'"));const i=e.deserializeBool()?Kt(e):void 0,s=t<4||e.deserializeBool()?e.deserialize(u.o):en(e),o=e.deserializeUleb128AsU32(),a=Number(e.deserializeU64()),c=e.deserializeUleb128AsU32(),l=e.deserializeUleb128AsU32(),d=e.deserializeBool()?Kt(e):void 0,h=e.deserializeUleb128AsU32(),f=[];for(let u=0;u<h;u+=1)f.push(Kt(e));return{expirationSecondsFromNow:o>0?o:void 0,expirationTimestamp:a>0?a:void 0,feePayer:d,gasUnitPrice:c>0?c:void 0,maxGasAmount:l>0?l:void 0,network:r,payload:s,secondarySigners:f,sender:i,signerAddress:n}}(t,e.version))},e.isSerialized=function(t){return t.name===e.name&&e.supportedVersions.includes(t.version)}})(at||(at={})),(e=>{const t=an(function(e,t){e.serialize(t.authenticator),e.serializeBool(void 0!==t.rawTransaction),void 0!==t.rawTransaction&&e.serialize(t.rawTransaction)}),n=cn(function(e){return{authenticator:e.deserialize(u.V),rawTransaction:e.deserializeBool()?e.deserialize(u.p):void 0}});e.serialize=function(e){return ln(e,t)},e.deserialize=function(e){return un(e,n)}})(ct||(ct={})),(e=>{function t(e,t){if(e.serializeOptionStr(t.dappId),e.serializeOptionStr(t.dappEd25519PublicKeyB64),e.serializeOptionStr(t.preferredWalletName),e.serializeBool(void 0!==t.claimOptions),t.claimOptions&&(e.serialize(t.claimOptions.secretKey),e.serializeStr(t.claimOptions.network),e.serializeOptionStr(t.claimOptions.asset),!gn(t.claimOptions.network)))throw new Error("Unsupported network '".concat(t.claimOptions.network,"'"))}function n(e,t){if(1===t)return{};const n=e.deserializeOption("string"),r=e.deserializeOption("string"),i=t>=3?e.deserializeOption("string"):void 0;let s;if(t>=4&&e.deserializeBool()){const t=e.deserialize(u.a),n=e.deserializeStr(),r=e.deserializeOption("string");if(!gn(n))throw new Error("Unsupported network '".concat(n,"'"));s={asset:r,network:n,secretKey:t}}return{claimOptions:s,dappEd25519PublicKeyB64:r,dappId:n,preferredWalletName:i}}e.name="connect",e.supportedVersions=[1,2,3,4],e.currentVersion=4,e.serializeArgs=t,e.deserializeArgs=n,e.serialize=function(n){return On({args:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},dappInfo:n,name:e.name,version:e.currentVersion},t)},e.deserialize=function(e){return jn(e,t=>n(t,e.version))},e.isSerialized=function(t){return t.name===e.name&&e.supportedVersions.includes(t.version)}})(lt||(lt={})),(e=>{e.supportedVersions=[1,2],e.currentVersion=2;const t=Bn(function(e,t){wn(e,t.account)}),n=Bn(function(e,t){wn(e,t.account),e.serializeOptionStr(void 0!==t.pairing?JSON.stringify(t.pairing):void 0)}),r=Ln(function(e){const t=mn(e),n=e.deserializeOption("string");return{account:t,pairing:void 0!==n?JSON.parse(n):void 0}});e.serialize=function(r){return Pn(r,1===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.currentVersion)?t:n)},e.deserialize=function(e){return Rn(e,r)}})(ut||(ut={})),(e=>{e.name="disconnect",e.currentVersion=1,e.serialize=function(t){return Cn({dappInfo:t,name:e.name,version:e.currentVersion})},e.deserialize=function(e){return Dn(e)},e.isSerialized=function(t){return t.name===e.name&&t.version===e.currentVersion}})(dt||(dt={})),(e=>{e.serialize=function(e){return Pn(e,()=>{})},e.deserialize=function(e){return Rn(e,()=>({}))}})(ht||(ht={})),(e=>{function t(e,t){if(void 0!==t.network&&!gn(t.network))throw new Error("Unsupported network '".concat(t.network,"' in SignInRequest.serializeArgs"));(function(e,t){e.serializeStr(JSON.stringify(t))})(e,t),e.serializeStr(t.network)}function n(e,t){return(0,i.A)((0,i.A)({},function(e){return JSON.parse(e.deserializeStr())}(e)),{},{network:e.deserializeStr()})}e.name="signIn",e.supportedVersions=[1],e.currentVersion=1,e.serializeArgs=t,e.deserializeArgs=n,e.serialize=function(n,r){return On({args:r,dappInfo:n,name:e.name,version:e.currentVersion},t)},e.deserialize=function(e){return jn(e,t=>n(t,e.version))},e.isSerialized=function(t){return t.name===e.name&&e.supportedVersions.includes(t.version)}})(ft||(ft={})),(e=>{e.supportedVersions=[1],e.currentVersion=1;const t=Bn(function(e,t){!function(e,t){wn(e,t.account),e.serializeStr(JSON.stringify(t.input)),e.serializeStr(t.plainText),_n(e,t.signature),e.serializeBytes(t.signingMessage),e.serializeStr(t.type)}(e,t)}),n=Ln(function(e){return function(e){return{account:new C(mn(e)),input:JSON.parse(e.deserializeStr()),plainText:e.deserializeStr(),signature:Sn(e),signingMessage:e.deserializeBytes(),type:e.deserializeStr()}}(e)});e.serialize=function(n){return arguments.length>1&&void 0!==arguments[1]||e.currentVersion,Pn(n,t)},e.deserialize=function(e){return Rn(e,n)}})(gt||(gt={})),(e=>{e.name="getConnectedAccounts",e.currentVersion=1,e.serialize=function(t){return Cn({dappInfo:t,name:e.name,version:e.currentVersion})},e.deserialize=function(e){return Dn(e)},e.isSerialized=function(t){return t.name===e.name&&t.version===e.currentVersion}})(pt||(pt={})),(e=>{function t(e,t){e.serializeU32AsUleb128(t.length);for(const n of t)wn(e,n)}function n(e){const t=e.deserializeUleb128AsU32(),n=[];for(let r=0;r<t;r+=1)n.push(mn(e));return n}e.serialize=function(e){return Pn(e,t)},e.deserialize=function(e){return Rn(e,n)}})(yt||(yt={})),(e=>{e.name="isConnected",e.currentVersion=1,e.serialize=function(t){return Cn({dappInfo:t,name:e.name,version:e.currentVersion})},e.deserialize=function(e){return Dn(e)},e.isSerialized=function(t){return t.name===e.name&&t.version===e.currentVersion}})(wt||(wt={})),(e=>{function t(e,t){e.serializeBool(t)}function n(e){return e.deserializeBool()}e.serialize=function(e){return Pn(e,t)},e.deserialize=function(e){return Rn(e,n)}})(mt||(mt={})),(e=>{function t(e,t){var n,r,i;if(void 0!==t.network&&!gn(t.network))throw new Error("Unsupported network '".concat(t.network,"'"));e.serializeBool(void 0!==t.signerAddress),void 0!==t.signerAddress&&e.serialize(t.signerAddress),e.serializeOptionStr(t.network),"bcsToBytes"in t.payload?(e.serializeBool(!0),e.serialize(t.payload)):(e.serializeBool(!1),xn(e,t.payload)),e.serializeU64(null!==(n=t.expirationTimestamp)&&void 0!==n?n:0),e.serializeU32AsUleb128(null!==(r=t.gasUnitPrice)&&void 0!==r?r:0),e.serializeU32AsUleb128(null!==(i=t.maxGasAmount)&&void 0!==i?i:0),e.serializeU32AsUleb128(t.feePayer?1:0),t.feePayer&&function(e,t){e.serialize(t.address),e.serialize(t.authenticator)}(e,t.feePayer)}function n(e,t){const n=t>=3&&e.deserializeBool()?e.deserialize(u.l):void 0,r=1===t?e.deserializeStr():e.deserializeOption("string");if(void 0!==r&&!gn(r))throw new Error("Unsupported network '".concat(r,"'"));const i=1===t||e.deserializeBool()?e.deserialize(u.o):kn(e),s=Number(e.deserializeU64()),o=e.deserializeUleb128AsU32(),a=e.deserializeUleb128AsU32(),c=e.deserializeUleb128AsU32()?function(e){return{address:e.deserialize(u.l),authenticator:e.deserialize(u.V)}}(e):void 0;return{expirationTimestamp:s>0?s:void 0,feePayer:c,gasUnitPrice:o>0?o:void 0,maxGasAmount:a>0?a:void 0,network:r,payload:i,signerAddress:n}}e.name="signAndSubmitTransaction",e.supportedVersions=[1,2,3],e.currentVersion=3,e.serializeArgs=t,e.deserializeArgs=n,e.serialize=function(n,r){return On({args:r,dappInfo:n,name:e.name,version:e.currentVersion},t)},e.deserialize=function(e){return jn(e,t=>n(t,e.version))},e.isSerialized=function(t){return t.name===e.name&&e.supportedVersions.includes(t.version)}})(At||(At={})),(e=>{const t=Bn(function(e,t){e.serializeStr(t.txnHash)}),n=Ln(function(e){return{txnHash:e.deserializeStr()}});e.serialize=function(e){return Pn(e,t)},e.deserialize=function(e){return Rn(e,n)}})(vt||(vt={})),(e=>{function t(e,t){e.serializeBool(void 0!==t.signerAddress),void 0!==t.signerAddress&&e.serialize(t.signerAddress),e.serializeU8(t.chainId),e.serializeBytes(t.nonce),e.serializeBytes(t.message)}e.name="signMessage",e.supportedVersions=[1,2],e.currentVersion=2,e.serialize=function(n,r){return On({args:r,dappInfo:n,name:e.name,version:e.currentVersion},t)},e.deserialize=function(e){return jn(e,t=>function(e,t){const n=t>=2&&e.deserializeBool()?e.deserialize(u.l):void 0,r=e.deserializeU8(),i=e.deserializeBytes();return{chainId:r,message:e.deserializeBytes(),nonce:i,signerAddress:n}}(t,e.version))},e.isSerialized=function(t){return t.name===e.name&&t.version===e.currentVersion}})(bt||(bt={})),(e=>{const t=Bn(function(e,t){e.serializeStr(t.fullMessage),_n(e,t.signature)}),n=Ln(function(e){return{fullMessage:e.deserializeStr(),signature:Sn(e)}});e.serialize=function(e){return Pn(e,t)},e.deserialize=function(e){return Rn(e,n)}})(zt||(zt={})),(e=>{function t(e,t){var n,r,i,s,o;if(void 0!==t.network&&!gn(t.network))throw new Error("Unsupported network '".concat(t.network,"'"));e.serializeBool(void 0!==t.signerAddress),void 0!==t.signerAddress&&e.serialize(t.signerAddress),e.serializeOptionStr(t.network),e.serializeBool(void 0!==t.sender),void 0!==t.sender&&An(e,t.sender),"bcsToBytes"in t.payload?(e.serializeBool(!0),e.serialize(t.payload)):(e.serializeBool(!1),xn(e,t.payload)),e.serializeU32AsUleb128(null!==(n=t.expirationSecondsFromNow)&&void 0!==n?n:0),e.serializeU64(null!==(r=t.expirationTimestamp)&&void 0!==r?r:0),e.serializeU32AsUleb128(null!==(i=t.gasUnitPrice)&&void 0!==i?i:0),e.serializeU32AsUleb128(null!==(s=t.maxGasAmount)&&void 0!==s?s:0),e.serializeBool(void 0!==t.feePayer),void 0!==t.feePayer&&An(e,t.feePayer);const a=null!==(o=t.secondarySigners)&&void 0!==o?o:[];e.serializeU32AsUleb128(a.length);for(const c of a)An(e,c)}e.name="signTransaction",e.supportedVersions=[1,2,3,4],e.currentVersion=4,e.normalizeArgs=function(e){const{feePayer:t,secondarySigners:n,senderPublicKey:r,signerAddress:i,transaction:s}=e,o={address:s.sender,publicKey:r},a=function(e){switch(e){case u.r.mainnet:return u.e.MAINNET;case u.r.testnet:return u.e.TESTNET;default:return u.e.DEVNET}}(e.transaction.chain_id.chainId);return{expirationTimestamp:Number(s.expiration_timestamp_secs),feePayer:t,gasUnitPrice:Number(s.gas_unit_price),maxGasAmount:Number(s.max_gas_amount),network:a,payload:s.payload,secondarySigners:n,sender:o,signerAddress:i}},e.serialize=function(n,r){return On({args:r,dappInfo:n,name:e.name,version:e.currentVersion},t)},e.deserialize=function(e){return jn(e,t=>function(e,t){const n=t>=3&&e.deserializeBool()?e.deserialize(u.l):void 0,r=1===t?e.deserializeStr():e.deserializeOption("string");if(void 0!==r&&!gn(r))throw new Error("Unsupported network '".concat(r,"'"));const i=e.deserializeBool()?vn(e):void 0,s=t<4||e.deserializeBool()?e.deserialize(u.o):kn(e),o=e.deserializeUleb128AsU32(),a=Number(e.deserializeU64()),c=e.deserializeUleb128AsU32(),l=e.deserializeUleb128AsU32(),d=e.deserializeBool()?vn(e):void 0,h=e.deserializeUleb128AsU32(),f=[];for(let u=0;u<h;u+=1)f.push(vn(e));return{expirationSecondsFromNow:o>0?o:void 0,expirationTimestamp:a>0?a:void 0,feePayer:d,gasUnitPrice:c>0?c:void 0,maxGasAmount:l>0?l:void 0,network:r,payload:s,secondarySigners:f,sender:i,signerAddress:n}}(t,e.version))},e.isSerialized=function(t){return t.name===e.name&&e.supportedVersions.includes(t.version)}})(Ut||(Ut={})),(e=>{const t=Bn(function(e,t){e.serialize(t.authenticator),e.serializeBool(void 0!==t.rawTransaction),void 0!==t.rawTransaction&&e.serialize(t.rawTransaction)}),n=Ln(function(e){return{authenticator:e.deserialize(u.V),rawTransaction:e.deserializeBool()?e.deserialize(u.p):void 0}});e.serialize=function(e){return Pn(e,t)},e.deserialize=function(e){return Rn(e,n)}})(Et||(Et={}));var Kn=class e{constructor(){this.__messageType=e.TYPE}};Kn.TYPE="PromptConnectionRequest";var Wn=Kn,Hn=class e{constructor(t){this.serializedRequest=t,this.__messageType=e.TYPE}};Hn.TYPE="PromptConnectionResponse";var Vn=Hn,qn=class e{constructor(t){this.serializedValue=t,this.__messageType=e.TYPE}};qn.TYPE="PromptApprovalResponse";var Gn=qn,Qn=class e{constructor(){this.__messageType=e.TYPE}};Qn.TYPE="PromptUnauthorizedError";var Yn=Qn;function Jn(e){let{data:t}=e,n=(0,r.A)(e,f);const s=JSON.stringify((0,i.A)({data:t},n),(e,t)=>"data"===e?hn(t):t);return hn((new TextEncoder).encode(s))}function Zn(e){const t=JSON.stringify(e,(e,t)=>{switch(e){case"body":return Jn(t);case"clientIdentityKey":case"signature":return hn(t.toUint8Array());default:return t}});return fn((new TextEncoder).encode(t))}class Xn extends Error{constructor(e,t,n){super("object"==typeof t?t.message:t||e,{cause:"object"==typeof t?t.cause:n}),this.type=e,this.name="TypedError",Object.setPrototypeOf(this,Xn.prototype)}}const $n="ERR_PARSE";function er(e,t){return n=>{const r=r=>{if(!n||void 0!==r)try{return t(r)}catch(i){throw new Xn($n,{message:'"'.concat(e,'" transformer failed to parse the value'),cause:i})}};return Object.assign(r,{isValid(e){try{return r(e),!0}catch(t){return!1}}})}}function tr(e,t){return er(t||"object",t=>{const n=function(e){let n=e;if("string"==typeof n)try{n=JSON.parse(n)}catch(t){throw new Xn("ERR_INVALID_VALUE",{cause:t})}if("object"!=typeof n||!n||Array.isArray(n))throw new Xn("ERR_UNEXPECTED_VALUE");return n}(t);return function(e,t){const n={};for(const i in e){const s=e[i];if(!s)continue;let o,a;"function"==typeof s?(o=i,a=s):[o,a]=s;try{const e=a(t(o));void 0!==e&&(n[i]=e)}catch(r){throw new Xn($n,'Parser for "'.concat(i,'" property failed').concat(o===i?"":'. Source field: "'.concat(o,'"')),r)}}return n}(e,e=>n[e])})}const nr=er("fn",e=>{if("function"==typeof e)return e;!function(e){throw new Xn("ERR_UNEXPECTED_TYPE","Unexpected value received: ".concat(JSON.stringify(e)))}(e)}),rr=tr({TelegramWebviewProxy:tr({postEvent:nr()})()});class ir extends Error{constructor(e,t,n){super("object"==typeof t?t.message:t||e,{cause:"object"==typeof t?t.cause:n}),this.type=e,this.name="TypedError",Object.setPrototypeOf(this,ir.prototype)}}function sr(e,t){t||(t={});const{textColor:n,bgColor:r,shouldLog:i=!0}=t;function s(t){if(!i||"function"==typeof i&&!i())return;const s="font-weight:bold;padding:0 5px;border-radius:5px";for(var o=arguments.length,a=new Array(o>1?o-1:0),c=1;c<o;c++)a[c-1]=arguments[c];console[t]("%c".concat(Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(new Date),"%c / %c").concat(e),"".concat(s,";background-color: lightblue;color:black"),"","".concat(s,";").concat(n?"color:".concat(n,";"):"").concat(r?"background-color:".concat(r):""),...a)}return[function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];s("log",...t)},function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];s("error",...t)}]}function or(e,t){t||(t={});const n=t.equals||Object.is;let r=[],i=e;const s=e=>{if(!n(i,e)){const t=i;i=e,function(e,t){t()}(0,()=>{[...r].forEach(n=>{let[r,i]=n;r(e,t),i&&a(r,!0)})})}};function o(e){const t="object"!=typeof e?{once:e}:e;return{once:t.once||!1,signal:t.signal||!1}}const a=(e,t)=>{const n=o(t),i=r.findIndex(t=>{let[r,i]=t;return r===e&&i.once===n.once&&i.signal===n.signal});i>=0&&r.splice(i,1)},c=Object.assign(function(){return function(e){ar.length&&ar[ar.length-1].add(e)}(c),i},{destroy(){r=[]},set:s,reset(){s(e)},sub:(e,t)=>(r.push([e,o(t)]),()=>a(e,t)),unsub:a,unsubAll(){r=r.filter(e=>e[1].signal)}});return c}const ar=[];const cr=or(!1),[lr,ur]=sr("Bridge",{bgColor:"#9147ff",textColor:"white",shouldLog:cr}),dr=or("https://web.telegram.org");function hr(e,t){lr("Posting event:",t?{eventType:e,eventData:t}:{eventType:e});const n=window;if(function(e){return rr().isValid(e)}(n))return void n.TelegramWebviewProxy.postEvent(e,JSON.stringify(t));const r=JSON.stringify({eventType:e,eventData:t});if(function(){try{return window.self!==window.top}catch(e){return!0}}())return n.parent.postMessage(r,dr());const{external:i}=n;if(!tr({notify:nr()})().isValid(i))throw new ir("ERR_UNKNOWN_ENV");i.notify(r)}let fr;const gr=new Uint8Array(16);function pr(){if(!fr&&(fr=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!fr))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return fr(gr)}const yr=[];for(let ih=0;ih<256;++ih)yr.push((ih+256).toString(16).slice(1));const wr={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function mr(e,t,n){if(wr.randomUUID&&!e)return wr.randomUUID();const r=(e=e||{}).random||(e.rng||pr)();return r[6]=15&r[6]|64,r[8]=63&r[8]|128,function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return yr[e[t+0]]+yr[e[t+1]]+yr[e[t+2]]+yr[e[t+3]]+"-"+yr[e[t+4]]+yr[e[t+5]]+"-"+yr[e[t+6]]+yr[e[t+7]]+"-"+yr[e[t+8]]+yr[e[t+9]]+"-"+yr[e[t+10]]+yr[e[t+11]]+yr[e[t+12]]+yr[e[t+13]]+yr[e[t+14]]+yr[e[t+15]]}(r)}var Ar={height:695,width:465},vr=ut.serialize({status:"dismissed"}),br=class extends Error{constructor(){super("Unauthorized")}};var zr="@aptos-connect/dapp-local-state";function Ur(){const e=window.localStorage.getItem(zr);return e?function(e){const t=new u.b(e),n=t.deserializeUleb128AsU32(),r=[];for(let i=0;i<n;i+=1)r.push(mn(t));return{connectedAccounts:r}}(dn(e)):{connectedAccounts:[]}}function Er(e){const t=function(e){const t=new u.n;t.serializeU32AsUleb128(e.connectedAccounts.length);for(const n of e.connectedAccounts)wn(t,n);return t.toUint8Array()}(e),n=hn(t);window.localStorage.setItem(zr,n)}function _r(){return Ur().connectedAccounts}function Sr(e){const t=Ur(),{connectedAccounts:n}=t,s=(0,r.A)(t,g);n.push(e),Er((0,i.A)((0,i.A)({},s),{},{connectedAccounts:n}))}var Tr="@aptos-connect/client-identity-key";function Mr(e){let t,n=()=>{};const r=new Promise(r=>{t=setTimeout(r,e),n=()=>{clearTimeout(t),r()}});return r.cancel=n,r}async function Ir(e,t,n){const r=fn(t.toUint8Array()),i=new URL("".concat(e,"/v1/dapp/clients/").concat(r,"/requests/").concat(n,"/response/")),s=await(await async function(e){let t,n=!1,r=3e3;const i=()=>{n=!0,r=2e3,null==t||t.cancel()};window.addEventListener("focus",i),window.addEventListener("blur",()=>{r=3e3});try{const i=Date.now();for(;Date.now()-i<3e5;){t=Mr(r),await t,n&&(t=Mr(300),await t);const i=await e();if(200===i.status)return i;n=!1}throw new Error("Timeout")}finally{window.removeEventListener("focus",i),window.removeEventListener("blur",i)}}(()=>fetch(i,{headers:{Accept:"application/json"},method:"get"}))).json();return{data:dn(s.data.body)}}async function Nr(e){const{baseUrl:t,request:n,tgWebAppUrl:r="/AptosConnectBot/AptosConnect"}=e,i=function(){const e=window.localStorage.getItem(Tr);if(e)return new u.a(e);const t=u.a.generate();return window.localStorage.setItem(Tr,t.toString()),t}(),s=i.publicKey(),o=mr(),a=Date.now(),c=function(e){let{accountAddress:t,body:n,id:r,timestamp:i}=e;const s=new u.n;return s.serializeStr("SignedPopupWalletRequest"),s.serializeStr(r),s.serializeU64(i),s.serializeBool(void 0!==t),void 0!==t&&s.serialize(u.l.from(t)),s.serializeStr(n.name),s.serializeU8(n.version),s.serializeBytes(n.data),s.toUint8Array()}({body:n,id:o,timestamp:a}),l=i.sign(c),d={body:n,clientIdentityKey:s,id:o,signature:l,timestamp:a};let h=Zn(d);return h.length>1024&&(async function(e,t){const n=fn(t.clientIdentityKey.toUint8Array());if(!(await fetch("".concat(e,"/v1/dapp/clients/").concat(n,"/requests/"),{body:JSON.stringify({body:Jn(t.body),id:t.id,signature:hn(t.signature.toUint8Array()),timestamp:t.timestamp}),headers:{Accept:"application/json","Content-Type":"application/json"},method:"post"})).ok)throw new Error("Failed creating the wallet request")}(t,d),h=Zn({clientIdentityKey:s,id:o,signature:l,timestamp:a})),hr("web_app_open_tg_link",{path_full:"".concat(r,"?startapp=").concat(h)}),Ir(t,s,o)}var xr=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"google",n=arguments.length>2?arguments[2]:void 0;this.baseUrl=e,this.provider=t,this.tgWebAppUrl=n,this.baseUrl=e}async sendPromptRequest(e){if(void 0!==window.TelegramWebviewProxy)return Nr({baseUrl:this.baseUrl,request:e,tgWebAppUrl:this.tgWebAppUrl});const t=new URL("".concat(this.baseUrl,"/prompt/"));t.searchParams.set("provider",this.provider);const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ar;const{height:n,width:r}=t,i={height:n,left:window.screenLeft+Math.round((window.outerWidth-r)/2),popup:!0,top:window.screenTop+Math.round((window.outerHeight-n)/2),width:r},s=Object.entries(i).map(e=>{let[t,n]=e;return"".concat(t,"=").concat(JSON.stringify(n))}).reduce((e,t)=>"".concat(e,", ").concat(t)),o=e instanceof URL?e.href:e,a=window.open(o,void 0,s);if(null===a)throw new Error("Couldn't open prompt");return a}(t);return async function(e,t,n){return new Promise((r,i)=>{const s={onMessage:o=>{if(o.source===t&&o.origin===e){if(Fn(Yn,o.data))return window.removeEventListener("message",s.onMessage),clearTimeout(s.promptPollerId),void i(new br);if(Fn(Wn,o.data))return void t.postMessage(new Vn(n),e);Fn(Gn,o.data)&&(window.removeEventListener("message",s.onMessage),clearTimeout(s.promptPollerId),r(o.data.serializedValue))}},promptPollerId:setInterval(()=>{t.closed&&(window.removeEventListener("message",s.onMessage),clearTimeout(s.promptPollerId),r(vr))},500)};window.addEventListener("message",s.onMessage)})}(this.baseUrl,n,e)}async sendRequest(e){switch(e.name){case wt.name:{const e=_r();return mt.serialize(e.length>0)}case pt.name:{const e=_r();return yt.serialize(e)}case lt.name:{const t=await this.sendPromptRequest(e),n=ut.deserialize(t);if("approved"===n.args.status){const{account:e,pairing:t}=n.args.args;void 0===t&&Sr(e)}return t}case ft.name:{const t=await this.sendPromptRequest(e),n=gt.deserialize(t);if("approved"===n.args.status){const{account:e}=n.args.args;Sr(e)}return t}case dt.name:{const[e]=_r();return e&&function(e){const t=Ur(),{connectedAccounts:n}=t,s=(0,r.A)(t,p),o=n.findIndex(t=>t.address.equals(e));o>=0&&n.splice(o,1),Er((0,i.A)((0,i.A)({},s),{},{connectedAccounts:n}))}(e.address),ht.serialize({})}case bt.name:case Ut.name:case At.name:return this.sendPromptRequest(e);default:throw new Error("Unexpected request")}}},kr=(e=>(e.DEVNET="devnet",e.MAINNET="mainnet",e.TESTNET="testnet",e))(kr||{}),Cr=(e=>(e.SIGN_AND_SUBMIT_TRANSACTION="SIGN_AND_SUBMIT_TRANSACTION",e.SIGN_MESSAGE="SIGN_MESSAGE",e.SIGN_TRANSACTION="SIGN_TRANSACTION",e))(Cr||{}),Dr=(e=>(e.APPROVED="APPROVED",e.CANCELLED="CANCELLED",e.INVALID="INVALID",e.PENDING="PENDING",e.REJECTED="REJECTED",e))(Dr||{});function Or(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("Wrong positive integer: ".concat(e))}function jr(e){if(!function(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}(e))throw new Error("Expected Uint8Array");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error("Expected Uint8Array of length ".concat(n,", not of length=").concat(e.length))}function Br(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Or(e.outputLen),Or(e.blockLen)}function Lr(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Pr(e,t){jr(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least ".concat(n))}function Rr(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}const Fr=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Kr=(e,t)=>e<<32-t|e>>>t;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");const Wr=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Hr(e){if(!Rr(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=Wr[e[n]];return t}const Vr=48,qr=57,Gr=65,Qr=70,Yr=97,Jr=102;function Zr(e){return e>=Vr&&e<=qr?e-Vr:e>=Gr&&e<=Qr?e-(Gr-10):e>=Yr&&e<=Jr?e-(Yr-10):void 0}function Xr(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const t=Zr(e.charCodeAt(s)),n=Zr(e.charCodeAt(s+1));if(void 0===t||void 0===n){const t=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+s)}r[i]=16*t+n}return r}function $r(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got ".concat(typeof e));return new Uint8Array((new TextEncoder).encode(e))}(e)),!Rr(e))throw new Error("expected Uint8Array, got ".concat(typeof e));return e}class ei{clone(){return this._cloneInto()}}const ti={}.toString;function ni(e){const t=t=>e().update($r(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}class ri extends ei{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Br(e);const n=$r(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(e){return Lr(this),this.iHash.update(e),this}digestInto(e){Lr(this),jr(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:s,outputLen:o}=this;return e.finished=r,e.destroyed=i,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const ii=(e,t,n)=>new ri(e,t).update(n).digest();function si(e,t,n,r){Br(e);const i=function(e,t){if(void 0!==t&&"[object Object]"!==ti.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)}({dkLen:32,asyncTick:10},r),{c:s,dkLen:o,asyncTick:a}=i;if(Or(s),Or(o),Or(a),s<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const c=$r(t),l=$r(n),u=new Uint8Array(o),d=ii.create(e,c),h=d._cloneInto().update(l);return{c:s,dkLen:o,asyncTick:a,DK:u,PRF:d,PRFSalt:h}}ii.create=(e,t)=>new ri(e,t);class oi extends ei{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Fr(this.buffer)}update(e){Lr(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=$r(e)).length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o===r){const t=Fr(e);for(;r<=i-s;s+=r)this.process(t,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Lr(this),Pr(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>r-s&&(this.process(n,0),s=0);for(let u=s;u<r;u++)t[u]=0;(function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)})(n,r-8,BigInt(8*this.length),i),this.process(n,0);const o=Fr(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<c;u++)o.setUint32(4*u,l[u],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:s,pos:o}=this;return e.length=r,e.pos=o,e.finished=i,e.destroyed=s,r%t&&e.buffer.set(n),e}}const ai=(e,t,n)=>e&t^~e&n,ci=(e,t,n)=>e&t^e&n^t&n,li=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ui=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),di=new Uint32Array(64);class hi extends oi{constructor(){super(64,32,8,!1),this.A=0|ui[0],this.B=0|ui[1],this.C=0|ui[2],this.D=0|ui[3],this.E=0|ui[4],this.F=0|ui[5],this.G=0|ui[6],this.H=0|ui[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:s,G:o,H:a}=this;return[e,t,n,r,i,s,o,a]}set(e,t,n,r,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let u=0;u<16;u++,t+=4)di[u]=e.getUint32(t,!1);for(let u=16;u<64;u++){const e=di[u-15],t=di[u-2],n=Kr(e,7)^Kr(e,18)^e>>>3,r=Kr(t,17)^Kr(t,19)^t>>>10;di[u]=r+di[u-7]+n+di[u-16]|0}let{A:n,B:r,C:i,D:s,E:o,F:a,G:c,H:l}=this;for(let u=0;u<64;u++){const e=l+(Kr(o,6)^Kr(o,11)^Kr(o,25))+ai(o,a,c)+li[u]+di[u]|0,t=(Kr(n,2)^Kr(n,13)^Kr(n,22))+ci(n,r,i)|0;l=c,c=a,a=o,o=s+e|0,s=i,i=r,r=n,n=e+t|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,s=s+this.D|0,o=o+this.E|0,a=a+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(n,r,i,s,o,a,c,l)}roundClean(){di.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const fi=ni(()=>new hi),gi=BigInt(2**32-1),pi=BigInt(32);function yi(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&gi),l:Number(e>>pi&gi)}:{h:0|Number(e>>pi&gi),l:0|Number(e&gi)}}function wi(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=yi(e[i],t);[n[i],r[i]]=[s,o]}return[n,r]}const mi=(e,t,n)=>e<<n|t>>>32-n,Ai=(e,t,n)=>t<<n|e>>>32-n,vi=(e,t,n)=>t<<n-32|e>>>64-n,bi=(e,t,n)=>e<<n-32|t>>>64-n;const zi={fromBig:yi,split:wi,toBig:(e,t)=>BigInt(e>>>0)<<pi|BigInt(t>>>0),shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:mi,rotlSL:Ai,rotlBH:vi,rotlBL:bi,add:function(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}},add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,add5H:(e,t,n,r,i,s)=>t+n+r+i+s+(e/2**32|0)|0,add5L:(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0)},[Ui,Ei]=zi.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),_i=new Uint32Array(80),Si=new Uint32Array(80);class Ti extends oi{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:s,Dh:o,Dl:a,Eh:c,El:l,Fh:u,Fl:d,Gh:h,Gl:f,Hh:g,Hl:p}=this;return[e,t,n,r,i,s,o,a,c,l,u,d,h,f,g,p]}set(e,t,n,r,i,s,o,a,c,l,u,d,h,f,g,p){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|d,this.Gh=0|h,this.Gl=0|f,this.Hh=0|g,this.Hl=0|p}process(e,t){for(let m=0;m<16;m++,t+=4)_i[m]=e.getUint32(t),Si[m]=e.getUint32(t+=4);for(let m=16;m<80;m++){const e=0|_i[m-15],t=0|Si[m-15],n=zi.rotrSH(e,t,1)^zi.rotrSH(e,t,8)^zi.shrSH(e,t,7),r=zi.rotrSL(e,t,1)^zi.rotrSL(e,t,8)^zi.shrSL(e,t,7),i=0|_i[m-2],s=0|Si[m-2],o=zi.rotrSH(i,s,19)^zi.rotrBH(i,s,61)^zi.shrSH(i,s,6),a=zi.rotrSL(i,s,19)^zi.rotrBL(i,s,61)^zi.shrSL(i,s,6),c=zi.add4L(r,a,Si[m-7],Si[m-16]),l=zi.add4H(c,n,o,_i[m-7],_i[m-16]);_i[m]=0|l,Si[m]=0|c}let{Ah:n,Al:r,Bh:i,Bl:s,Ch:o,Cl:a,Dh:c,Dl:l,Eh:u,El:d,Fh:h,Fl:f,Gh:g,Gl:p,Hh:y,Hl:w}=this;for(let m=0;m<80;m++){const e=zi.rotrSH(u,d,14)^zi.rotrSH(u,d,18)^zi.rotrBH(u,d,41),t=zi.rotrSL(u,d,14)^zi.rotrSL(u,d,18)^zi.rotrBL(u,d,41),A=u&h^~u&g,v=d&f^~d&p,b=zi.add5L(w,t,v,Ei[m],Si[m]),z=zi.add5H(b,y,e,A,Ui[m],_i[m]),U=0|b,E=zi.rotrSH(n,r,28)^zi.rotrBH(n,r,34)^zi.rotrBH(n,r,39),_=zi.rotrSL(n,r,28)^zi.rotrBL(n,r,34)^zi.rotrBL(n,r,39),S=n&i^n&o^i&o,T=r&s^r&a^s&a;y=0|g,w=0|p,g=0|h,p=0|f,h=0|u,f=0|d,({h:u,l:d}=zi.add(0|c,0|l,0|z,0|U)),c=0|o,l=0|a,o=0|i,a=0|s,i=0|n,s=0|r;const M=zi.add3L(U,_,T);n=zi.add3H(M,z,E,S),r=0|M}({h:n,l:r}=zi.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:s}=zi.add(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:a}=zi.add(0|this.Ch,0|this.Cl,0|o,0|a)),({h:c,l:l}=zi.add(0|this.Dh,0|this.Dl,0|c,0|l)),({h:u,l:d}=zi.add(0|this.Eh,0|this.El,0|u,0|d)),({h:h,l:f}=zi.add(0|this.Fh,0|this.Fl,0|h,0|f)),({h:g,l:p}=zi.add(0|this.Gh,0|this.Gl,0|g,0|p)),({h:y,l:w}=zi.add(0|this.Hh,0|this.Hl,0|y,0|w)),this.set(n,r,i,s,o,a,c,l,u,d,h,f,g,p,y,w)}roundClean(){_i.fill(0),Si.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Mi=ni(()=>new Ti);function Ii(e){if("string"!=typeof e)throw new TypeError("Invalid mnemonic type: ".concat(typeof e));return e.normalize("NFKD")}function Ni(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(e,t,n,r){const{c:i,dkLen:s,DK:o,PRF:a,PRFSalt:c}=si(e,t,n,r);let l;const u=new Uint8Array(4),d=Fr(u),h=new Uint8Array(a.outputLen);for(let f=1,g=0;g<s;f++,g+=a.outputLen){const e=o.subarray(g,g+a.outputLen);d.setInt32(0,f,!1),(l=c._cloneInto(l)).update(u).digestInto(h),e.set(h.subarray(0,e.length));for(let t=1;t<i;t++){a._cloneInto(l).update(h).digestInto(h);for(let t=0;t<e.length;t++)e[t]^=h[t]}}return function(e,t,n,r,i){return e.destroy(),t.destroy(),r&&r.destroy(),i.fill(0),n}(a,c,o,l,h)}(Mi,function(e){const t=Ii(e),n=t.split(" ");if(![12,15,18,21,24].includes(n.length))throw new Error("Invalid mnemonic");return{nfkd:t,words:n}}(e).nfkd,(e=>Ii("mnemonic".concat(e)))(t),{c:2048,dkLen:64})}const[xi,ki,Ci]=[[],[],[]],Di=BigInt(0),Oi=BigInt(1),ji=BigInt(2),Bi=BigInt(7),Li=BigInt(256),Pi=BigInt(113);for(let ih=0,sh=Oi,oh=1,ah=0;ih<24;ih++){[oh,ah]=[ah,(2*oh+3*ah)%5],xi.push(2*(5*ah+oh)),ki.push((ih+1)*(ih+2)/2%64);let e=Di;for(let t=0;t<7;t++)sh=(sh<<Oi^(sh>>Bi)*Pi)%Li,sh&ji&&(e^=Oi<<(Oi<<BigInt(t))-Oi);Ci.push(e)}const[Ri,Fi]=wi(Ci,!0),Ki=(e,t,n)=>n>32?vi(e,t,n):mi(e,t,n),Wi=(e,t,n)=>n>32?bi(e,t,n):Ai(e,t,n);class Hi extends ei{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Or(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)))(this.state)}keccak(){(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let r=0;r<10;r++)n[r]=e[r]^e[r+10]^e[r+20]^e[r+30]^e[r+40];for(let r=0;r<10;r+=2){const t=(r+8)%10,i=(r+2)%10,s=n[i],o=n[i+1],a=Ki(s,o,1)^n[t],c=Wi(s,o,1)^n[t+1];for(let n=0;n<50;n+=10)e[r+n]^=a,e[r+n+1]^=c}let t=e[2],i=e[3];for(let n=0;n<24;n++){const r=ki[n],s=Ki(t,i,r),o=Wi(t,i,r),a=xi[n];t=e[a],i=e[a+1],e[a]=s,e[a+1]=o}for(let r=0;r<50;r+=10){for(let t=0;t<10;t++)n[t]=e[r+t];for(let t=0;t<10;t++)e[r+t]^=~n[(t+2)%10]&n[(t+4)%10]}e[0]^=Ri[r],e[1]^=Fi[r]}n.fill(0)})(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Lr(this);const{blockLen:t,state:n}=this,r=(e=$r(e)).length;for(let i=0;i<r;){const s=Math.min(t-this.pos,r-i);for(let t=0;t<s;t++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,128&t&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){Lr(this,!1),jr(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+s),r),this.posOut+=s,r+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Or(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Pr(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:i,enableXOF:s}=this;return e||(e=new Hi(t,n,r,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=r,e.enableXOF=s,e.destroyed=this.destroyed,e}}const Vi=(e,t,n)=>ni(()=>new Hi(t,e,n)),qi=Vi(6,136,32);var Gi=Object.defineProperty,Qi=Object.getOwnPropertyDescriptor,Yi=(e,t)=>{for(var n in t)Gi(e,n,{get:t[n],enumerable:!0})},Ji=(e,t,n,r)=>{for(var i,s=Qi(t,n),o=e.length-1;o>=0;o--)(i=e[o])&&(s=i(t,n,s)||s);return s&&Gi(t,n,s),s},Zi=/^m(\/[0-9]+')+$/,Xi=e=>e.replace("'",""),$i=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2147483648;if(!(e=>!!Zi.test(e)&&!e.split("/").slice(1).map(Xi).some(Number.isNaN))(e))throw new Error("Invalid derivation path");const{key:r,chainCode:i}=(e=>{const t=ii.create(Mi,"ed25519 seed").update(Xr(e)).digest();return{key:t.slice(0,32),chainCode:t.slice(32)}})(t);return e.split("/").slice(1).map(Xi).map(e=>parseInt(e,10)).reduce((e,t)=>((e,t)=>{let{key:n,chainCode:r}=e;const i=new ArrayBuffer(4);new DataView(i).setUint32(0,t);const s=new Uint8Array(i),o=new Uint8Array([0]),a=new Uint8Array([...o,...n,...s]),c=ii.create(Mi,r).update(a).digest();return{key:c.slice(0,32),chainCode:c.slice(32)}})(e,t+n),{key:r,chainCode:i})};async function es(e){return new Promise(t=>{setTimeout(t,e)})}var ts=2e5;function ns(e){let t,n,r;return"object"==typeof e?(t=e.hashFunction,n=e.ttlMs,r=e.tags):t=e,(e,i,s)=>{if(null!=s.value)s.value=ss(s.value,t,n,r);else{if(null==s.get)throw new Error("Only put a Memoize() decorator on a method or get accessor.");s.get=ss(s.get,t,n,r)}}}function rs(e,t){return ns({ttlMs:e,hashFunction:t})}var is=new Map;function ss(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0;const i=Symbol("__memoized_map__");return function(){let s;const o=this;o.hasOwnProperty(i)||Object.defineProperty(o,i,{configurable:!1,enumerable:!1,writable:!1,value:new Map});const a=o[i];if(Array.isArray(r))for(const e of r)is.has(e)?is.get(e).push(a):is.set(e,[a]);for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];if(t||l.length>0||n>0){let r;r=!0===t?l.map(e=>e.toString()).join("!"):t?t.apply(o,l):l[0];const i="".concat(r,"__timestamp");let c=!1;if(n>0)if(a.has(i)){const e=a.get(i);c=Date.now()-e>n}else c=!0;a.has(r)&&!c?s=a.get(r):(s=e.apply(o,l),a.set(r,s),n>0&&a.set(i,Date.now()))}else{const t=o;a.has(t)?s=a.get(t):(s=e.apply(o,l),a.set(t,s))}return s}}var os=class extends Error{constructor(e,t,n){super(n),this.name="AptosApiError",this.url=t.url,this.status=t.status,this.statusText=t.statusText,this.data=t.data,this.request=e}},as={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",429:"Too Many Requests",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable"};async function cs(e,t,n,r,s,o){const a=(0,i.A)((0,i.A)({},null==o?void 0:o.HEADERS),{},{"x-aptos-client":"aptos-ts-sdk/".concat("1.21.0"),"content-type":null!==r&&void 0!==r?r:"application/json"});return null!=o&&o.TOKEN&&(a.Authorization="Bearer ".concat(null==o?void 0:o.TOKEN)),await async function(e){var t;const{params:n,method:r,url:i,headers:s,body:o,overrides:a}=e,c={headers:s,method:r,url:i,params:n,data:o,withCredentials:null==(t=null==a?void 0:a.WITH_CREDENTIALS)||t};try{const e=await(0,l.aA)(c);return{status:e.status,statusText:e.statusText,data:e.data,headers:e.headers,config:e.config}}catch(u){const e=u;if(e.response)return e.response;throw u}}({url:e,method:t,body:n,params:s,headers:a,overrides:o})}async function ls(e){const{url:t,endpoint:n,method:r,body:i,contentType:s,params:o,overrides:a}=e,c="".concat(t,"/").concat(null!==n&&void 0!==n?n:""),l=await cs(c,r,i,s,o,a),u={status:l.status,statusText:l.statusText,data:l.data,headers:l.headers,config:l.config,url:c};if(u.status>=200&&u.status<300)return u;const d=as[u.status];throw new os(e,u,null!==d&&void 0!==d?d:"Generic Error")}async function us(e){return await ls((0,i.A)((0,i.A)({},e),{},{method:"GET"}))}async function ds(e){return await ls((0,i.A)((0,i.A)({},e),{},{method:"POST"}))}async function hs(e){const t=[];let n;const r=e.params;for(;;){r.start=n;const i=await us({url:e.url,endpoint:e.endpoint,params:r,originMethod:e.originMethod,overrides:e.overrides});if(n=i.headers["x-aptos-cursor"],delete i.headers,t.push(...i.data),null==n)break}return t}var fs={mainnet:"https://indexer.mainnet.aptoslabs.com/v1/graphql",testnet:"https://indexer-testnet.staging.gcp.aptosdev.com/v1/graphql",devnet:"https://indexer-devnet.staging.gcp.aptosdev.com/v1/graphql",local:"http://127.0.0.1:8090/v1/graphql"},gs={mainnet:"https://fullnode.mainnet.aptoslabs.com/v1",testnet:"https://fullnode.testnet.aptoslabs.com/v1",devnet:"https://fullnode.devnet.aptoslabs.com/v1",local:"http://127.0.0.1:8080/v1"},ps=class e{static fromBuffer(t){return e.fromUint8Array(t)}static fromUint8Array(t){return new e(Hr(t))}static ensure(t){return"string"==typeof t?new e(t):t}constructor(e){e.startsWith("0x")?this.hexString=e:this.hexString="0x".concat(e)}hex(){return this.hexString}noPrefix(){return this.hexString.slice(2)}toString(){return this.hex()}toShortString(){return"0x".concat(this.hexString.replace(/^0x0*/,""))}toUint8Array(){return Uint8Array.from(Xr(this.noPrefix()))}},ys={};Yi(ys,{AccountAddress:()=>Rs,AccountAuthenticator:()=>$s,AccountAuthenticatorEd25519:()=>eo,AccountAuthenticatorMultiEd25519:()=>to,ArgumentABI:()=>ra,AuthenticationKey:()=>ca,ChainId:()=>Wo,ChangeSet:()=>Co,Ed25519PublicKey:()=>Ks,Ed25519Signature:()=>Hs,EntryFunction:()=>Mo,EntryFunctionABI:()=>oa,FeePayerRawTransaction:()=>Lo,Identifier:()=>no,Module:()=>xo,ModuleId:()=>ko,MultiAgentRawTransaction:()=>Bo,MultiEd25519PublicKey:()=>Vs,MultiEd25519Signature:()=>Gs,MultiSig:()=>No,MultiSigTransactionPayload:()=>Io,RawTransaction:()=>So,RawTransactionWithData:()=>jo,RotationProofChallenge:()=>la,Script:()=>To,ScriptABI:()=>ia,SignedTransaction:()=>Oo,StructTag:()=>yo,Transaction:()=>ea,TransactionArgument:()=>Ho,TransactionArgumentAddress:()=>Zo,TransactionArgumentBool:()=>$o,TransactionArgumentU128:()=>Yo,TransactionArgumentU16:()=>qo,TransactionArgumentU256:()=>Jo,TransactionArgumentU32:()=>Go,TransactionArgumentU64:()=>Qo,TransactionArgumentU8:()=>Vo,TransactionArgumentU8Vector:()=>Xo,TransactionAuthenticator:()=>Qs,TransactionAuthenticatorEd25519:()=>Ys,TransactionAuthenticatorFeePayer:()=>Xs,TransactionAuthenticatorMultiAgent:()=>Zs,TransactionAuthenticatorMultiEd25519:()=>Js,TransactionPayload:()=>Po,TransactionPayloadEntryFunction:()=>Fo,TransactionPayloadMultisig:()=>Ko,TransactionPayloadScript:()=>Ro,TransactionScriptABI:()=>sa,TypeArgumentABI:()=>na,TypeTag:()=>ro,TypeTagAddress:()=>ho,TypeTagBool:()=>io,TypeTagParser:()=>Eo,TypeTagParserError:()=>_o,TypeTagSigner:()=>fo,TypeTagStruct:()=>po,TypeTagU128:()=>lo,TypeTagU16:()=>oo,TypeTagU256:()=>uo,TypeTagU32:()=>ao,TypeTagU64:()=>co,TypeTagU8:()=>so,TypeTagVector:()=>go,UserTransaction:()=>ta,WriteSet:()=>Do,objectStructTag:()=>Ao,optionStructTag:()=>mo,stringStructTag:()=>wo});var ws={};Yi(ws,{Deserializer:()=>Es,Serializer:()=>zs,bcsSerializeBool:()=>Os,bcsSerializeBytes:()=>Bs,bcsSerializeFixedBytes:()=>Ls,bcsSerializeStr:()=>js,bcsSerializeU128:()=>Cs,bcsSerializeU16:()=>xs,bcsSerializeU256:()=>Ds,bcsSerializeU32:()=>ks,bcsSerializeU8:()=>Ns,bcsSerializeUint64:()=>Is,bcsToBytes:()=>Ms,deserializeVector:()=>Ts,serializeVector:()=>_s,serializeVectorWithFunc:()=>Ss});var ms=2**32-1,As=BigInt(2**64)-BigInt(1),vs=BigInt(2**128)-BigInt(1),bs=BigInt(2**256)-BigInt(1),zs=class{constructor(){this.buffer=new ArrayBuffer(64),this.offset=0}ensureBufferWillHandleSize(e){for(;this.buffer.byteLength<this.offset+e;){const e=new ArrayBuffer(2*this.buffer.byteLength);new Uint8Array(e).set(new Uint8Array(this.buffer)),this.buffer=e}}serialize(e){this.ensureBufferWillHandleSize(e.length),new Uint8Array(this.buffer,this.offset).set(e),this.offset+=e.length}serializeWithFunction(e,t,n){this.ensureBufferWillHandleSize(t);const r=new DataView(this.buffer,this.offset);e.apply(r,[0,n,!0]),this.offset+=t}serializeStr(e){const t=new TextEncoder;this.serializeBytes(t.encode(e))}serializeBytes(e){this.serializeU32AsUleb128(e.length),this.serialize(e)}serializeFixedBytes(e){this.serialize(e)}serializeBool(e){if("boolean"!=typeof e)throw new Error("Value needs to be a boolean");const t=e?1:0;this.serialize(new Uint8Array([t]))}serializeU8(e){this.serialize(new Uint8Array([e]))}serializeU16(e){this.serializeWithFunction(DataView.prototype.setUint16,2,e)}serializeU32(e){this.serializeWithFunction(DataView.prototype.setUint32,4,e)}serializeU64(e){const t=BigInt(e.toString())&BigInt(ms),n=BigInt(e.toString())>>BigInt(32);this.serializeU32(Number(t)),this.serializeU32(Number(n))}serializeU128(e){const t=BigInt(e.toString())&As,n=BigInt(e.toString())>>BigInt(64);this.serializeU64(t),this.serializeU64(n)}serializeU256(e){const t=BigInt(e.toString())&vs,n=BigInt(e.toString())>>BigInt(128);this.serializeU128(t),this.serializeU128(n)}serializeU32AsUleb128(e){let t=e;const n=[];for(;t>>>7;)n.push(127&t|128),t>>>=7;n.push(t),this.serialize(new Uint8Array(n))}getBytes(){return new Uint8Array(this.buffer).slice(0,this.offset)}};function Us(e,t,n){return(n,r,i)=>{const s=i.value;return i.value=function(n){const r=BigInt(n.toString());if(r>BigInt(t.toString())||r<BigInt(e.toString()))throw new Error("Value is out of range");s.apply(this,[n])},i}}Ji([Us(0,255)],zs.prototype,"serializeU8"),Ji([Us(0,65535)],zs.prototype,"serializeU16"),Ji([Us(0,ms)],zs.prototype,"serializeU32"),Ji([Us(BigInt(0),As)],zs.prototype,"serializeU64"),Ji([Us(BigInt(0),vs)],zs.prototype,"serializeU128"),Ji([Us(BigInt(0),bs)],zs.prototype,"serializeU256"),Ji([Us(0,ms)],zs.prototype,"serializeU32AsUleb128");var Es=class{constructor(e){this.buffer=new ArrayBuffer(e.length),new Uint8Array(this.buffer).set(e,0),this.offset=0}read(e){if(this.offset+e>this.buffer.byteLength)throw new Error("Reached to the end of buffer");const t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}deserializeStr(){const e=this.deserializeBytes();return(new TextDecoder).decode(e)}deserializeBytes(){const e=this.deserializeUleb128AsU32();return new Uint8Array(this.read(e))}deserializeFixedBytes(e){return new Uint8Array(this.read(e))}deserializeBool(){const e=new Uint8Array(this.read(1))[0];if(1!==e&&0!==e)throw new Error("Invalid boolean value");return 1===e}deserializeU8(){return new DataView(this.read(1)).getUint8(0)}deserializeU16(){return new DataView(this.read(2)).getUint16(0,!0)}deserializeU32(){return new DataView(this.read(4)).getUint32(0,!0)}deserializeU64(){const e=this.deserializeU32(),t=this.deserializeU32();return BigInt(BigInt(t)<<BigInt(32)|BigInt(e))}deserializeU128(){const e=this.deserializeU64(),t=this.deserializeU64();return BigInt(t<<BigInt(64)|e)}deserializeU256(){const e=this.deserializeU128(),t=this.deserializeU128();return BigInt(t<<BigInt(128)|e)}deserializeUleb128AsU32(){let e=BigInt(0),t=0;for(;e<ms;){const n=this.deserializeU8();if(e|=BigInt(127&n)<<BigInt(t),!(128&n))break;t+=7}if(e>ms)throw new Error("Overflow while parsing uleb128-encoded uint32 value");return Number(e)}};function _s(e,t){t.serializeU32AsUleb128(e.length),e.forEach(e=>{e.serialize(t)})}function Ss(e,t){const n=new zs;n.serializeU32AsUleb128(e.length);const r=n[t];return e.forEach(e=>{r.call(n,e)}),n.getBytes()}function Ts(e,t){const n=e.deserializeUleb128AsU32(),r=[];for(let i=0;i<n;i+=1)r.push(t.deserialize(e));return r}function Ms(e){const t=new zs;return e.serialize(t),t.getBytes()}function Is(e){const t=new zs;return t.serializeU64(e),t.getBytes()}function Ns(e){const t=new zs;return t.serializeU8(e),t.getBytes()}function xs(e){const t=new zs;return t.serializeU16(e),t.getBytes()}function ks(e){const t=new zs;return t.serializeU32(e),t.getBytes()}function Cs(e){const t=new zs;return t.serializeU128(e),t.getBytes()}function Ds(e){const t=new zs;return t.serializeU256(e),t.getBytes()}function Os(e){const t=new zs;return t.serializeBool(e),t.getBytes()}function js(e){const t=new zs;return t.serializeStr(e),t.getBytes()}function Bs(e){const t=new zs;return t.serializeBytes(e),t.getBytes()}function Ls(e){const t=new zs;return t.serializeFixedBytes(e),t.getBytes()}var Ps=class e{constructor(t){if(t.length!==e.LENGTH)throw new Error("Expected address of length 32");this.address=t}static fromHex(t){let n=ps.ensure(t);n.noPrefix().length%2!==0&&(n=new ps("0".concat(n.noPrefix())));const r=n.toUint8Array();if(r.length>e.LENGTH)throw new Error("Hex string is too long. Address's length is 32 bytes.");if(r.length===e.LENGTH)return new e(r);const i=new Uint8Array(e.LENGTH);return i.set(r,e.LENGTH-r.length),new e(i)}static isValid(t){if(""===t)return!1;let n=ps.ensure(t);return n.noPrefix().length%2!==0&&(n=new ps("0".concat(n.noPrefix()))),n.toUint8Array().length<=e.LENGTH}toHexString(){return ps.fromUint8Array(this.address).hex()}serialize(e){e.serializeFixedBytes(this.address)}static deserialize(t){return new e(t.deserializeFixedBytes(e.LENGTH))}static standardizeAddress(e){const t=e.toLowerCase();return"0x".concat((t.startsWith("0x")?t.slice(2):t).padStart(64,"0"))}};Ps.LENGTH=32,Ps.CORE_CODE_ADDRESS=Ps.fromHex("0x1");var Rs=Ps,Fs=class e{constructor(t){if(t.length!==e.LENGTH)throw new Error("Ed25519PublicKey length should be ".concat(e.LENGTH));this.value=t}toBytes(){return this.value}serialize(e){e.serializeBytes(this.value)}static deserialize(t){const n=t.deserializeBytes();return new e(n)}};Fs.LENGTH=32;var Ks=Fs,Ws=class e{constructor(t){if(this.value=t,t.length!==e.LENGTH)throw new Error("Ed25519Signature length should be ".concat(e.LENGTH))}serialize(e){e.serializeBytes(this.value)}static deserialize(t){const n=t.deserializeBytes();return new e(n)}};Ws.LENGTH=64;var Hs=Ws,Vs=class e{constructor(e,t){if(this.public_keys=e,this.threshold=t,t>32)throw new Error('"threshold" cannot be larger than '.concat(32))}toBytes(){const e=new Uint8Array(this.public_keys.length*Ks.LENGTH+1);return this.public_keys.forEach((t,n)=>{e.set(t.value,n*Ks.LENGTH)}),e[this.public_keys.length*Ks.LENGTH]=this.threshold,e}serialize(e){e.serializeBytes(this.toBytes())}static deserialize(t){const n=t.deserializeBytes(),r=n[n.length-1],i=[];for(let e=0;e<n.length-1;e+=Ks.LENGTH){const t=e;i.push(new Ks(n.subarray(t,t+Ks.LENGTH)))}return new e(i,r)}},qs=class e{constructor(t,n){if(this.signatures=t,this.bitmap=n,n.length!==e.BITMAP_LEN)throw new Error('"bitmap" length should be '.concat(e.BITMAP_LEN))}toBytes(){const t=new Uint8Array(this.signatures.length*Hs.LENGTH+e.BITMAP_LEN);return this.signatures.forEach((e,n)=>{t.set(e.value,n*Hs.LENGTH)}),t.set(this.bitmap,this.signatures.length*Hs.LENGTH),t}static createBitmap(e){const t=new Uint8Array([0,0,0,0]),n=new Set;return e.forEach(e=>{if(e>=32)throw new Error("Invalid bit value ".concat(e,"."));if(n.has(e))throw new Error("Duplicated bits detected.");n.add(e);const r=Math.floor(e/8);let i=t[r];i|=128>>e%8,t[r]=i}),t}serialize(e){e.serializeBytes(this.toBytes())}static deserialize(t){const n=t.deserializeBytes(),r=n.subarray(n.length-4),i=[];for(let e=0;e<n.length-r.length;e+=Hs.LENGTH){const t=e;i.push(new Hs(n.subarray(t,t+Hs.LENGTH)))}return new e(i,r)}};qs.BITMAP_LEN=4;var Gs=qs,Qs=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return Ys.load(e);case 1:return Js.load(e);case 2:return Zs.load(e);case 3:return Xs.load(e);default:throw new Error("Unknown variant index for TransactionAuthenticator: ".concat(t))}}},Ys=class e extends Qs{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(0),this.public_key.serialize(e),this.signature.serialize(e)}static load(t){const n=Ks.deserialize(t),r=Hs.deserialize(t);return new e(n,r)}},Js=class e extends Qs{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(1),this.public_key.serialize(e),this.signature.serialize(e)}static load(t){const n=Vs.deserialize(t),r=Gs.deserialize(t);return new e(n,r)}},Zs=class e extends Qs{constructor(e,t,n){super(),this.sender=e,this.secondary_signer_addresses=t,this.secondary_signers=n}serialize(e){e.serializeU32AsUleb128(2),this.sender.serialize(e),_s(this.secondary_signer_addresses,e),_s(this.secondary_signers,e)}static load(t){const n=$s.deserialize(t),r=Ts(t,Rs),i=Ts(t,$s);return new e(n,r,i)}},Xs=class e extends Qs{constructor(e,t,n,r){super(),this.sender=e,this.secondary_signer_addresses=t,this.secondary_signers=n,this.fee_payer=r}serialize(e){e.serializeU32AsUleb128(3),this.sender.serialize(e),_s(this.secondary_signer_addresses,e),_s(this.secondary_signers,e),this.fee_payer.address.serialize(e),this.fee_payer.authenticator.serialize(e)}static load(t){const n=$s.deserialize(t),r=Ts(t,Rs),i=Ts(t,$s),s=Rs.deserialize(t),o=$s.deserialize(t);return new e(n,r,i,{address:s,authenticator:o})}},$s=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return eo.load(e);case 1:return to.load(e);default:throw new Error("Unknown variant index for AccountAuthenticator: ".concat(t))}}},eo=class e extends $s{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(0),this.public_key.serialize(e),this.signature.serialize(e)}static load(t){const n=Ks.deserialize(t),r=Hs.deserialize(t);return new e(n,r)}},to=class e extends $s{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(1),this.public_key.serialize(e),this.signature.serialize(e)}static load(t){const n=Vs.deserialize(t),r=Gs.deserialize(t);return new e(n,r)}},no=class e{constructor(e){this.value=e}serialize(e){e.serializeStr(this.value)}static deserialize(t){const n=t.deserializeStr();return new e(n)}},ro=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return io.load(e);case 1:return so.load(e);case 2:return co.load(e);case 3:return lo.load(e);case 4:return ho.load(e);case 5:return fo.load(e);case 6:return go.load(e);case 7:return po.load(e);case 8:return oo.load(e);case 9:return ao.load(e);case 10:return uo.load(e);default:throw new Error("Unknown variant index for TypeTag: ".concat(t))}}},io=class e extends ro{serialize(e){e.serializeU32AsUleb128(0)}static load(t){return new e}},so=class e extends ro{serialize(e){e.serializeU32AsUleb128(1)}static load(t){return new e}},oo=class e extends ro{serialize(e){e.serializeU32AsUleb128(8)}static load(t){return new e}},ao=class e extends ro{serialize(e){e.serializeU32AsUleb128(9)}static load(t){return new e}},co=class e extends ro{serialize(e){e.serializeU32AsUleb128(2)}static load(t){return new e}},lo=class e extends ro{serialize(e){e.serializeU32AsUleb128(3)}static load(t){return new e}},uo=class e extends ro{serialize(e){e.serializeU32AsUleb128(10)}static load(t){return new e}},ho=class e extends ro{serialize(e){e.serializeU32AsUleb128(4)}static load(t){return new e}},fo=class e extends ro{serialize(e){e.serializeU32AsUleb128(5)}static load(t){return new e}},go=class e extends ro{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(6),this.value.serialize(e)}static load(t){const n=ro.deserialize(t);return new e(n)}},po=class e extends ro{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(7),this.value.serialize(e)}static load(t){const n=yo.deserialize(t);return new e(n)}isStringTypeTag(){return"string"===this.value.module_name.value&&"String"===this.value.name.value&&this.value.address.toHexString()===Rs.CORE_CODE_ADDRESS.toHexString()}},yo=class e{constructor(e,t,n,r){this.address=e,this.module_name=t,this.name=n,this.type_args=r}static fromString(t){const n=new Eo(t).parseTypeTag();return new e(n.value.address,n.value.module_name,n.value.name,n.value.type_args)}serialize(e){this.address.serialize(e),this.module_name.serialize(e),this.name.serialize(e),_s(this.type_args,e)}static deserialize(t){const n=Rs.deserialize(t),r=no.deserialize(t),i=no.deserialize(t),s=Ts(t,ro);return new e(n,r,i,s)}},wo=new yo(Rs.fromHex("0x1"),new no("string"),new no("String"),[]);function mo(e){return new yo(Rs.fromHex("0x1"),new no("option"),new no("Option"),[e])}function Ao(e){return new yo(Rs.fromHex("0x1"),new no("object"),new no("Object"),[e])}function vo(e){throw new _o(e)}function bo(e){return!!e.match(/\s/)}function zo(e){return!!e.match(/[_A-Za-z0-9]/g)}function Uo(e,t){const n=e[t];if(":"===n){if("::"===e.slice(t,t+2))return[["COLON","::"],2];vo("Unrecognized token.")}else{if("<"===n)return[["LT","<"],1];if(">"===n)return[["GT",">"],1];if(","===n)return[["COMMA",","],1];if(bo(n)){let n="";for(let r=t;r<e.length;r+=1){const t=e[r];if(!bo(t))break;n="".concat(n).concat(t)}return[["SPACE",n],n.length]}if(zo(n)){let n="";for(let r=t;r<e.length;r+=1){const t=e[r];if(!zo(t))break;n="".concat(n).concat(t)}return function(e){return!!e.match(/T\d+/g)}(n)?[["GENERIC",n],n.length]:[["IDENT",n],n.length]}}throw new Error("Unrecognized token.")}var Eo=class e{constructor(e,t){this.typeTags=[],this.tokens=function(e){let t=0;const n=[];for(;t<e.length;){const[r,i]=Uo(e,t);"SPACE"!==r[0]&&n.push(r),t+=i}return n}(e),this.typeTags=t||[]}consume(e){const t=this.tokens.shift();(!t||t[1]!==e)&&vo("Invalid type tag.")}consumeWholeGeneric(){for(this.consume("<");">"!==this.tokens[0][1];)"<"===this.tokens[0][1]?this.consumeWholeGeneric():this.tokens.shift();this.consume(">")}parseCommaList(e,t){const n=[];for(this.tokens.length<=0&&vo("Invalid type tag.");this.tokens[0][1]!==e&&(n.push(this.parseTypeTag()),!(this.tokens.length>0&&this.tokens[0][1]===e||(this.consume(","),this.tokens.length>0&&this.tokens[0][1]===e&&t)));)this.tokens.length<=0&&vo("Invalid type tag.");return n}parseTypeTag(){0===this.tokens.length&&vo("Invalid type tag.");const[t,n]=this.tokens.shift();if("u8"===n)return new so;if("u16"===n)return new oo;if("u32"===n)return new ao;if("u64"===n)return new co;if("u128"===n)return new lo;if("u256"===n)return new uo;if("bool"===n)return new io;if("address"===n)return new ho;if("vector"===n){this.consume("<");const e=this.parseTypeTag();return this.consume(">"),new go(e)}if("string"===n)return new po(wo);if("IDENT"===t&&(n.startsWith("0x")||n.startsWith("0X"))){const e=Rs.fromHex(n);this.consume("::");const[t,r]=this.tokens.shift();"IDENT"!==t&&vo("Invalid type tag."),this.consume("::");const[i,s]=this.tokens.shift();if("IDENT"!==i&&vo("Invalid type tag."),Rs.CORE_CODE_ADDRESS.toHexString()===e.toHexString()&&"object"===r&&"Object"===s)return this.consumeWholeGeneric(),new ho;let o=[];this.tokens.length>0&&"<"===this.tokens[0][1]&&(this.consume("<"),o=this.parseCommaList(">",!0),this.consume(">"));const a=new yo(e,new no(r),new no(s),o);return new po(a)}if("GENERIC"===t){0===this.typeTags.length&&vo("Can't convert generic type since no typeTags were specified.");const t=parseInt(n.substring(1),10);return new e(this.typeTags[t]).parseTypeTag()}throw new Error("Invalid type tag.")}},_o=class extends Error{constructor(e){super(e),this.name="TypeTagParserError"}},So=class e{constructor(e,t,n,r,i,s,o){this.sender=e,this.sequence_number=t,this.payload=n,this.max_gas_amount=r,this.gas_unit_price=i,this.expiration_timestamp_secs=s,this.chain_id=o}serialize(e){this.sender.serialize(e),e.serializeU64(this.sequence_number),this.payload.serialize(e),e.serializeU64(this.max_gas_amount),e.serializeU64(this.gas_unit_price),e.serializeU64(this.expiration_timestamp_secs),this.chain_id.serialize(e)}static deserialize(t){const n=Rs.deserialize(t),r=t.deserializeU64(),i=Po.deserialize(t),s=t.deserializeU64(),o=t.deserializeU64(),a=t.deserializeU64(),c=Wo.deserialize(t);return new e(n,r,i,s,o,a,c)}},To=class e{constructor(e,t,n){this.code=e,this.ty_args=t,this.args=n}serialize(e){e.serializeBytes(this.code),_s(this.ty_args,e),_s(this.args,e)}static deserialize(t){const n=t.deserializeBytes(),r=Ts(t,ro),i=Ts(t,Ho);return new e(n,r,i)}},Mo=class e{constructor(e,t,n,r){this.module_name=e,this.function_name=t,this.ty_args=n,this.args=r}static natural(t,n,r,i){return new e(ko.fromStr(t),new no(n),r,i)}static natual(t,n,r,i){return e.natural(t,n,r,i)}serialize(e){this.module_name.serialize(e),this.function_name.serialize(e),_s(this.ty_args,e),e.serializeU32AsUleb128(this.args.length),this.args.forEach(t=>{e.serializeBytes(t)})}static deserialize(t){const n=ko.deserialize(t),r=no.deserialize(t),i=Ts(t,ro),s=t.deserializeUleb128AsU32(),o=[];for(let e=0;e<s;e+=1)o.push(t.deserializeBytes());return new e(n,r,i,o)}},Io=class e{constructor(e){this.transaction_payload=e}serialize(e){e.serializeU32AsUleb128(0),this.transaction_payload.serialize(e)}static deserialize(t){return t.deserializeUleb128AsU32(),new e(Mo.deserialize(t))}},No=class e{constructor(e,t){this.multisig_address=e,this.transaction_payload=t}serialize(e){this.multisig_address.serialize(e),void 0===this.transaction_payload?e.serializeBool(!1):(e.serializeBool(!0),this.transaction_payload.serialize(e))}static deserialize(t){const n=Rs.deserialize(t);let r;return t.deserializeBool()&&(r=Io.deserialize(t)),new e(n,r)}},xo=class e{constructor(e){this.code=e}serialize(e){e.serializeBytes(this.code)}static deserialize(t){const n=t.deserializeBytes();return new e(n)}},ko=class e{constructor(e,t){this.address=e,this.name=t}static fromStr(t){const n=t.split("::");if(2!==n.length)throw new Error("Invalid module id.");return new e(Rs.fromHex(new ps(n[0])),new no(n[1]))}serialize(e){this.address.serialize(e),this.name.serialize(e)}static deserialize(t){const n=Rs.deserialize(t),r=no.deserialize(t);return new e(n,r)}},Co=class{serialize(e){throw new Error("Not implemented.")}static deserialize(e){throw new Error("Not implemented.")}},Do=class{serialize(e){throw new Error("Not implmented.")}static deserialize(e){throw new Error("Not implmented.")}},Oo=class e{constructor(e,t){this.raw_txn=e,this.authenticator=t}serialize(e){this.raw_txn.serialize(e),this.authenticator.serialize(e)}static deserialize(t){const n=So.deserialize(t),r=Qs.deserialize(t);return new e(n,r)}},jo=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return Bo.load(e);case 1:return Lo.load(e);default:throw new Error("Unknown variant index for RawTransactionWithData: ".concat(t))}}},Bo=class e extends jo{constructor(e,t){super(),this.raw_txn=e,this.secondary_signer_addresses=t}serialize(e){e.serializeU32AsUleb128(0),this.raw_txn.serialize(e),_s(this.secondary_signer_addresses,e)}static load(t){const n=So.deserialize(t),r=Ts(t,Rs);return new e(n,r)}},Lo=class e extends jo{constructor(e,t,n){super(),this.raw_txn=e,this.secondary_signer_addresses=t,this.fee_payer_address=n}serialize(e){e.serializeU32AsUleb128(1),this.raw_txn.serialize(e),_s(this.secondary_signer_addresses,e),this.fee_payer_address.serialize(e)}static load(t){const n=So.deserialize(t),r=Ts(t,Rs),i=Rs.deserialize(t);return new e(n,r,i)}},Po=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return Ro.load(e);case 2:return Fo.load(e);case 3:return Ko.load(e);default:throw new Error("Unknown variant index for TransactionPayload: ".concat(t))}}},Ro=class e extends Po{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(0),this.value.serialize(e)}static load(t){const n=To.deserialize(t);return new e(n)}},Fo=class e extends Po{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(2),this.value.serialize(e)}static load(t){const n=Mo.deserialize(t);return new e(n)}},Ko=class e extends Po{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(3),this.value.serialize(e)}static load(t){const n=No.deserialize(t);return new e(n)}},Wo=class e{constructor(e){this.value=e}serialize(e){e.serializeU8(this.value)}static deserialize(t){const n=t.deserializeU8();return new e(n)}},Ho=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return Vo.load(e);case 1:return Qo.load(e);case 2:return Yo.load(e);case 3:return Zo.load(e);case 4:return Xo.load(e);case 5:return $o.load(e);case 6:return qo.load(e);case 7:return Go.load(e);case 8:return Jo.load(e);default:throw new Error("Unknown variant index for TransactionArgument: ".concat(t))}}},Vo=class e extends Ho{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(0),e.serializeU8(this.value)}static load(t){const n=t.deserializeU8();return new e(n)}},qo=class e extends Ho{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(6),e.serializeU16(this.value)}static load(t){const n=t.deserializeU16();return new e(n)}},Go=class e extends Ho{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(7),e.serializeU32(this.value)}static load(t){const n=t.deserializeU32();return new e(n)}},Qo=class e extends Ho{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(1),e.serializeU64(this.value)}static load(t){const n=t.deserializeU64();return new e(n)}},Yo=class e extends Ho{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(2),e.serializeU128(this.value)}static load(t){const n=t.deserializeU128();return new e(n)}},Jo=class e extends Ho{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(8),e.serializeU256(this.value)}static load(t){const n=t.deserializeU256();return new e(n)}},Zo=class e extends Ho{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(3),this.value.serialize(e)}static load(t){const n=Rs.deserialize(t);return new e(n)}},Xo=class e extends Ho{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(4),e.serializeBytes(this.value)}static load(t){const n=t.deserializeBytes();return new e(n)}},$o=class e extends Ho{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(5),e.serializeBool(this.value)}static load(t){const n=t.deserializeBool();return new e(n)}},ea=class{getHashSalt(){const e=qi.create();return e.update("APTOS::Transaction"),e.digest()}static deserialize(e){const t=e.deserializeUleb128AsU32();if(0===t)return ta.load(e);throw new Error("Unknown variant index for Transaction: ".concat(t))}},ta=class e extends ea{constructor(e){super(),this.value=e}hash(){const e=qi.create();return e.update(this.getHashSalt()),e.update(Ms(this)),e.digest()}serialize(e){e.serializeU32AsUleb128(0),this.value.serialize(e)}static load(t){return new e(Oo.deserialize(t))}},na=class e{constructor(e){this.name=e}serialize(e){e.serializeStr(this.name)}static deserialize(t){const n=t.deserializeStr();return new e(n)}},ra=class e{constructor(e,t){this.name=e,this.type_tag=t}serialize(e){e.serializeStr(this.name),this.type_tag.serialize(e)}static deserialize(t){const n=t.deserializeStr(),r=ro.deserialize(t);return new e(n,r)}},ia=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return sa.load(e);case 1:return oa.load(e);default:throw new Error("Unknown variant index for TransactionPayload: ".concat(t))}}},sa=class e extends ia{constructor(e,t,n,r,i){super(),this.name=e,this.doc=t,this.code=n,this.ty_args=r,this.args=i}serialize(e){e.serializeU32AsUleb128(0),e.serializeStr(this.name),e.serializeStr(this.doc),e.serializeBytes(this.code),_s(this.ty_args,e),_s(this.args,e)}static load(t){const n=t.deserializeStr(),r=t.deserializeStr(),i=t.deserializeBytes(),s=Ts(t,na),o=Ts(t,ra);return new e(n,r,i,s,o)}},oa=class e extends ia{constructor(e,t,n,r,i){super(),this.name=e,this.module_name=t,this.doc=n,this.ty_args=r,this.args=i}serialize(e){e.serializeU32AsUleb128(1),e.serializeStr(this.name),this.module_name.serialize(e),e.serializeStr(this.doc),_s(this.ty_args,e),_s(this.args,e)}static load(t){const n=t.deserializeStr(),r=ko.deserialize(t),i=t.deserializeStr(),s=Ts(t,na),o=Ts(t,ra);return new e(n,r,i,s,o)}},aa=class e{constructor(t){if(t.length!==e.LENGTH)throw new Error("Expected a byte array of length 32");this.bytes=t}static fromMultiEd25519PublicKey(t){const n=t.toBytes(),r=new Uint8Array(n.length+1);r.set(n),r.set([e.MULTI_ED25519_SCHEME],n.length);const i=qi.create();return i.update(r),new e(i.digest())}static fromEd25519PublicKey(t){const n=t.value,r=new Uint8Array(n.length+1);r.set(n),r.set([e.ED25519_SCHEME],n.length);const i=qi.create();return i.update(r),new e(i.digest())}derivedAddress(){return ps.fromUint8Array(this.bytes)}};aa.LENGTH=32,aa.MULTI_ED25519_SCHEME=1,aa.ED25519_SCHEME=0,aa.DERIVE_RESOURCE_ACCOUNT_SCHEME=255;var ca=aa,la=class{constructor(e,t,n,r,i,s,o){this.accountAddress=e,this.moduleName=t,this.structName=n,this.sequenceNumber=r,this.originator=i,this.currentAuthKey=s,this.newPublicKey=o}serialize(e){this.accountAddress.serialize(e),e.serializeStr(this.moduleName),e.serializeStr(this.structName),e.serializeU64(this.sequenceNumber),this.originator.serialize(e),this.currentAuthKey.serialize(e),e.serializeBytes(this.newPublicKey)}},ua=class e{static fromAptosAccountObject(t){return new e(ps.ensure(t.privateKeyHex).toUint8Array(),t.address)}static isValidPath(e){return/^m\/44'\/637'\/[0-9]+'\/[0-9]+'\/[0-9]+'+$/.test(e)}static fromDerivePath(t,n){if(!e.isValidPath(t))throw new Error("Invalid derivation path");const r=n.trim().split(/\s+/).map(e=>e.toLowerCase()).join(" "),{key:i}=$i(t,Hr(Ni(r)));return new e(i)}constructor(e,t){this.signingKey=e?h.u.sign.keyPair.fromSeed(e.slice(0,32)):h.u.sign.keyPair(),this.accountAddress=ps.ensure(t||this.authKey().hex())}address(){return this.accountAddress}authKey(){const e=new Ks(this.signingKey.publicKey);return ca.fromEd25519PublicKey(e).derivedAddress()}static getResourceAccountAddress(e,t){const n=Ms(Rs.fromHex(e)),r=new Uint8Array([...n,...t,ca.DERIVE_RESOURCE_ACCOUNT_SCHEME]),i=qi.create();return i.update(r),ps.fromUint8Array(i.digest())}static getCollectionID(e,t){const n=(new TextEncoder).encode("".concat(e,"::").concat(t)),r=fi.create();return r.update(n),ps.fromUint8Array(r.digest())}pubKey(){return ps.fromUint8Array(this.signingKey.publicKey)}signBuffer(e){const t=h.u.sign.detached(e,this.signingKey.secretKey);return ps.fromUint8Array(t)}signHexString(e){const t=ps.ensure(e).toUint8Array();return this.signBuffer(t)}verifySignature(e,t){const n=ps.ensure(e).toUint8Array(),r=ps.ensure(t).toUint8Array();return h.u.sign.detached.verify(n,r,this.signingKey.publicKey)}toPrivateKeyObject(){return{address:this.address().hex(),publicKeyHex:this.pubKey().hex(),privateKeyHex:ps.fromUint8Array(this.signingKey.secretKey.slice(0,32)).hex()}}};Ji([ns()],ua.prototype,"authKey");var da=ua,ha="\n    fragment CurrentTokenOwnershipFields on current_token_ownerships_v2 {\n  token_standard\n  token_properties_mutated_v1\n  token_data_id\n  table_type_v1\n  storage_id\n  property_version_v1\n  owner_address\n  last_transaction_version\n  last_transaction_timestamp\n  is_soulbound_v2\n  is_fungible_v2\n  amount\n  current_token_data {\n    collection_id\n    description\n    is_fungible_v2\n    largest_property_version_v1\n    last_transaction_timestamp\n    last_transaction_version\n    maximum\n    supply\n    token_data_id\n    token_name\n    token_properties\n    token_standard\n    token_uri\n    current_collection {\n      collection_id\n      collection_name\n      creator_address\n      current_supply\n      description\n      last_transaction_timestamp\n      last_transaction_version\n      max_supply\n      mutable_description\n      mutable_uri\n      table_handle_v1\n      token_standard\n      total_minted_v2\n      uri\n    }\n  }\n}\n    ",fa="\n    fragment TokenActivitiesFields on token_activities_v2 {\n  after_value\n  before_value\n  entry_function_id_str\n  event_account_address\n  event_index\n  from_address\n  is_fungible_v2\n  property_version_v1\n  to_address\n  token_amount\n  token_data_id\n  token_standard\n  transaction_timestamp\n  transaction_version\n  type\n}\n    ",ga="\n    query getAccountCurrentTokens($address: String!, $offset: Int, $limit: Int) {\n  current_token_ownerships(\n    where: {owner_address: {_eq: $address}, amount: {_gt: 0}}\n    order_by: [{last_transaction_version: desc}, {creator_address: asc}, {collection_name: asc}, {name: asc}]\n    offset: $offset\n    limit: $limit\n  ) {\n    amount\n    current_token_data {\n      ...TokenDataFields\n    }\n    current_collection_data {\n      ...CollectionDataFields\n    }\n    last_transaction_version\n    property_version\n  }\n}\n    ".concat("\n    fragment TokenDataFields on current_token_datas {\n  creator_address\n  collection_name\n  description\n  metadata_uri\n  name\n  token_data_id_hash\n  collection_data_id_hash\n}\n    ","\n").concat("\n    fragment CollectionDataFields on current_collection_datas {\n  metadata_uri\n  supply\n  description\n  collection_name\n  collection_data_id_hash\n  table_handle\n  creator_address\n}\n    "),pa="\n    query getAccountTransactionsData($where_condition: account_transactions_bool_exp!, $offset: Int, $limit: Int, $order_by: [account_transactions_order_by!]) {\n  account_transactions(\n    where: $where_condition\n    order_by: $order_by\n    limit: $limit\n    offset: $offset\n  ) {\n    token_activities_v2 {\n      ...TokenActivitiesFields\n    }\n    transaction_version\n    account_address\n  }\n}\n    ".concat(fa),ya="\n    query getOwnedTokens($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_token_ownerships_v2_order_by!]) {\n  current_token_ownerships_v2(\n    where: $where_condition\n    offset: $offset\n    limit: $limit\n    order_by: $order_by\n  ) {\n    ...CurrentTokenOwnershipFields\n  }\n}\n    ".concat(ha),wa="\n    query getOwnedTokensByTokenData($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_token_ownerships_v2_order_by!]) {\n  current_token_ownerships_v2(\n    where: $where_condition\n    offset: $offset\n    limit: $limit\n    order_by: $order_by\n  ) {\n    ...CurrentTokenOwnershipFields\n  }\n}\n    ".concat(ha),ma="\n    query getTokenActivities($where_condition: token_activities_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [token_activities_v2_order_by!]) {\n  token_activities_v2(\n    where: $where_condition\n    order_by: $order_by\n    offset: $offset\n    limit: $limit\n  ) {\n    ...TokenActivitiesFields\n  }\n}\n    ".concat(fa),Aa="\n    query getTokenCurrentOwnerData($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_token_ownerships_v2_order_by!]) {\n  current_token_ownerships_v2(\n    where: $where_condition\n    offset: $offset\n    limit: $limit\n    order_by: $order_by\n  ) {\n    ...CurrentTokenOwnershipFields\n  }\n}\n    ".concat(ha),va="\n    query getTokenOwnedFromCollection($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_token_ownerships_v2_order_by!]) {\n  current_token_ownerships_v2(\n    where: $where_condition\n    offset: $offset\n    limit: $limit\n    order_by: $order_by\n  ) {\n    ...CurrentTokenOwnershipFields\n  }\n}\n    ".concat(ha),ba="\n    query getTokenOwnersData($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_token_ownerships_v2_order_by!]) {\n  current_token_ownerships_v2(\n    where: $where_condition\n    offset: $offset\n    limit: $limit\n    order_by: $order_by\n  ) {\n    ...CurrentTokenOwnershipFields\n  }\n}\n    ".concat(ha);function za(e,t,n){if(null==t||!t.includes(typeof e))throw new Error("Invalid arg: ".concat(e," type should be ").concat(t instanceof Array?t.join(" or "):t))}function Ua(e){if(za(e,["boolean","string"]),"boolean"==typeof e)return e;if("true"===e)return!0;if("false"===e)return!1;throw new Error("Invalid boolean string.")}function Ea(e){if(za(e,["number","string"]),"number"==typeof e)return e;const t=Number.parseInt(e,10);if(Number.isNaN(t))throw new Error("Invalid number string.");return t}function _a(e){return za(e,["number","bigint","string"]),BigInt(e)}function Sa(e,t,n,r){if(t instanceof io)n.serializeBool(Ua(e));else if(t instanceof so)n.serializeU8(Ea(e));else if(t instanceof oo)n.serializeU16(Ea(e));else if(t instanceof ao)n.serializeU32(Ea(e));else if(t instanceof co)n.serializeU64(_a(e));else if(t instanceof lo)n.serializeU128(_a(e));else if(t instanceof uo)n.serializeU256(_a(e));else if(t instanceof ho)Ta(e,n);else if(t instanceof go)!function(e,t,n){if(t.value instanceof so){if(e instanceof Uint8Array)return void n.serializeBytes(e);if(e instanceof ps)return void n.serializeBytes(e.toUint8Array());if("string"==typeof e)return void n.serializeStr(e)}if(!Array.isArray(e))throw new Error("Invalid vector args.");n.serializeU32AsUleb128(e.length),e.forEach(e=>Sa(e,t.value,n))}(e,t,n);else{if(!(t instanceof po))throw new Error("Unsupported arg type.");!function(e,t,n){const{address:r,module_name:i,name:s,type_args:o}=t.value,a="".concat(ps.fromUint8Array(r.address).toShortString(),"::").concat(i.value,"::").concat(s.value);if("0x1::string::String"===a)za(e,["string"]),n.serializeStr(e);else if("0x1::object::Object"===a)Ta(e,n);else{if("0x1::option::Option"!==a)throw new Error("Unsupported struct type in function argument");if(1!==o.length)throw new Error("Option has the wrong number of type arguments ".concat(o.length));!function(e,t,n){null==e?n.serializeU32AsUleb128(0):(n.serializeU32AsUleb128(1),Sa(e,t,n))}(e,o[0],n)}}(e,t,n)}}function Ta(e,t){let n;if("string"==typeof e||e instanceof ps)n=Rs.fromHex(e);else{if(!(e instanceof Rs))throw new Error("Invalid account address.");n=e}n.serialize(t)}var Ma="APTOS::RawTransactionWithData",Ia=class{constructor(e,t){this.rawTxnBuilder=t,this.signingFunction=e}build(e,t,n){if(!this.rawTxnBuilder)throw new Error("this.rawTxnBuilder doesn't exist.");return this.rawTxnBuilder.build(e,t,n)}static getSigningMessage(e){const t=qi.create();if(e instanceof So)t.update("APTOS::RawTransaction");else if(e instanceof Bo)t.update(Ma);else{if(!(e instanceof Lo))throw new Error("Unknown transaction type.");t.update(Ma)}const n=t.digest(),r=Ms(e),i=new Uint8Array(n.length+r.length);return i.set(n),i.set(r,n.length),i}},Na=class extends Ia{constructor(e,t,n){super(e,n),this.publicKey=t}rawToSigned(e){const t=Ia.getSigningMessage(e),n=this.signingFunction(t),r=new Ys(new Ks(this.publicKey),n);return new Oo(e,r)}sign(e){return Ms(this.rawToSigned(e))}},xa=class extends Ia{constructor(e,t){super(e),this.publicKey=t}rawToSigned(e){const t=Ia.getSigningMessage(e),n=this.signingFunction(t),r=new Js(this.publicKey,n);return new Oo(e,r)}sign(e){return Ms(this.rawToSigned(e))}},ka=class e{constructor(e,t){this.abiMap=new Map,e.forEach(e=>{const t=new Es(e),n=ia.deserialize(t);let r;if(n instanceof oa){const e=n,{address:t,name:i}=e.module_name;r="".concat(ps.fromUint8Array(t.address).toShortString(),"::").concat(i.value,"::").concat(e.name)}else r=n.name;if(this.abiMap.has(r))throw new Error("Found conflicting ABI interfaces");this.abiMap.set(r,n)}),this.builderConfig=(0,i.A)({maxGasAmount:BigInt(ts),expSecFromNow:20},t)}static toBCSArgs(e,t){if(e.length!==t.length)throw new Error("Wrong number of args provided.");return t.map((t,n)=>{const r=new zs;return function(e,t,n){Sa(e,t,n)}(t,e[n].type_tag,r),r.getBytes()})}static toTransactionArguments(e,t){if(e.length!==t.length)throw new Error("Wrong number of args provided.");return t.map((t,n)=>function(e,t){if(t instanceof io)return new $o(Ua(e));if(t instanceof so)return new Vo(Ea(e));if(t instanceof oo)return new qo(Ea(e));if(t instanceof ao)return new Go(Ea(e));if(t instanceof co)return new Qo(_a(e));if(t instanceof lo)return new Yo(_a(e));if(t instanceof uo)return new Jo(_a(e));if(t instanceof ho){let t;if("string"==typeof e||e instanceof ps)t=Rs.fromHex(e);else{if(!(e instanceof Rs))throw new Error("Invalid account address.");t=e}return new Zo(t)}if(t instanceof go&&t.value instanceof so){if(!(e instanceof Uint8Array))throw new Error("".concat(e," should be an instance of Uint8Array"));return new Xo(e)}throw new Error("Unknown type for TransactionArgument.")}(t,e[n].type_tag))}setSequenceNumber(e){this.builderConfig.sequenceNumber=BigInt(e)}buildTransactionPayload(t,n,r){const i=n.map(e=>new Eo(e).parseTypeTag());let s;if(!this.abiMap.has(t))throw new Error("Cannot find function: ".concat(t));const o=this.abiMap.get(t);if(o instanceof oa){const t=o,n=e.toBCSArgs(t.args,r);s=new Fo(new Mo(t.module_name,new no(t.name),i,n))}else{if(!(o instanceof sa))throw new Error("Unknown ABI format.");{const t=o,n=e.toTransactionArguments(t.args,r);s=new Ro(new To(t.code,i,n))}}return s}build(e,t,n){const{sender:r,sequenceNumber:i,gasUnitPrice:s,maxGasAmount:o,expSecFromNow:a,chainId:c}=this.builderConfig;if(!s)throw new Error("No gasUnitPrice provided.");const l=r instanceof Rs?r:Rs.fromHex(r),u=BigInt(Math.floor(Date.now()/1e3)+Number(a)),d=this.buildTransactionPayload(e,t,n);if(d)return new So(l,BigInt(i),d,BigInt(o),BigInt(s),u,new Wo(Number(c)));throw new Error("Invalid ABI.")}},Ca=class{constructor(e,t){this.aptosClient=e,this.builderConfig=t}async fetchABI(e){const t=(await this.aptosClient.getAccountModules(e)).map(e=>e.abi).flatMap(e=>e.exposed_functions.filter(e=>e.is_entry).map(t=>(0,i.A)({fullName:"".concat(e.address,"::").concat(e.name,"::").concat(t.name)},t))),n=new Map;return t.forEach(e=>{n.set(e.fullName,e)}),n}async build(e,t,n){if(3!==(e=e.replace(/^0[xX]0*/g,"0x")).split("::").length)throw new Error("'func' needs to be a fully qualified function name in format <address>::<module>::<function>, e.g. 0x1::coin::transfer");const[s,o]=e.split("::"),a=await this.fetchABI(s);if(!a.has(e))throw new Error("".concat(e," doesn't exist."));const c=a.get(e),l=c.params.filter(e=>"signer"!==e&&"&signer"!==e).map((e,n)=>new ra("var".concat(n),new Eo(e,t).parseTypeTag())),u=new oa(c.name,ko.fromStr("".concat(s,"::").concat(o)),"",c.generic_type_params.map((e,t)=>new na("".concat(t))),l),d=this.builderConfig,{sender:h}=d,f=(0,r.A)(d,y),g=h instanceof Rs?ps.fromUint8Array(h.address):h,[{sequence_number:p},w,{gas_estimate:m}]=await Promise.all([null!=f&&f.sequenceNumber?Promise.resolve({sequence_number:null==f?void 0:f.sequenceNumber}):this.aptosClient.getAccount(g),null!=f&&f.chainId?Promise.resolve(null==f?void 0:f.chainId):this.aptosClient.getChainId(),null!=f&&f.gasUnitPrice?Promise.resolve({gas_estimate:null==f?void 0:f.gasUnitPrice}):this.aptosClient.estimateGasPrice()]);return new ka([Ms(u)],(0,i.A)({sender:h,sequenceNumber:p,chainId:w,gasUnitPrice:BigInt(m)},f)).build(e,t,n)}};Ji([rs(6e5)],Ca.prototype,"fetchABI");var Da=class e{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)throw new Error("Node URL cannot be empty.");this.nodeUrl=n?e:function(e){let t="".concat(e);return t.endsWith("/")&&(t=t.substring(0,t.length-1)),t.endsWith("/v1")||(t="".concat(t).concat("/v1")),t}(e),this.config=null==t?{}:(0,i.A)({},t)}async getAccount(e){const{data:t}=await us({url:this.nodeUrl,endpoint:"accounts/".concat(ps.ensure(e).hex()),originMethod:"getAccount",overrides:(0,i.A)({},this.config)});return t}async getAccountTransactions(e,t){const{data:n}=await us({url:this.nodeUrl,endpoint:"accounts/".concat(ps.ensure(e).hex(),"/transactions"),originMethod:"getAccountTransactions",params:{start:null==t?void 0:t.start,limit:null==t?void 0:t.limit},overrides:(0,i.A)({},this.config)});return n}async getAccountModules(e,t){return await hs({url:this.nodeUrl,endpoint:"accounts/".concat(e,"/modules"),params:{ledger_version:null==t?void 0:t.ledgerVersion,limit:1e3},originMethod:"getAccountModules",overrides:(0,i.A)({},this.config)})}async getAccountModule(e,t,n){const{data:r}=await us({url:this.nodeUrl,endpoint:"accounts/".concat(ps.ensure(e).hex(),"/module/").concat(t),originMethod:"getAccountModule",params:{ledger_version:null==n?void 0:n.ledgerVersion},overrides:(0,i.A)({},this.config)});return r}async getAccountResources(e,t){return await hs({url:this.nodeUrl,endpoint:"accounts/".concat(e,"/resources"),params:{ledger_version:null==t?void 0:t.ledgerVersion,limit:9999},originMethod:"getAccountResources",overrides:(0,i.A)({},this.config)})}async getAccountResource(e,t,n){const{data:r}=await us({url:this.nodeUrl,endpoint:"accounts/".concat(ps.ensure(e).hex(),"/resource/").concat(t),originMethod:"getAccountResource",params:{ledger_version:null==n?void 0:n.ledgerVersion},overrides:(0,i.A)({},this.config)});return r}static generateBCSTransaction(e,t){return new Na(t=>{const n=e.signBuffer(t);return new ys.Ed25519Signature(n.toUint8Array())},e.pubKey().toUint8Array()).sign(t)}static generateBCSSimulation(e,t){return new Na(e=>{const t=new Uint8Array(64);return new ys.Ed25519Signature(t)},e.pubKey().toUint8Array()).sign(t)}async generateTransaction(e,t,n){const r={sender:e};if(null!=n&&n.sequence_number&&(r.sequenceNumber=n.sequence_number),null!=n&&n.gas_unit_price&&(r.gasUnitPrice=n.gas_unit_price),null!=n&&n.max_gas_amount&&(r.maxGasAmount=n.max_gas_amount),null!=n&&n.expiration_timestamp_secs){const e=Number.parseInt(n.expiration_timestamp_secs,10);r.expSecFromNow=e-Math.floor(Date.now()/1e3)}return new Ca(this,r).build(t.function,t.type_arguments,t.arguments)}async generateFeePayerTransaction(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0;const s=await this.generateTransaction(e,t,i),o=r.map(e=>Rs.fromHex(e));return new ys.FeePayerRawTransaction(s,o,Rs.fromHex(n))}async submitFeePayerTransaction(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];const i=new ys.TransactionAuthenticatorFeePayer(t,e.secondary_signer_addresses,r,{address:e.fee_payer_address,authenticator:n}),s=Ms(new ys.SignedTransaction(e.raw_txn,i));return await this.submitSignedBCSTransaction(s)}async signMultiTransaction(e,t){const n=new ys.Ed25519Signature(e.signBuffer(Ia.getSigningMessage(t)).toUint8Array()),r=new ys.AccountAuthenticatorEd25519(new ys.Ed25519PublicKey(e.signingKey.publicKey),n);return Promise.resolve(r)}async signTransaction(t,n){return Promise.resolve(e.generateBCSTransaction(t,n))}async getEventsByCreationNumber(e,t,n){const{data:r}=await us({url:this.nodeUrl,endpoint:"accounts/".concat(ps.ensure(e).hex(),"/events/").concat(t),originMethod:"getEventsByCreationNumber",params:{start:null==n?void 0:n.start,limit:null==n?void 0:n.limit},overrides:(0,i.A)({},this.config)});return r}async getEventsByEventHandle(e,t,n,r){const{data:s}=await us({url:this.nodeUrl,endpoint:"accounts/".concat(ps.ensure(e).hex(),"/events/").concat(t,"/").concat(n),originMethod:"getEventsByEventHandle",params:{start:null==r?void 0:r.start,limit:null==r?void 0:r.limit},overrides:(0,i.A)({},this.config)});return s}async submitTransaction(e){return this.submitSignedBCSTransaction(e)}async simulateTransaction(t,n,r){let i;return i=t instanceof da?e.generateBCSSimulation(t,n):t instanceof Vs?new xa(()=>{const{threshold:e}=t,n=[],r=[];for(let t=0;t<e;t+=1)n.push(t),r.push(new ys.Ed25519Signature(new Uint8Array(64)));const i=ys.MultiEd25519Signature.createBitmap(n);return new ys.MultiEd25519Signature(r,i)},t).sign(n):new Na(()=>{const e=new Uint8Array(64);return new ys.Ed25519Signature(e)},t.toBytes()).sign(n),this.submitBCSSimulation(i,r)}async submitSignedBCSTransaction(e){const{data:t}=await ds({url:this.nodeUrl,body:e,endpoint:"transactions",originMethod:"submitSignedBCSTransaction",contentType:"application/x.aptos.signed_transaction+bcs",overrides:(0,i.A)({},this.config)});return t}async submitBCSSimulation(e,t){var n,r,s;const o={estimate_gas_unit_price:null!=(n=null==t?void 0:t.estimateGasUnitPrice)&&n,estimate_max_gas_amount:null!=(r=null==t?void 0:t.estimateMaxGasAmount)&&r,estimate_prioritized_gas_unit_price:null!=(s=null==t?void 0:t.estimatePrioritizedGasUnitPrice)&&s},{data:a}=await ds({url:this.nodeUrl,body:e,endpoint:"transactions/simulate",params:o,originMethod:"submitBCSSimulation",contentType:"application/x.aptos.signed_transaction+bcs",overrides:(0,i.A)({},this.config)});return a}async getTransactions(e){var t;const{data:n}=await us({url:this.nodeUrl,endpoint:"transactions",originMethod:"getTransactions",params:{start:null==(t=null==e?void 0:e.start)?void 0:t.toString(),limit:null==e?void 0:e.limit},overrides:(0,i.A)({},this.config)});return n}async getTransactionByHash(e){const{data:t}=await us({url:this.nodeUrl,endpoint:"transactions/by_hash/".concat(e),originMethod:"getTransactionByHash",overrides:(0,i.A)({},this.config)});return t}async getTransactionByVersion(e){const{data:t}=await us({url:this.nodeUrl,endpoint:"transactions/by_version/".concat(e),originMethod:"getTransactionByVersion",overrides:(0,i.A)({},this.config)});return t}async transactionPending(e){try{return"pending_transaction"===(await this.getTransactionByHash(e)).type}catch(t){if(404===(null==t?void 0:t.status))return!0;throw t}}async waitForTransactionWithResult(e,t){var n,r;const i=null!=(n=null==t?void 0:t.timeoutSecs)?n:20,s=null!=(r=null==t?void 0:t.checkSuccess)&&r;let o,a=!0,c=0;for(;a&&!(c>=i);){try{if(o=await this.getTransactionByHash(e),a="pending_transaction"===o.type,!a)break}catch(l){const e=l instanceof La,t=e&&404!==l.status&&l.status>=400&&l.status<500;if(!e||t)throw l}await es(1e3),c+=1}if(void 0===o)throw new Error("Waiting for transaction ".concat(e," failed"));if(a)throw new ja("Waiting for transaction ".concat(e," timed out after ").concat(i," seconds"),o);if(!s)return o;if(null==o||!o.success)throw new Ba("Transaction ".concat(e," failed with an error: ").concat(o.vm_status),o);return o}async waitForTransaction(e,t){await this.waitForTransactionWithResult(e,t)}async getLedgerInfo(){const{data:e}=await us({url:this.nodeUrl,originMethod:"getLedgerInfo",overrides:(0,i.A)({},this.config)});return e}async getChainId(){return(await this.getLedgerInfo()).chain_id}async getTableItem(e,t,n){var r;return(await ds({url:this.nodeUrl,body:t,endpoint:"tables/".concat(e,"/item"),originMethod:"getTableItem",params:{ledger_version:null==(r=null==n?void 0:n.ledgerVersion)?void 0:r.toString()},overrides:(0,i.A)({},this.config)})).data}async generateRawTransaction(e,t,n){const[{sequence_number:r},s,{gas_estimate:o}]=await Promise.all([null!=n&&n.providedSequenceNumber?Promise.resolve({sequence_number:n.providedSequenceNumber}):this.getAccount(e),this.getChainId(),null!=n&&n.gasUnitPrice?Promise.resolve({gas_estimate:n.gasUnitPrice}):this.estimateGasPrice()]),{maxGasAmount:a,gasUnitPrice:c,expireTimestamp:l}=(0,i.A)({maxGasAmount:BigInt(ts),gasUnitPrice:BigInt(o),expireTimestamp:BigInt(Math.floor(Date.now()/1e3)+20)},n);return new ys.RawTransaction(ys.AccountAddress.fromHex(e),BigInt(r),t,a,c,l,new ys.ChainId(s))}async generateSignSubmitTransaction(t,n,r){const i=await this.generateRawTransaction(t.address(),n,r),s=e.generateBCSTransaction(t,i);return(await this.submitSignedBCSTransaction(s)).hash}async signAndSubmitTransaction(t,n){const r=e.generateBCSTransaction(t,n);return(await this.submitSignedBCSTransaction(r)).hash}async publishPackage(e,t,n,r){const i=new zs;_s(n,i);const s=new ys.TransactionPayloadEntryFunction(ys.EntryFunction.natural("0x1::code","publish_package_txn",[],[Bs(t),i.getBytes()]));return this.generateSignSubmitTransaction(e,s,r)}async createResourceAccountAndPublishPackage(e,t,n,r,i){const s=new zs;_s(r,s);const o=new ys.TransactionPayloadEntryFunction(ys.EntryFunction.natural("0x1::resource_account","create_resource_account_and_publish_package",[],[Bs(t),Bs(n),s.getBytes()]));return this.generateSignSubmitTransaction(e,o,i)}async generateSignSubmitWaitForTransaction(e,t,n){const r=await this.generateSignSubmitTransaction(e,t,n);return this.waitForTransactionWithResult(r,n)}async estimateGasPrice(){const{data:e}=await us({url:this.nodeUrl,endpoint:"estimate_gas_price",originMethod:"estimateGasPrice",overrides:(0,i.A)({},this.config)});return e}async estimateMaxGasAmount(e){const t="0x1::coin::CoinStore<".concat("0x1::aptos_coin::AptosCoin",">"),[{gas_estimate:n},r]=await Promise.all([this.estimateGasPrice(),this.getAccountResources(e)]),i=r.find(e=>e.type===t);return BigInt(i.data.coin.value)/BigInt(n)}async rotateAuthKeyEd25519(t,n,r){const{sequence_number:i,authentication_key:s}=await this.getAccount(t.address()),o=new da(n),a=new ys.RotationProofChallenge(ys.AccountAddress.CORE_CODE_ADDRESS,"account","RotationProofChallenge",BigInt(i),ys.AccountAddress.fromHex(t.address()),new ys.AccountAddress(new ps(s).toUint8Array()),o.pubKey().toUint8Array()),c=ps.fromUint8Array(Ms(a)),l=t.signHexString(c),u=o.signHexString(c),d=new ys.TransactionPayloadEntryFunction(ys.EntryFunction.natural("0x1::account","rotate_authentication_key",[],[Ns(0),Bs(t.pubKey().toUint8Array()),Ns(0),Bs(o.pubKey().toUint8Array()),Bs(l.toUint8Array()),Bs(u.toUint8Array())])),h=await this.generateRawTransaction(t.address(),d,r),f=e.generateBCSTransaction(t,h);return this.submitSignedBCSTransaction(f)}async lookupOriginalAddress(e){const t=await this.getAccountResource("0x1","0x1::account::OriginatingAddress"),{address_map:{handle:n}}=t.data,r=await this.getTableItem(n,{key_type:"address",value_type:"address",key:ps.ensure(e).hex()});return new ps(r)}async getBlockByHeight(e,t){const{data:n}=await us({url:this.nodeUrl,endpoint:"blocks/by_height/".concat(e),originMethod:"getBlockByHeight",params:{with_transactions:t},overrides:(0,i.A)({},this.config)});return n}async getBlockByVersion(e,t){const{data:n}=await us({url:this.nodeUrl,endpoint:"blocks/by_version/".concat(e),originMethod:"getBlockByVersion",params:{with_transactions:t},overrides:(0,i.A)({},this.config)});return n}async view(e,t){const{data:n}=await ds({url:this.nodeUrl,body:e,endpoint:"view",originMethod:"getTableItem",params:{ledger_version:t},overrides:(0,i.A)({},this.config)});return n}clearCache(e){!function(e){const t=new Set;for(const n of e){const e=is.get(n);if(e)for(const n of e)t.has(n)||(n.clear(),t.add(n))}t.size}(e)}};Ji([Pa],Da.prototype,"getAccount"),Ji([Pa],Da.prototype,"getAccountTransactions"),Ji([Pa,rs(6e5)],Da.prototype,"getAccountModules"),Ji([Pa],Da.prototype,"getAccountModule"),Ji([Pa],Da.prototype,"getAccountResources"),Ji([Pa],Da.prototype,"getAccountResource"),Ji([Pa],Da.prototype,"getEventsByCreationNumber"),Ji([Pa],Da.prototype,"getEventsByEventHandle"),Ji([Pa],Da.prototype,"submitSignedBCSTransaction"),Ji([Pa],Da.prototype,"submitBCSSimulation"),Ji([Pa],Da.prototype,"getTransactions"),Ji([Pa],Da.prototype,"getTransactionByHash"),Ji([Pa],Da.prototype,"getTransactionByVersion"),Ji([Pa],Da.prototype,"getLedgerInfo"),Ji([ns()],Da.prototype,"getChainId"),Ji([Pa],Da.prototype,"getTableItem"),Ji([Pa,ns({ttlMs:3e5,tags:["gas_estimates"]})],Da.prototype,"estimateGasPrice"),Ji([Pa],Da.prototype,"estimateMaxGasAmount"),Ji([Pa],Da.prototype,"getBlockByHeight"),Ji([Pa],Da.prototype,"getBlockByVersion"),Ji([Pa],Da.prototype,"view");var Oa=Da,ja=class extends Error{constructor(e,t){super(e),this.lastSubmittedTransaction=t}},Ba=class extends Error{constructor(e,t){super(e),this.transaction=t}},La=class extends Error{constructor(e,t,n,r){super(t),this.status=e,this.message=t,this.errorCode=n,this.vmErrorCode=r}};function Pa(e,t,n){const r=n.value;return n.value=async function(){var e,t;try{for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return await r.apply(this,[...s])}catch(a){throw a instanceof os?new La(a.status,JSON.stringify((0,i.A)({message:a.message},a.data)),null==(e=a.data)?void 0:e.error_code,null==(t=a.data)?void 0:t.vm_error_code):a}},n}var Ra=class e{constructor(e,t){this.endpoint=e,this.config=t}static validateAddress(e){if(e.length<66)throw new Error("".concat(e," is less than 66 chars long."))}async queryIndexer(e){const t=await ds({url:this.endpoint,body:e,overrides:(0,i.A)({WITH_CREDENTIALS:!1},this.config)});if(t.data.errors)throw new La(t.data.errors[0].extensions.code,JSON.stringify({message:t.data.errors[0].message,error_code:t.data.errors[0].extensions.code}));return t.data.data}async getIndexerLedgerInfo(){const e={query:"\n    query getIndexerLedgerInfo {\n  ledger_infos {\n    chain_id\n  }\n}\n    "};return this.queryIndexer(e)}async getAccountNFTs(t,n){const r=ps.ensure(t).hex();e.validateAddress(r);const i={query:ga,variables:{address:r,offset:null==n?void 0:n.offset,limit:null==n?void 0:n.limit}};return this.queryIndexer(i)}async getTokenActivities(t,n){var r,i;const s=ps.ensure(t).hex();e.validateAddress(s);const o={token_data_id:{_eq:s}};null!=n&&n.tokenStandard&&(o.token_standard={_eq:null==n?void 0:n.tokenStandard});const a={query:ma,variables:{where_condition:o,offset:null==(r=null==n?void 0:n.options)?void 0:r.offset,limit:null==(i=null==n?void 0:n.options)?void 0:i.limit,order_by:null==n?void 0:n.orderBy}};return this.queryIndexer(a)}async getTokenActivitiesCount(e){const t={query:"\n    query getTokenActivitiesCount($token_id: String) {\n  token_activities_v2_aggregate(where: {token_data_id: {_eq: $token_id}}) {\n    aggregate {\n      count\n    }\n  }\n}\n    ",variables:{token_id:e}};return this.queryIndexer(t)}async getAccountTokensCount(t,n){var r,i;const s={owner_address:{_eq:t},amount:{_gt:"0"}};null!=n&&n.tokenStandard&&(s.token_standard={_eq:null==n?void 0:n.tokenStandard});const o=ps.ensure(t).hex();e.validateAddress(o);const a={query:"\n    query getAccountTokensCount($where_condition: current_token_ownerships_v2_bool_exp, $offset: Int, $limit: Int) {\n  current_token_ownerships_v2_aggregate(\n    where: $where_condition\n    offset: $offset\n    limit: $limit\n  ) {\n    aggregate {\n      count\n    }\n  }\n}\n    ",variables:{where_condition:s,offset:null==(r=null==n?void 0:n.options)?void 0:r.offset,limit:null==(i=null==n?void 0:n.options)?void 0:i.limit}};return this.queryIndexer(a)}async getTokenData(t,n){var r,i;const s=ps.ensure(t).hex();e.validateAddress(s);const o={token_data_id:{_eq:s}};null!=n&&n.tokenStandard&&(o.token_standard={_eq:null==n?void 0:n.tokenStandard});const a={query:"\n    query getTokenData($where_condition: current_token_datas_v2_bool_exp, $offset: Int, $limit: Int, $order_by: [current_token_datas_v2_order_by!]) {\n  current_token_datas_v2(\n    where: $where_condition\n    offset: $offset\n    limit: $limit\n    order_by: $order_by\n  ) {\n    collection_id\n    description\n    is_fungible_v2\n    largest_property_version_v1\n    last_transaction_timestamp\n    last_transaction_version\n    maximum\n    supply\n    token_data_id\n    token_name\n    token_properties\n    token_standard\n    token_uri\n    current_collection {\n      collection_id\n      collection_name\n      creator_address\n      current_supply\n      description\n      last_transaction_timestamp\n      last_transaction_version\n      max_supply\n      mutable_description\n      mutable_uri\n      table_handle_v1\n      token_standard\n      total_minted_v2\n      uri\n    }\n  }\n}\n    ",variables:{where_condition:o,offset:null==(r=null==n?void 0:n.options)?void 0:r.offset,limit:null==(i=null==n?void 0:n.options)?void 0:i.limit,order_by:null==n?void 0:n.orderBy}};return this.queryIndexer(a)}async getTokenOwnersData(t,n,r){var i,s;const o=ps.ensure(t).hex();e.validateAddress(o);const a={token_data_id:{_eq:o},amount:{_gt:"0"}};n&&(a.property_version_v1={_eq:n}),null!=r&&r.tokenStandard&&(a.token_standard={_eq:null==r?void 0:r.tokenStandard});const c={query:ba,variables:{where_condition:a,offset:null==(i=null==r?void 0:r.options)?void 0:i.offset,limit:null==(s=null==r?void 0:r.options)?void 0:s.limit,order_by:null==r?void 0:r.orderBy}};return this.queryIndexer(c)}async getTokenCurrentOwnerData(t,n,r){var i,s;const o=ps.ensure(t).hex();e.validateAddress(o);const a={token_data_id:{_eq:o},amount:{_gt:"0"}};n&&(a.property_version_v1={_eq:n}),null!=r&&r.tokenStandard&&(a.token_standard={_eq:null==r?void 0:r.tokenStandard});const c={query:Aa,variables:{where_condition:a,offset:null==(i=null==r?void 0:r.options)?void 0:i.offset,limit:null==(s=null==r?void 0:r.options)?void 0:s.limit,order_by:null==r?void 0:r.orderBy}};return this.queryIndexer(c)}async getOwnedTokens(t,n){var r,i;const s=ps.ensure(t).hex();e.validateAddress(s);const o={owner_address:{_eq:s},amount:{_gt:0}};null!=n&&n.tokenStandard&&(o.token_standard={_eq:null==n?void 0:n.tokenStandard});const a={query:ya,variables:{where_condition:o,offset:null==(r=null==n?void 0:n.options)?void 0:r.offset,limit:null==(i=null==n?void 0:n.options)?void 0:i.limit,order_by:null==n?void 0:n.orderBy}};return this.queryIndexer(a)}async getOwnedTokensByTokenData(t,n){var r,i;const s=ps.ensure(t).hex();e.validateAddress(s);const o={token_data_id:{_eq:s},amount:{_gt:0}};null!=n&&n.tokenStandard&&(o.token_standard={_eq:null==n?void 0:n.tokenStandard});const a={query:wa,variables:{where_condition:o,offset:null==(r=null==n?void 0:n.options)?void 0:r.offset,limit:null==(i=null==n?void 0:n.options)?void 0:i.limit,order_by:null==n?void 0:n.orderBy}};return this.queryIndexer(a)}async getTokenOwnedFromCollectionAddress(t,n,r){var i,s;const o=ps.ensure(t).hex();e.validateAddress(o);const a=ps.ensure(n).hex();e.validateAddress(a);const c={owner_address:{_eq:o},current_token_data:{collection_id:{_eq:a}},amount:{_gt:0}};null!=r&&r.tokenStandard&&(c.token_standard={_eq:null==r?void 0:r.tokenStandard});const l={query:va,variables:{where_condition:c,offset:null==(i=null==r?void 0:r.options)?void 0:i.offset,limit:null==(s=null==r?void 0:r.options)?void 0:s.limit,order_by:null==r?void 0:r.orderBy}};return this.queryIndexer(l)}async getTokenOwnedFromCollectionNameAndCreatorAddress(e,t,n,r){const i=await this.getCollectionAddress(n,t,r);return await this.getTokenOwnedFromCollectionAddress(e,i,r)}async getCollectionData(t,n,r){var i,s;const o=ps.ensure(t).hex();e.validateAddress(o);const a={collection_name:{_eq:n},creator_address:{_eq:o}};null!=r&&r.tokenStandard&&(a.token_standard={_eq:null==r?void 0:r.tokenStandard});const c={query:"\n    query getCollectionData($where_condition: current_collections_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_collections_v2_order_by!]) {\n  current_collections_v2(\n    where: $where_condition\n    offset: $offset\n    limit: $limit\n    order_by: $order_by\n  ) {\n    collection_id\n    collection_name\n    creator_address\n    current_supply\n    description\n    last_transaction_timestamp\n    last_transaction_version\n    max_supply\n    mutable_description\n    mutable_uri\n    table_handle_v1\n    token_standard\n    total_minted_v2\n    uri\n  }\n}\n    ",variables:{where_condition:a,offset:null==(i=null==r?void 0:r.options)?void 0:i.offset,limit:null==(s=null==r?void 0:r.options)?void 0:s.limit,order_by:null==r?void 0:r.orderBy}};return this.queryIndexer(c)}async getCollectionAddress(e,t,n){return(await this.getCollectionData(e,t,n)).current_collections_v2[0].collection_id}async getCollectionsWithOwnedTokens(t,n){var r,i;const s=ps.ensure(t).hex();e.validateAddress(s);const o={owner_address:{_eq:s}};null!=n&&n.tokenStandard&&(o.current_collection={token_standard:{_eq:null==n?void 0:n.tokenStandard}});const a={query:"\n    query getCollectionsWithOwnedTokens($where_condition: current_collection_ownership_v2_view_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_collection_ownership_v2_view_order_by!]) {\n  current_collection_ownership_v2_view(\n    where: $where_condition\n    offset: $offset\n    limit: $limit\n    order_by: $order_by\n  ) {\n    current_collection {\n      collection_id\n      collection_name\n      creator_address\n      current_supply\n      description\n      last_transaction_timestamp\n      last_transaction_version\n      mutable_description\n      max_supply\n      mutable_uri\n      table_handle_v1\n      token_standard\n      total_minted_v2\n      uri\n    }\n    collection_id\n    collection_name\n    collection_uri\n    creator_address\n    distinct_tokens\n    last_transaction_version\n    owner_address\n    single_token_uri\n  }\n}\n    ",variables:{where_condition:o,offset:null==(r=null==n?void 0:n.options)?void 0:r.offset,limit:null==(i=null==n?void 0:n.options)?void 0:i.limit,order_by:null==n?void 0:n.orderBy}};return this.queryIndexer(a)}async getAccountTransactionsCount(t){const n=ps.ensure(t).hex();e.validateAddress(n);const r={query:"\n    query getAccountTransactionsCount($address: String) {\n  account_transactions_aggregate(where: {account_address: {_eq: $address}}) {\n    aggregate {\n      count\n    }\n  }\n}\n    ",variables:{address:n}};return this.queryIndexer(r)}async getAccountTransactionsData(t,n){var r,i;const s=ps.ensure(t).hex();e.validateAddress(s);const o={query:pa,variables:{where_condition:{account_address:{_eq:s}},offset:null==(r=null==n?void 0:n.options)?void 0:r.offset,limit:null==(i=null==n?void 0:n.options)?void 0:i.limit,order_by:null==n?void 0:n.orderBy}};return this.queryIndexer(o)}async getTopUserTransactions(e){const t={query:"\n    query getTopUserTransactions($limit: Int) {\n  user_transactions(limit: $limit, order_by: {version: desc}) {\n    version\n  }\n}\n    ",variables:{limit:e}};return this.queryIndexer(t)}async getUserTransactions(e){var t,n;const r={query:"\n    query getUserTransactions($where_condition: user_transactions_bool_exp!, $offset: Int, $limit: Int, $order_by: [user_transactions_order_by!]) {\n  user_transactions(\n    order_by: $order_by\n    where: $where_condition\n    limit: $limit\n    offset: $offset\n  ) {\n    version\n  }\n}\n    ",variables:{where_condition:{version:{_lte:null==e?void 0:e.startVersion}},offset:null==(t=null==e?void 0:e.options)?void 0:t.offset,limit:null==(n=null==e?void 0:e.options)?void 0:n.limit,order_by:null==e?void 0:e.orderBy}};return this.queryIndexer(r)}async getDelegatedStakingActivities(t,n){const r=ps.ensure(t).hex(),i=ps.ensure(n).hex();e.validateAddress(r),e.validateAddress(i);const s={query:"\n    query getDelegatedStakingActivities($delegatorAddress: String, $poolAddress: String) {\n  delegated_staking_activities(\n    where: {delegator_address: {_eq: $delegatorAddress}, pool_address: {_eq: $poolAddress}}\n  ) {\n    amount\n    delegator_address\n    event_index\n    event_type\n    pool_address\n    transaction_version\n  }\n}\n    ",variables:{delegatorAddress:r,poolAddress:i}};return this.queryIndexer(s)}async getNumberOfDelegators(t){const n=ps.ensure(t).hex();e.validateAddress(n);const r={query:'\n    query getNumberOfDelegators($poolAddress: String) {\n  num_active_delegator_per_pool(\n    where: {pool_address: {_eq: $poolAddress}, num_active_delegator: {_gt: "0"}}\n    distinct_on: pool_address\n  ) {\n    num_active_delegator\n    pool_address\n  }\n}\n    ',variables:{poolAddress:n}};return this.queryIndexer(r)}async getAccountCoinsData(t,n){var r,i;const s=ps.ensure(t).hex();e.validateAddress(s);const o={query:"\n    query getAccountCoinsData($where_condition: current_fungible_asset_balances_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_fungible_asset_balances_order_by!]) {\n  current_fungible_asset_balances(\n    where: $where_condition\n    offset: $offset\n    limit: $limit\n    order_by: $order_by\n  ) {\n    amount\n    asset_type\n    is_frozen\n    is_primary\n    last_transaction_timestamp\n    last_transaction_version\n    owner_address\n    storage_id\n    token_standard\n    metadata {\n      token_standard\n      symbol\n      supply_aggregator_table_key_v1\n      supply_aggregator_table_handle_v1\n      project_uri\n      name\n      last_transaction_version\n      last_transaction_timestamp\n      icon_uri\n      decimals\n      creator_address\n      asset_type\n    }\n  }\n}\n    ",variables:{where_condition:{owner_address:{_eq:s}},offset:null==(r=null==n?void 0:n.options)?void 0:r.offset,limit:null==(i=null==n?void 0:n.options)?void 0:i.limit,order_by:null==n?void 0:n.orderBy}};return this.queryIndexer(o)}async getAccountCoinsDataCount(t){const n=ps.ensure(t).hex();e.validateAddress(n);const r={query:"\n    query getAccountCoinsDataCount($address: String) {\n  current_fungible_asset_balances_aggregate(\n    where: {owner_address: {_eq: $address}}\n  ) {\n    aggregate {\n      count\n    }\n  }\n}\n    ",variables:{address:n}};return this.queryIndexer(r)}async getAccountOwnedObjects(t,n){var r,i;const s=ps.ensure(t).hex();e.validateAddress(s);const o={query:"\n    query getCurrentObjects($where_condition: current_objects_bool_exp, $offset: Int, $limit: Int, $order_by: [current_objects_order_by!]) {\n  current_objects(\n    where: $where_condition\n    offset: $offset\n    limit: $limit\n    order_by: $order_by\n  ) {\n    allow_ungated_transfer\n    state_key_hash\n    owner_address\n    object_address\n    last_transaction_version\n    last_guid_creation_num\n    is_deleted\n  }\n}\n    ",variables:{where_condition:{owner_address:{_eq:s}},offset:null==(r=null==n?void 0:n.options)?void 0:r.offset,limit:null==(i=null==n?void 0:n.options)?void 0:i.limit,order_by:null==n?void 0:n.orderBy}};return this.queryIndexer(o)}},Fa=class{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=null,i=null;if("object"==typeof e&&function(e){return void 0!==e.fullnodeUrl&&"string"==typeof e.fullnodeUrl}(e)?(r=e.fullnodeUrl,i=e.indexerUrl,this.network="CUSTOM"):(r=gs[e],i=fs[e],this.network=e),"CUSTOM"===this.network&&!r)throw new Error("fullnode url is not provided");i&&(this.indexerClient=new Ra(i,t)),this.aptosClient=new Oa(r,t,n)}};function Ka(e,t,n){Object.getOwnPropertyNames(t.prototype).forEach(r=>{const i=Object.getOwnPropertyDescriptor(t.prototype,r);i&&(i.value=function(){return this[n][r](...arguments)},Object.defineProperty(e.prototype,r,i))}),Object.getOwnPropertyNames(t).forEach(r=>{const i=Object.getOwnPropertyDescriptor(t,r);i&&(i.value=function(){return this[n][r](...arguments)},!e.hasOwnProperty.call(e,r)&&Object.defineProperty(e,r,i))})}Ka(Fa,Oa,"aptosClient"),Ka(Fa,Ra,"indexerClient");var Wa=class{constructor(e,t){this.type=e,this.value=t}},Ha=class{constructor(){this.data={}}setProperty(e,t){this.data[e]=t}};function Va(e){const t=e.map.data,n=new Ha;return t.forEach(e=>{const{key:t}=e,r=e.value.value,i=e.value.type,s=function(e){let t;return t="string"===e||"String"===e?new po(wo):new Eo(e).parseTypeTag(),t}(i),o=function(e,t){const n=new Es(new ps(t).toUint8Array());let r="";return r=e instanceof so?n.deserializeU8().toString():e instanceof co?n.deserializeU64().toString():e instanceof lo?n.deserializeU128().toString():e instanceof io?n.deserializeBool()?"true":"false":e instanceof ho?ps.fromUint8Array(n.deserializeFixedBytes(32)).hex():e instanceof po&&e.isStringTypeTag()?n.deserializeStr():t,r}(s,r),a=new Wa(i,o);n.setProperty(t,a)}),n}Yi({},{PropertyMap:()=>Ha,PropertyValue:()=>Wa,Token:()=>Ga,TokenData:()=>qa});var qa=class{constructor(e,t,n,r,i,s,o,a){this.collection=e,this.description=t,this.name=n,this.maximum=r,this.supply=i,this.uri=s,this.default_properties=Va(o),this.mutability_config=a}},Ga=class{constructor(e,t,n){this.id=e,this.amount=t,this.token_properties=Va(n)}};Yi({},{AptosErrorCode:()=>Qa,MoveFunctionVisibility:()=>Ya,RoleType:()=>Ja});var Qa=(e=>(e.ACCOUNT_NOT_FOUND="account_not_found",e.RESOURCE_NOT_FOUND="resource_not_found",e.MODULE_NOT_FOUND="module_not_found",e.STRUCT_FIELD_NOT_FOUND="struct_field_not_found",e.VERSION_NOT_FOUND="version_not_found",e.TRANSACTION_NOT_FOUND="transaction_not_found",e.TABLE_ITEM_NOT_FOUND="table_item_not_found",e.BLOCK_NOT_FOUND="block_not_found",e.STATE_VALUE_NOT_FOUND="state_value_not_found",e.VERSION_PRUNED="version_pruned",e.BLOCK_PRUNED="block_pruned",e.INVALID_INPUT="invalid_input",e.INVALID_TRANSACTION_UPDATE="invalid_transaction_update",e.SEQUENCE_NUMBER_TOO_OLD="sequence_number_too_old",e.VM_ERROR="vm_error",e.HEALTH_CHECK_FAILED="health_check_failed",e.MEMPOOL_IS_FULL="mempool_is_full",e.INTERNAL_ERROR="internal_error",e.WEB_FRAMEWORK_ERROR="web_framework_error",e.BCS_NOT_SUPPORTED="bcs_not_supported",e.API_DISABLED="api_disabled",e))(Qa||{}),Ya=(e=>(e.PRIVATE="private",e.PUBLIC="public",e.FRIEND="friend",e))(Ya||{}),Ja=(e=>(e.VALIDATOR="validator",e.FULL_NODE="full_node",e))(Ja||{});function Za(e){return void 0!==(null==e?void 0:e.serialize)&&void 0!==(null==e?void 0:e.bcsToBytes)&&void 0!==(null==e?void 0:e.bcsToHex)}function Xa(e){return function(e){return void 0!==(null==e?void 0:e.serialize)}(e)||Za(e)}function $a(e){if(Za(e))return e.bcsToHex().toString();const t=ws.bcsToBytes(e);return u.c.fromHexInput(t).toString()}function ec(e,t){const n=u.c.fromHexString(t).toUint8Array(),r=new u.b(n);return e.deserialize(r)}var tc=class e extends Error{constructor(t){super(t),this.name="UnexpectedValueError",Object.setPrototypeOf(this,e.prototype)}};function nc(e){return e instanceof Uint8Array?{type:"Uint8Array",value:u.c.fromHexInput(e).toString()}:Array.isArray(e)?e.map(nc):e}function rc(e){const t=e.arguments.map(nc);return(0,i.A)((0,i.A)({},e),{},{arguments:t,type:"entry_function_payload"})}function ic(e){if("entry_function_payload"===e.type||void 0===e.type)return rc(e);if("multisig_payload"===e.type){const t=void 0!==e.transaction_payload?rc(e.transaction_payload):void 0;return(0,i.A)((0,i.A)({},e),{},{transaction_payload:t})}throw new tc}function sc(e){const t=$a(e);if("fee_payer_address"in e)return{type:"fee_payer_raw_txn",value:t};if("secondary_signer_addresses"in e)return{type:"multi_agent_raw_txn",value:t};if("chain_id"in e)return{type:"raw_txn",value:t};throw new tc("Invalid raw transaction type")}function oc(e,t){return function(){return e.apply(t,arguments)}}const{toString:ac}=Object.prototype,{getPrototypeOf:cc}=Object,{iterator:lc,toStringTag:uc}=Symbol,dc=(e=>t=>{const n=ac.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),hc=e=>(e=e.toLowerCase(),t=>dc(t)===e),fc=e=>t=>typeof t===e,{isArray:gc}=Array,pc=fc("undefined");const yc=hc("ArrayBuffer");const wc=fc("string"),mc=fc("function"),Ac=fc("number"),vc=e=>null!==e&&"object"==typeof e,bc=e=>{if("object"!==dc(e))return!1;const t=cc(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(uc in e)&&!(lc in e)},zc=hc("Date"),Uc=hc("File"),Ec=hc("Blob"),_c=hc("FileList"),Sc=hc("URLSearchParams"),[Tc,Mc,Ic,Nc]=["ReadableStream","Request","Response","Headers"].map(hc);function xc(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!(null===e||typeof e>"u"))if("object"!=typeof e&&(e=[e]),gc(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),s=r.length;let o;for(n=0;n<s;n++)o=r[n],t.call(null,e[o],o,e)}}function kc(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const Cc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:l.d.global,Dc=e=>!pc(e)&&e!==Cc;const Oc=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&cc(Uint8Array)),jc=hc("HTMLFormElement"),Bc=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),Lc=hc("RegExp"),Pc=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};xc(n,(n,i)=>{let s;!1!==(s=t(n,i,e))&&(r[i]=s||n)}),Object.defineProperties(e,r)};const Rc=hc("AsyncFunction"),Fc=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],Cc.addEventListener("message",e=>{let{source:t,data:i}=e;t===Cc&&i===n&&r.length&&r.shift()()},!1),e=>{r.push(e),Cc.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"==typeof setImmediate,mc(Cc.postMessage)),Kc=typeof queueMicrotask<"u"?queueMicrotask.bind(Cc):typeof l.d.process<"u"&&l.d.process.nextTick||Fc,Wc={isArray:gc,isArrayBuffer:yc,isBuffer:function(e){return null!==e&&!pc(e)&&null!==e.constructor&&!pc(e.constructor)&&mc(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||mc(e.append)&&("formdata"===(t=dc(e))||"object"===t&&mc(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t=typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&yc(e.buffer),t},isString:wc,isNumber:Ac,isBoolean:e=>!0===e||!1===e,isObject:vc,isPlainObject:bc,isReadableStream:Tc,isRequest:Mc,isResponse:Ic,isHeaders:Nc,isUndefined:pc,isDate:zc,isFile:Uc,isBlob:Ec,isRegExp:Lc,isFunction:mc,isStream:e=>vc(e)&&mc(e.pipe),isURLSearchParams:Sc,isTypedArray:Oc,isFileList:_c,forEach:xc,merge:function e(){const{caseless:t}=Dc(this)&&this||{},n={},r=(r,i)=>{const s=t&&kc(n,i)||i;bc(n[s])&&bc(r)?n[s]=e(n[s],r):bc(r)?n[s]=e({},r):gc(r)?n[s]=r.slice():n[s]=r};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&xc(arguments[i],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return xc(t,(t,r)=>{n&&mc(t)?e[r]=oc(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,s,o;const a={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)o=i[s],(!r||r(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=!1!==n&&cc(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:dc,kindOfTest:hc,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(gc(e))return e;let t=e.length;if(!Ac(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[lc]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:jc,hasOwnProperty:Bc,hasOwnProp:Bc,reduceDescriptors:Pc,freezeMethods:e=>{Pc(e,(t,n)=>{if(mc(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];if(mc(r)){if(t.enumerable=!1,"writable"in t)return void(t.writable=!1);t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return gc(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:kc,global:Cc,isContextDefined:Dc,isSpecCompliantForm:function(e){return!!(e&&mc(e.append)&&"FormData"===e[uc]&&e[lc])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(vc(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=gc(e)?[]:{};return xc(e,(e,t)=>{const s=n(e,r+1);!pc(s)&&(i[t]=s)}),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:Rc,isThenable:e=>e&&(vc(e)||mc(e))&&mc(e.then)&&mc(e.catch),setImmediate:Fc,asap:Kc,isIterable:e=>null!=e&&mc(e[lc])};function Hc(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Wc.inherits(Hc,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Wc.toJSONObject(this.config),code:this.code,status:this.status}}});const Vc=Hc.prototype,qc={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{qc[e]={value:e}}),Object.defineProperties(Hc,qc),Object.defineProperty(Vc,"isAxiosError",{value:!0}),Hc.from=(e,t,n,r,i,s)=>{const o=Object.create(Vc);return Wc.toFlatObject(e,o,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),Hc.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};function Gc(e){return Wc.isPlainObject(e)||Wc.isArray(e)}function Qc(e){return Wc.endsWith(e,"[]")?e.slice(0,-2):e}function Yc(e,t,n){return e?e.concat(t).map(function(e,t){return e=Qc(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const Jc=Wc.toFlatObject(Wc,{},null,function(e){return/^is[A-Z]/.test(e)});function Zc(e,t,n){if(!Wc.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=Wc.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!Wc.isUndefined(t[e])})).metaTokens,i=n.visitor||u,s=n.dots,o=n.indexes,a=(n.Blob||typeof Blob<"u"&&Blob)&&Wc.isSpecCompliantForm(t);if(!Wc.isFunction(i))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(Wc.isDate(e))return e.toISOString();if(!a&&Wc.isBlob(e))throw new Hc("Blob is not supported. Use a Buffer instead.");return Wc.isArrayBuffer(e)||Wc.isTypedArray(e)?a&&"function"==typeof Blob?new Blob([e]):l.d.Buffer.from(e):e}function u(e,n,i){let a=e;if(e&&!i&&"object"==typeof e)if(Wc.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Wc.isArray(e)&&function(e){return Wc.isArray(e)&&!e.some(Gc)}(e)||(Wc.isFileList(e)||Wc.endsWith(n,"[]"))&&(a=Wc.toArray(e)))return n=Qc(n),a.forEach(function(e,r){!Wc.isUndefined(e)&&null!==e&&t.append(!0===o?Yc([n],r,s):null===o?n:n+"[]",c(e))}),!1;return!!Gc(e)||(t.append(Yc(i,n,s),c(e)),!1)}const d=[],h=Object.assign(Jc,{defaultVisitor:u,convertValue:c,isVisitable:Gc});if(!Wc.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Wc.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+r.join("."));d.push(n),Wc.forEach(n,function(n,s){!0===(!(Wc.isUndefined(n)||null===n)&&i.call(t,n,Wc.isString(s)?s.trim():s,r,h))&&e(n,r?r.concat(s):[s])}),d.pop()}}(e),t}function Xc(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function $c(e,t){this._pairs=[],e&&Zc(e,this,t)}const el=$c.prototype;function tl(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function nl(e,t,n){if(!t)return e;const r=n&&n.encode||tl;Wc.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(s=i?i(t,n):Wc.isURLSearchParams(t)?t.toString():new $c(t,n).toString(r),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}el.append=function(e,t){this._pairs.push([e,t])},el.toString=function(e){const t=e?function(t){return e.call(this,t,Xc)}:Xc;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};class rl{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Wc.forEach(this.handlers,function(t){null!==t&&e(t)})}}const il={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},sl={isBrowser:!0,classes:{URLSearchParams:typeof URLSearchParams<"u"?URLSearchParams:$c,FormData:typeof FormData<"u"?FormData:null,Blob:typeof Blob<"u"?Blob:null},protocols:["http","https","file","blob","url","data"]},ol=typeof window<"u"&&typeof document<"u",al="object"==typeof navigator&&navigator||void 0,cl=ol&&(!al||["ReactNative","NativeScript","NS"].indexOf(al.product)<0),ll=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,ul=ol&&window.location.href||"http://localhost",dl=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ol,hasStandardBrowserEnv:cl,hasStandardBrowserWebWorkerEnv:ll,navigator:al,origin:ul},Symbol.toStringTag,{value:"Module"})),hl=(0,i.A)((0,i.A)({},dl),sl);function fl(e){function t(e,n,r,i){let s=e[i++];if("__proto__"===s)return!0;const o=Number.isFinite(+s),a=i>=e.length;return s=!s&&Wc.isArray(r)?r.length:s,a?(Wc.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n,!o):((!r[s]||!Wc.isObject(r[s]))&&(r[s]=[]),t(e,n,r[s],i)&&Wc.isArray(r[s])&&(r[s]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}(r[s])),!o)}if(Wc.isFormData(e)&&Wc.isFunction(e.entries)){const n={};return Wc.forEachEntry(e,(e,r)=>{t(function(e){return Wc.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null}const gl={transitional:il,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=Wc.isObject(e);if(i&&Wc.isHTMLForm(e)&&(e=new FormData(e)),Wc.isFormData(e))return r?JSON.stringify(fl(e)):e;if(Wc.isArrayBuffer(e)||Wc.isBuffer(e)||Wc.isStream(e)||Wc.isFile(e)||Wc.isBlob(e)||Wc.isReadableStream(e))return e;if(Wc.isArrayBufferView(e))return e.buffer;if(Wc.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Zc(e,new hl.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return hl.isNode&&Wc.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=Wc.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Zc(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,r){if(Wc.isString(e))try{return(t||JSON.parse)(e),Wc.trim(e)}catch(n){if("SyntaxError"!==n.name)throw n}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||gl.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(Wc.isResponse(e)||Wc.isReadableStream(e))return e;if(e&&Wc.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(i){if(n)throw"SyntaxError"===i.name?Hc.from(i,Hc.ERR_BAD_RESPONSE,this,null,this.response):i}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:hl.classes.FormData,Blob:hl.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Wc.forEach(["delete","get","head","post","put","patch"],e=>{gl.headers[e]={}});const pl=Wc.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),yl=Symbol("internals");function wl(e){return e&&String(e).trim().toLowerCase()}function ml(e){return!1===e||null==e?e:Wc.isArray(e)?e.map(ml):String(e)}function Al(e,t,n,r,i){if(Wc.isFunction(r))return r.call(this,t,n);if(i&&(t=n),Wc.isString(t)){if(Wc.isString(r))return-1!==t.indexOf(r);if(Wc.isRegExp(r))return r.test(t)}}let vl=class{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=wl(t);if(!i)throw new Error("header name must be a non-empty string");const s=Wc.findKey(r,i);(!s||void 0===r[s]||!0===n||void 0===n&&!1!==r[s])&&(r[s||t]=ml(e))}const s=(e,t)=>Wc.forEach(e,(e,n)=>i(e,n,t));if(Wc.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(Wc.isString(e)&&(e=e.trim())&&!(e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))(e))s((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach(function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!(!n||t[n]&&pl[n])&&("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(Wc.isObject(e)&&Wc.isIterable(e)){let n,r,i={};for(const t of e){if(!Wc.isArray(t))throw TypeError("Object iterator must return a key-value pair");i[r=t[0]]=(n=i[r])?Wc.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}s(i,t)}else null!=e&&i(t,e,n);return this}get(e,t){if(e=wl(e)){const n=Wc.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(Wc.isFunction(t))return t.call(this,e,n);if(Wc.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=wl(e)){const n=Wc.findKey(this,e);return!(!n||void 0===this[n]||t&&!Al(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=wl(e)){const i=Wc.findKey(n,e);i&&(!t||Al(0,n[i],i,t))&&(delete n[i],r=!0)}}return Wc.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];(!e||Al(0,this[i],i,e,!0))&&(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return Wc.forEach(this,(r,i)=>{const s=Wc.findKey(n,i);if(s)return t[s]=ml(r),void delete t[i];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(i):String(i).trim();o!==i&&delete t[i],t[o]=ml(r),n[o]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Wc.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&Wc.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[yl]=this[yl]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=wl(e);t[r]||(function(e,t){const n=Wc.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})})}(n,e),t[r]=!0)}return Wc.isArray(e)?e.forEach(r):r(e),this}};function bl(e,t){const n=this||gl,r=t||n,i=vl.from(r.headers);let s=r.data;return Wc.forEach(e,function(e){s=e.call(n,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function zl(e){return!(!e||!e.__CANCEL__)}function Ul(e,t,n){Hc.call(this,null!==e&&void 0!==e?e:"canceled",Hc.ERR_CANCELED,t,n),this.name="CanceledError"}function El(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Hc("Request failed with status code "+n.status,[Hc.ERR_BAD_REQUEST,Hc.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}vl.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Wc.reduceDescriptors(vl.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),Wc.freezeMethods(vl),Wc.inherits(Ul,Hc,{__CANCEL__:!0});const _l=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const i=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,s=0,o=0;return t=void 0!==t?t:1e3,function(a){const c=Date.now(),l=r[o];i||(i=c),n[s]=a,r[s]=c;let u=o,d=0;for(;u!==s;)d+=n[u++],u%=e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),c-i<t)return;const h=l&&c-l;return h?Math.round(1e3*d/h):void 0}}(50,250);return function(e,t){let n,r,i=0,s=1e3/t;const o=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();i=s,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-i;for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];t>=s?o(c,e):(n=c,r||(r=setTimeout(()=>{r=null,o(n)},s-t)))},()=>n&&o(n)]}(n=>{const s=n.loaded,o=n.lengthComputable?n.total:void 0,a=s-r,c=i(a);r=s;e({loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:c||void 0,estimated:c&&o&&s<=o?(o-s)/c:void 0,event:n,lengthComputable:null!=o,[t?"download":"upload"]:!0})},n)},Sl=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Tl=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Wc.asap(()=>e(...n))},Ml=hl.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,hl.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(hl.origin),hl.navigator&&/(msie|trident)/i.test(hl.navigator.userAgent)):()=>!0,Il=hl.hasStandardBrowserEnv?{write(e,t,n,r,i,s){const o=[e+"="+encodeURIComponent(t)];Wc.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Wc.isString(r)&&o.push("path="+r),Wc.isString(i)&&o.push("domain="+i),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Nl(e,t,n){let r=!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const xl=e=>e instanceof vl?(0,i.A)({},e):e;function kl(e,t){t=t||{};const n={};function r(e,t,n,r){return Wc.isPlainObject(e)&&Wc.isPlainObject(t)?Wc.merge.call({caseless:r},e,t):Wc.isPlainObject(t)?Wc.merge({},t):Wc.isArray(t)?t.slice():t}function i(e,t,n,i){return Wc.isUndefined(t)?Wc.isUndefined(e)?void 0:r(void 0,e,0,i):r(e,t,0,i)}function s(e,t){if(!Wc.isUndefined(t))return r(void 0,t)}function o(e,t){return Wc.isUndefined(t)?Wc.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,i,s){return s in t?r(n,i):s in e?r(void 0,n):void 0}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(e,t,n)=>i(xl(e),xl(t),0,!0)};return Wc.forEach(Object.keys(Object.assign({},e,t)),function(r){const s=c[r]||i,o=s(e[r],t[r],r);Wc.isUndefined(o)&&s!==a||(n[r]=o)}),n}const Cl=e=>{const t=kl({},e);let n,{data:r,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:o,headers:a,auth:c}=t;if(t.headers=a=vl.from(a),t.url=nl(Nl(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&a.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),Wc.isFormData(r))if(hl.hasStandardBrowserEnv||hl.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(n=a.getContentType())){const[e,...t]=n?n.split(";").map(e=>e.trim()).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}if(hl.hasStandardBrowserEnv&&(i&&Wc.isFunction(i)&&(i=i(t)),i||!1!==i&&Ml(t.url))){const e=s&&o&&Il.read(o);e&&a.set(s,e)}return t},Dl=typeof XMLHttpRequest<"u"&&function(e){return new Promise(function(t,n){const r=Cl(e);let i=r.data;const s=vl.from(r.headers).normalize();let o,a,c,l,u,{responseType:d,onUploadProgress:h,onDownloadProgress:f}=r;function g(){l&&l(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(o),r.signal&&r.signal.removeEventListener("abort",o)}let p=new XMLHttpRequest;function y(){if(!p)return;const r=vl.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders());El(function(e){t(e),g()},function(e){n(e),g()},{data:d&&"text"!==d&&"json"!==d?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:e,request:p}),p=null}p.open(r.method.toUpperCase(),r.url,!0),p.timeout=r.timeout,"onloadend"in p?p.onloadend=y:p.onreadystatechange=function(){!p||4!==p.readyState||0===p.status&&(!p.responseURL||0!==p.responseURL.indexOf("file:"))||setTimeout(y)},p.onabort=function(){p&&(n(new Hc("Request aborted",Hc.ECONNABORTED,e,p)),p=null)},p.onerror=function(){n(new Hc("Network Error",Hc.ERR_NETWORK,e,p)),p=null},p.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const i=r.transitional||il;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new Hc(t,i.clarifyTimeoutError?Hc.ETIMEDOUT:Hc.ECONNABORTED,e,p)),p=null},void 0===i&&s.setContentType(null),"setRequestHeader"in p&&Wc.forEach(s.toJSON(),function(e,t){p.setRequestHeader(t,e)}),Wc.isUndefined(r.withCredentials)||(p.withCredentials=!!r.withCredentials),d&&"json"!==d&&(p.responseType=r.responseType),f&&([c,u]=_l(f,!0),p.addEventListener("progress",c)),h&&p.upload&&([a,l]=_l(h),p.upload.addEventListener("progress",a),p.upload.addEventListener("loadend",l)),(r.cancelToken||r.signal)&&(o=t=>{p&&(n(!t||t.type?new Ul(null,e,p):t),p.abort(),p=null)},r.cancelToken&&r.cancelToken.subscribe(o),r.signal&&(r.signal.aborted?o():r.signal.addEventListener("abort",o)));const w=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);w&&-1===hl.protocols.indexOf(w)?n(new Hc("Unsupported protocol "+w+":",Hc.ERR_BAD_REQUEST,e)):p.send(i||null)})},Ol=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const i=function(e){if(!n){n=!0,o();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Hc?t:new Ul(t instanceof Error?t.message:t))}};let s=t&&setTimeout(()=>{s=null,i(new Hc("timeout ".concat(t," of ms exceeded"),Hc.ETIMEDOUT))},t);const o=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)}),e=null)};e.forEach(e=>e.addEventListener("abort",i));const{signal:a}=r;return a.unsubscribe=()=>Wc.asap(o),a}},jl=function*(e,t){let n=e.byteLength;if(n<t)return void(yield e);let r,i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},Bl=function(){var e=(0,s.A)(function*(e,t){var n,r=!1,i=!1;try{for(var s,l=(0,c.A)(Ll(e));r=!(s=yield(0,o.A)(l.next())).done;r=!1){const e=s.value;yield*(0,a.A)((0,c.A)(jl(e,t)),o.A)}}catch(u){i=!0,n=u}finally{try{r&&null!=l.return&&(yield(0,o.A)(l.return()))}finally{if(i)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),Ll=function(){var e=(0,s.A)(function*(e){if(e[Symbol.asyncIterator])return void(yield*(0,a.A)((0,c.A)(e),o.A));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield(0,o.A)(t.read());if(e)break;yield n}}finally{yield(0,o.A)(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),Pl=(e,t,n,r)=>{const i=Bl(e,t);let s,o=0,a=e=>{s||(s=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await i.next();if(t)return a(),void e.close();let s=r.byteLength;if(n){let e=o+=s;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw a(t),t}},cancel:e=>(a(e),i.return())},{highWaterMark:2})},Rl="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,Fl=Rl&&"function"==typeof ReadableStream,Kl=Rl&&("function"==typeof TextEncoder?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Wl=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(i){return!1}},Hl=Fl&&Wl(()=>{let e=!1;const t=new Request(hl.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Vl=Fl&&Wl(()=>Wc.isReadableStream(new Response("").body)),ql={stream:Vl&&(e=>e.body)};Rl&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!ql[t]&&(ql[t]=Wc.isFunction(e[t])?e=>e[t]():(e,n)=>{throw new Hc("Response type '".concat(t,"' is not supported"),Hc.ERR_NOT_SUPPORT,n)})})})(new Response);const Gl=async(e,t)=>{const n=Wc.toFiniteNumber(e.getContentLength());return null!==n&&void 0!==n?n:(async e=>null==e?0:Wc.isBlob(e)?e.size:Wc.isSpecCompliantForm(e)?(await new Request(hl.origin,{method:"POST",body:e}).arrayBuffer()).byteLength:Wc.isArrayBufferView(e)||Wc.isArrayBuffer(e)?e.byteLength:(Wc.isURLSearchParams(e)&&(e+=""),Wc.isString(e)?(await Kl(e)).byteLength:void 0))(t)},Ql=Rl&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:o,timeout:a,onDownloadProgress:c,onUploadProgress:l,responseType:u,headers:d,withCredentials:h="same-origin",fetchOptions:f}=Cl(e);u=u?(u+"").toLowerCase():"text";let g,p=Ol([s,o&&o.toAbortSignal()],a);const y=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let w;try{if(l&&Hl&&"get"!==n&&"head"!==n&&0!==(w=await Gl(d,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(Wc.isFormData(r)&&(e=n.headers.get("content-type"))&&d.setContentType(e),n.body){const[e,t]=Sl(w,_l(Tl(l)));r=Pl(n.body,65536,e,t)}}Wc.isString(h)||(h=h?"include":"omit");const s="credentials"in Request.prototype;g=new Request(t,(0,i.A)((0,i.A)({},f),{},{signal:p,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:s?h:void 0}));let o=await fetch(g);const a=Vl&&("stream"===u||"response"===u);if(Vl&&(c||a&&y)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=o[t]});const t=Wc.toFiniteNumber(o.headers.get("content-length")),[n,r]=c&&Sl(t,_l(Tl(c),!0))||[];o=new Response(Pl(o.body,65536,n,()=>{r&&r(),y&&y()}),e)}u=u||"text";let m=await ql[Wc.findKey(ql,u)||"text"](o,e);return!a&&y&&y(),await new Promise((t,n)=>{El(t,n,{data:m,headers:vl.from(o.headers),status:o.status,statusText:o.statusText,config:e,request:g})})}catch(m){throw y&&y(),m&&"TypeError"===m.name&&/Load failed|fetch/i.test(m.message)?Object.assign(new Hc("Network Error",Hc.ERR_NETWORK,e,g),{cause:m.cause||m}):Hc.from(m,m&&m.code,e,g)}}),Yl={http:null,xhr:Dl,fetch:Ql};Wc.forEach(Yl,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}});const Jl=e=>"- ".concat(e),Zl=e=>Wc.isFunction(e)||null===e||!1===e,Xl=e=>{e=Wc.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let s=0;s<t;s++){let t;if(n=e[s],r=n,!Zl(n)&&(r=Yl[(t=String(n)).toLowerCase()],void 0===r))throw new Hc("Unknown adapter '".concat(t,"'"));if(r)break;i[t||"#"+s]=r}if(!r){const e=Object.entries(i).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});throw new Hc("There is no suitable adapter to dispatch the request "+(t?e.length>1?"since :\n"+e.map(Jl).join("\n"):" "+Jl(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return r};function $l(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ul(null,e)}function eu(e){return $l(e),e.headers=vl.from(e.headers),e.data=bl.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Xl(e.adapter||gl.adapter)(e).then(function(t){return $l(e),t.data=bl.call(e,e.transformResponse,t),t.headers=vl.from(t.headers),t},function(t){return zl(t)||($l(e),t&&t.response&&(t.response.data=bl.call(e,e.transformResponse,t.response),t.response.headers=vl.from(t.response.headers))),Promise.reject(t)})}const tu="1.9.0",nu={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{nu[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const ru={};nu.transitional=function(e,t,n){function r(e,t){return"[Axios v1.9.0] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,s)=>{if(!1===e)throw new Hc(r(i," has been removed"+(t?" in "+t:"")),Hc.ERR_DEPRECATED);return t&&!ru[i]&&(ru[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,s)}},nu.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const iu={assertOptions:function(e,t,n){if("object"!=typeof e)throw new Hc("options must be an object",Hc.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],o=t[s];if(o){const t=e[s],n=void 0===t||o(t,s,e);if(!0!==n)throw new Hc("option "+s+" must be "+n,Hc.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new Hc("Unknown option "+s,Hc.ERR_BAD_OPTION)}},validators:nu},su=iu.validators;let ou=class{constructor(e){this.defaults=e||{},this.interceptors={request:new rl,response:new rl}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(r){}}throw n}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=kl(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&iu.assertOptions(n,{silentJSONParsing:su.transitional(su.boolean),forcedJSONParsing:su.transitional(su.boolean),clarifyTimeoutError:su.transitional(su.boolean)},!1),null!=r&&(Wc.isFunction(r)?t.paramsSerializer={serialize:r}:iu.assertOptions(r,{encode:su.function,serialize:su.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),iu.assertOptions(t,{baseUrl:su.spelling("baseURL"),withXsrfToken:su.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=i&&Wc.merge(i.common,i[t.method]);i&&Wc.forEach(["delete","get","head","post","put","patch","common"],e=>{delete i[e]}),t.headers=vl.concat(s,i);const o=[];let a=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,o.unshift(e.fulfilled,e.rejected))});const c=[];this.interceptors.response.forEach(function(e){c.push(e.fulfilled,e.rejected)});let l,u,d=0;if(!a){const e=[eu.bind(this),void 0];for(e.unshift.apply(e,o),e.push.apply(e,c),u=e.length,l=Promise.resolve(t);d<u;)l=l.then(e[d++],e[d++]);return l}u=o.length;let h=t;for(d=0;d<u;){const e=o[d++],t=o[d++];try{h=e(h)}catch(f){t.call(this,f);break}}try{l=eu.call(this,h)}catch(g){return Promise.reject(g)}for(d=0,u=c.length;d<u;)l=l.then(c[d++],c[d++]);return l}getUri(e){return nl(Nl((e=kl(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}};Wc.forEach(["delete","get","head","options"],function(e){ou.prototype[e]=function(t,n){return this.request(kl(n||{},{method:e,url:t,data:(n||{}).data}))}}),Wc.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,i){return this.request(kl(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}ou.prototype[e]=t(),ou.prototype[e+"Form"]=t(!0)});const au={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(au).forEach(e=>{let[t,n]=e;au[n]=t});const cu=function e(t){const n=new ou(t),r=oc(ou.prototype.request,n);return Wc.extend(r,ou.prototype,n,{allOwnKeys:!0}),Wc.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(kl(t,n))},r}(gl);cu.Axios=ou,cu.CanceledError=Ul,cu.CancelToken=class e{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,i){n.reason||(n.reason=new Ul(e,r,i),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let t;return{token:new e(function(e){t=e}),cancel:t}}},cu.isCancel=zl,cu.VERSION=tu,cu.toFormData=Zc,cu.AxiosError=Hc,cu.Cancel=cu.CanceledError,cu.all=function(e){return Promise.all(e)},cu.spread=function(e){return function(t){return e.apply(null,t)}},cu.isAxiosError=function(e){return Wc.isObject(e)&&!0===e.isAxiosError},cu.mergeConfig=kl,cu.AxiosHeaders=vl,cu.formToJSON=e=>fl(Wc.isHTMLForm(e)?new FormData(e):e),cu.getAdapter=Xl,cu.HttpStatusCode=au,cu.default=cu;const{Axios:lu,AxiosError:uu,CanceledError:du,isCancel:hu,CancelToken:fu,VERSION:gu,all:pu,Cancel:yu,isAxiosError:wu,spread:mu,toFormData:Au,AxiosHeaders:vu,HttpStatusCode:bu,formToJSON:zu,getAdapter:Uu,mergeConfig:Eu}=cu;var _u="https://aptosconnect.app";function Su(e){if(null==e)return e;if(Array.isArray(e))return e.map(e=>Su(e));if("string"==typeof e||"number"==typeof e||"boolean"==typeof e||e instanceof Uint8Array)return e;if("bigint"==typeof e)return e.toString();if(e instanceof ArrayBuffer)return new Uint8Array(e);if("values"in e)return e.values.map(e=>Su(e));if("data"in e)return u.l.from(e.data).toString();if(void 0!==e.value){if("string"==typeof e.value||"number"==typeof e.value||"boolean"==typeof e.value||e.value instanceof Uint8Array)return e.value;if("bigint"==typeof e.value)return e.value.toString();throw new Error("Unexpected argument")}}function Tu(e,t){var n;if("bcsToBytes"in e)return e;if("bytecode"in e)return(0,u.q)(e);if(t)return void 0!==e.abi?(0,u.i)((0,i.A)((0,i.A)({},e),{},{abi:e.abi})):(0,u.q)((0,i.A)({aptosConfig:t},e));const r={arguments:e.functionArguments.map(Su),function:e.function,type:"entry_function_payload",type_arguments:(null!==(n=e.typeArguments)&&void 0!==n?n:[]).map(e=>e.toString())};return"multisigAddress"in e?{multisig_address:u.l.from(e.multisigAddress).toString(),transaction_payload:r,type:"multisig_payload"}:r}var Mu=class e extends Error{constructor(t){super(t),this.name="SignatureRequestError",Object.setPrototypeOf(this,e.prototype)}},Iu=class e extends Error{constructor(t){super("Missing the following fields: ".concat(t.join(", "))),this.name="UnexpectedSignatureResponseError",Object.setPrototypeOf(this,e.prototype)}},Nu=class e extends Error{constructor(){super(),this.name="PairingExpiredError",Object.setPrototypeOf(this,e.prototype)}},xu="icDappPairings",ku={async get(e){return(await this.getAll())[e]},async getAll(){const e=window.localStorage.getItem(xu);return e?JSON.parse(e):{}},async update(e,t){const n=await this.getAll();void 0===t?delete n[e]:n[e]=t;const r=JSON.stringify(n);window.localStorage.setItem(xu,r)}},Cu=["address","application","chainId","fullMessage","message","nonce","prefix","signature"];var Du=["hash"];var Ou=/^Sequence number mismatch, expected (?:\S+ to be )?(\d+)/;async function ju(e){return new Promise(t=>{setTimeout(t,e)})}var Bu,Lu,Pu=class{constructor(){let{accessors:e=ku,axiosConfig:t,defaultNetworkName:n=kr.MAINNET}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.onDisconnectListeners=new Set,this.accessors=e,this.defaultNetworkName=n,this.axiosInstance=cu.create((0,i.A)({baseURL:_u},t));const r=typeof window<"u";this.initPromise=r?this.syncFirstPairing():void 0}async getPairing(e){return(await this.axiosInstance.get("v1/pairing/".concat(e,"/"))).data.data.pairing}async syncFirstPairing(){const e=await this.accessors.getAll(),t=Object.values(e)[0];if(void 0!==t)try{const{dappSpecificWallet:e,maxDappSequenceNumber:n}=await this.getPairing(t.pairingId);await this.accessors.update(t.accountAddress,(0,i.A)((0,i.A)({},t),{},{currSequenceNumber:n,dappWalletId:null==e?void 0:e.id}))}catch(n){await this.accessors.update(t.accountAddress,void 0)}}async createSigningRequest(e,t,n,r){const s=Ke(e.dappEd25519SecretKeyB64),o=Ke(e.dappEd25519PublicKeyB64),a=Ke(e.accountTransportEd25519PublicKeyB64);let c=e.currSequenceNumber+1;return async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;for(let r=0;r<n;r+=1)try{return await e()}catch(s){t(s)}return e()}(async()=>{const l=await Mt(Fe(s,Le.Ed25519SecretKey),Fe(o,Le.Ed25519PublicKey),Fe(a,Le.Ed25519PublicKey),c,{apiVersion:"0.2.0",networkName:n,requestType:t},r),u=await this.axiosInstance.post("v1/pairing/".concat(e.pairingId,"/signing-request/"),l);return await this.accessors.update(e.accountAddress,(0,i.A)((0,i.A)({},e),{},{currSequenceNumber:c})),u.data.data.signingRequest},e=>{var t,n,r;if(wu(e)){const i=null==(n=null==(t=e.response)?void 0:t.data)?void 0:n.message,s=null==(r=null==i?void 0:i.match(Ou))?void 0:r[1];if(void 0!==s)return void(c=Number(s))}throw e})}async getSigningRequest(e){var t,n;return null==(n=null==(t=(await this.axiosInstance.get("v1/signing-request/".concat(e,"/"),{validateStatus:e=>200===e||404===e})).data)?void 0:t.data)?void 0:n.signingRequest}async deletePairing(e,t,n){const r=await Mt(t,n,n,0,{},{});await this.axiosInstance.post("v1/pairing/".concat(e,"/delete/"),r,{validateStatus:e=>204===e||404===e})}async cancelSigningRequest(e,t){const n=e.currSequenceNumber,r=Ke(e.dappEd25519SecretKeyB64),s=Ke(e.dappEd25519PublicKeyB64),o=Ke(e.accountTransportEd25519PublicKeyB64),a=await Mt(Fe(r,Le.Ed25519SecretKey),Fe(s,Le.Ed25519PublicKey),Fe(o,Le.Ed25519PublicKey),n+1,{},{}),c=await this.axiosInstance.patch("v1/signing-request/".concat(t,"/cancel/"),a);return await this.accessors.update(e.accountAddress,(0,i.A)((0,i.A)({},e),{},{currSequenceNumber:n+1})),c.data.data.signingRequest}async signRequest(e,t,n){let{cancelToken:r,networkName:i}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};await this.initPromise;const s=await this.accessors.get(e);if(void 0===s)throw new Error("The requested account is not paired");let o;try{for(o=await this.createSigningRequest(s,t,i||this.defaultNetworkName,n);"PENDING"===o.status;){var a;if(await ju(2500),null!=r&&r.cancelled){o.status=Dr.CANCELLED;break}o=null!==(a=await this.getSigningRequest(o.id))&&void 0!==a?a:o}}catch(c){if(wu(c)&&"404"===c.code){await this.accessors.update(e,void 0);for(const t of this.onDisconnectListeners)t(e);throw new Nu}throw c}if("APPROVED"!==o.status)throw new Mu(o.status);return xt(Fe(Ke(s.accountTransportEd25519PublicKeyB64),Le.Ed25519PublicKey),Fe(Ke(s.dappEd25519SecretKeyB64),Le.Ed25519SecretKey),o.responseEnvelope).privateMessage}async addPairing(e,t){var n;let{publicKey:r,secretKey:i}=e;await this.accessors.update(t.account.accountAddress,{accountAddress:t.account.accountAddress,accountAlias:null!==(n=t.account.userSubmittedAlias)&&void 0!==n?n:void 0,accountPublicKeyB64:t.account.publicKeyB64,accountTransportEd25519PublicKeyB64:t.account.transportEd25519PublicKeyB64,currSequenceNumber:t.maxDappSequenceNumber,dappEd25519PublicKeyB64:We(r.key),dappEd25519SecretKeyB64:We(i.key),dappWalletId:t.dappSpecificWalletId,pairingId:t.id})}async disconnect(e){const t=await this.accessors.get(e);if(void 0===t)throw new Error("The specified account is not paired");const n=Ke(t.dappEd25519SecretKeyB64),r=Ke(t.dappEd25519PublicKeyB64);await this.deletePairing(t.pairingId,Fe(n,Le.Ed25519SecretKey),Fe(r,Le.Ed25519PublicKey)),await this.accessors.update(e,void 0);for(const i of this.onDisconnectListeners)i(e)}async signMessage(e,t,n){const r=await this.signRequest(e,Cr.SIGN_MESSAGE,t,n);return function(e){const t=new Set(Object.keys(e)),n=Cu.filter(e=>!t.has(e));if(n.length>0)throw new Iu(n)}(r),r}async signTransaction(e,t,n){const r=function(e){if("payload"in e){const t=Xa(e.payload)?$a(e.payload):ic(e.payload);return{options:e.options,payload:t}}if("rawTxn"in e)return{rawTxn:sc(e.rawTxn)};throw new tc}(t);return function(e){const t=ec(u.V,e.accountAuthenticator);if("rawTxn"in e)return{accountAuthenticator:t,rawTxn:ec(u.p,e.rawTxn)};return{accountAuthenticator:t}}(await this.signRequest(e,Cr.SIGN_TRANSACTION,r,n))}async signAndSubmitTransaction(e,t,n){var r,i,s,o;const a=function(e){if("payload"in e){const t=Xa(e.payload)?$a(e.payload):ic(e.payload);return{options:e.options,payload:t}}if("feePayerAuthenticator"in e)return{feePayerAuthenticator:$a(e.feePayerAuthenticator),rawTxn:sc(e.rawTxn)};if("rawTxn"in e)return{rawTxn:sc(e.rawTxn)};throw new tc}(t);try{const t=await this.signRequest(e,Cr.SIGN_AND_SUBMIT_TRANSACTION,a,n);return function(e){const t=new Set(Object.keys(e)),n=Du.filter(e=>!t.has(e));if(n.length>0)throw new Iu(n)}(t),t}catch(c){throw c instanceof uu&&null!=(i=null==(r=c.response)?void 0:r.data)&&i.message?new Error(null==(o=null==(s=c.response)?void 0:s.data)?void 0:o.message):c}}async getConnectedAccounts(){await this.initPromise;const e=await this.accessors.getAll();return Object.values(e).map(e=>{let{accountAddress:t,accountEd25519PublicKeyB64:n,accountPublicKeyB64:r}=e;return{address:u.l.from(t),publicKey:void 0!==r?Ct(r):Dt(n)}})}onDisconnect(e){return this.onDisconnectListeners.add(e),()=>this.onDisconnectListeners.delete(e)}},Ru=class{constructor(){let{backendBaseURL:e,dappId:t,dappImageURI:n,dappName:r,defaultNetworkName:i=kr.MAINNET,frontendBaseURL:s=_u,provider:o="google",tgWebAppURL:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.defaultNetworkName=i,this.dappInfo={domain:window.location.origin,imageURI:n,name:null!==r&&void 0!==r?r:document.title},this.transport=new xr(s,o,a),this.dappId=t,this.pairingClient=new Pu({axiosConfig:{baseURL:null!==e&&void 0!==e?e:s},defaultNetworkName:i})}async getKeylessAccounts(){const e=$e.serialize(this.dappInfo),t=await this.transport.sendRequest(e);return et.deserialize(t).args}async getIcAccounts(){var e;return null!==(e=this.pairingClient.getConnectedAccounts())&&void 0!==e?e:[]}async isIcAccount(e){return void 0!==(await this.getIcAccounts()).find(t=>t.address.equals(u.l.from(e)))}async getConnectedAccounts(){return[...await this.getKeylessAccounts(),...await this.getIcAccounts()]}async disconnect(e){if(await this.isIcAccount(e)){const t=u.l.from(e).toString();await this.pairingClient.disconnect(t)}else{const e=Ye.serialize(this.dappInfo);await this.transport.sendRequest(e)}}async connect(){let{claimOptions:e,preferredWalletName:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=Re(),r=typeof window<"u"?window.AC_PREFERRED_WALLET_NAME:void 0,i={claimOptions:e,dappEd25519PublicKeyB64:We(n.publicKey.key),dappId:this.dappId,preferredWalletName:null!==t&&void 0!==t?t:r},s=Ge.serialize(this.dappInfo,i),o=await this.transport.sendRequest(s),a=Qe.deserialize(o);if("approved"===a.args.status){const{account:e,pairing:t}=a.args.args;return t&&await this.pairingClient.addPairing(n,t),on({account:e})}return a.args}async signIn(e){const t=Ze.serialize(this.dappInfo,e),n=await this.transport.sendRequest(t);return Xe.deserialize(n).args}async signMessage(e){const{signerAddress:t}=e;if(await this.isIcAccount(t)){const{chainId:n}=e,r=Ot(n);let s,o;try{s=(new TextDecoder).decode(e.message),o=(new TextDecoder).decode(e.nonce)}catch(i){throw new Error("Only UTF-8 encoded text is supported when using IC")}const{fullMessage:a,signature:c}=await this.pairingClient.signMessage(t.toString(),{address:!0,application:!0,chainId:!0,message:s,nonce:o},{networkName:r}),l=u.c.fromHexInput(c).toUint8Array();return on({fullMessage:a,signature:l.length===u.h.LENGTH?new u.h(l):u.O.deserialize(new u.b(l))})}const n=st.serialize(this.dappInfo,e),r=await this.transport.sendRequest(n);return ot.deserialize(r).args}async signTransaction(e){const t="transaction"in e?at.normalizeArgs(e):e,{signerAddress:n}=e;if(await this.isIcAccount(n)){const{expirationSecondsFromNow:e,expirationTimestamp:r,feePayer:i,gasUnitPrice:s,maxGasAmount:o,network:a,payload:c,secondarySigners:l,sender:u,sequenceNumber:d}=t;if(void 0!==i)throw new Error("Sponsored transaction not currently supported");if(l&&l.length>0)throw new Error("Multi-agent transactions not currently supported");if(!("bcsToBytes"in c))throw new Error("Payload input format is only supported with Keyless accounts.");const h=await this.pairingClient.signTransaction(n.toString(),{options:{expirationSecondsFromNow:e,expirationTimestamp:r,gasUnitPrice:s,maxGasAmount:o,sender:null==u?void 0:u.address.toString(),sequenceNumber:void 0!==d?Number(d):void 0},payload:c},{networkName:a});return on({authenticator:h.accountAuthenticator,rawTransaction:h.rawTxn})}const r=at.serialize(this.dappInfo,t),i=await this.transport.sendRequest(r);return ct.deserialize(i).args}async signAndSubmitTransaction(e){const{signerAddress:t}=e;if(await this.isIcAccount(t)){const{expirationTimestamp:n,feePayer:r,gasUnitPrice:i,maxGasAmount:s,network:o}=e,a=new u.u({network:o});let c;if(void 0!==r){const n=await Tu(e.payload,a),o=await(0,u.d)({aptosConfig:a,feePayerAddress:r.address,options:{gasUnitPrice:i,maxGasAmount:s},payload:n,sender:t});c={feePayerAuthenticator:r.authenticator,rawTxn:new u.g(o,[],r.address)}}else{c={options:{expirationTimestamp:n,gasUnitPrice:i,maxGasAmount:s},payload:Tu(e.payload)}}const{hash:l}=await this.pairingClient.signAndSubmitTransaction(t.toString(),c,{networkName:o});return on({txnHash:l})}const n=rt.serialize(this.dappInfo,e),r=await this.transport.sendRequest(n);return it.deserialize(r).args}},Fu=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Ku=(e,t,n)=>(Fu(e,t,"read from private field"),n?n.call(e):t.get(e)),Wu=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Hu=(e,t,n,r)=>(Fu(e,t,"write to private field"),t.set(e,n),n),Vu=class{constructor(e){let{address:t,ansName:n,publicKey:r}=e;this.chains=D,this.features=[],Wu(this,Bu,void 0),Wu(this,Lu,void 0),Hu(this,Lu,r),Hu(this,Bu,t),this.label=n}get address(){return Ku(this,Bu).toString()}get publicKey(){return Ku(this,Lu).toUint8Array()}get signingScheme(){if(Ku(this,Lu)instanceof u.f)return u.E.Ed25519;if(Ku(this,Lu)instanceof u.F)return u.E.MultiEd25519;if(Ku(this,Lu)instanceof u.k)return u.E.SingleKey;if(Ku(this,Lu)instanceof u.S)return u.E.MultiKey;throw new Error("Unsupported public key type")}};function qu(e){let{address:t,name:n,publicKey:r}=e;return new C({address:t,ansName:n,publicKey:r})}function Gu(e,t){return"dismissed"===e.status?{status:K.REJECTED}:{args:t(e.args),status:K.APPROVED}}Bu=new WeakMap,Lu=new WeakMap;var Qu=class e{constructor(e){let{claimSecretKey:t,network:n=u.e.MAINNET,preferredWalletName:i}=e,s=(0,r.A)(e,w);if(this.version="1.0.0",this.chains=D,this.client=new Ru(s),!u.j[n])throw new Error("Network not supported");const o=new u.u({network:n});this.aptosClient=new u.W(o),this.preferredWalletName=i,this.claimOptions=t?{network:n,secretKey:new u.a(t)}:void 0}static get connectedAccount(){const t=localStorage.getItem(e.connectedAccountStorageKey);if(t)try{const{address:e,publicKey:n}=JSON.parse(t);return new C({address:u.l.from(e),publicKey:Ct(n)})}catch(n){return console.warn("Inconsistent state, resetting it"),void(this.connectedAccount=void 0)}}static set connectedAccount(t){if(void 0!==t){const n={address:t.address.toString(),publicKey:kt(t.publicKey)};localStorage.setItem(e.connectedAccountStorageKey,JSON.stringify(n))}else localStorage.removeItem(e.connectedAccountStorageKey)}get accounts(){const{connectedAccount:t}=e;return t?[new Vu(t)]:[]}async connect(){const{connectedAccount:t}=e;if(void 0!==t)return{args:t,status:K.APPROVED};const n=await this.client.connect({claimOptions:this.claimOptions,preferredWalletName:this.preferredWalletName});if("dismissed"===n.status)return{status:K.REJECTED};const r=qu(n.args.account);return e.connectedAccount=r,{args:r,status:K.APPROVED}}async disconnect(){const{connectedAccount:t}=e;t&&(await this.client.disconnect(t.address),e.connectedAccount=void 0)}async signIn(t){const n=await this.client.signIn((0,i.A)({network:this.aptosClient.config.network},t));if("dismissed"===n.status)return{status:K.REJECTED};const r=n.args;return e.connectedAccount=r.account,{args:r,status:K.APPROVED}}async getAccount(){const{connectedAccount:t}=e;if(!t)throw new F(P.Unauthorized);return qu(t)}async getNetwork(){const{network:e}=this.aptosClient.config;return{chainId:await this.aptosClient.getChainId(),name:e,url:u.j[e]}}async signMessage(t){const{connectedAccount:n}=e;if(!n)throw new F(P.Unauthorized);const r=function(e){switch(e){case u.e.MAINNET:return u.r.mainnet;case u.e.TESTNET:return u.r.testnet;default:return u.r.devnet}}(this.aptosClient.config.network),{message:s,nonce:o}=t,a=new TextEncoder,c=a.encode(s),l=a.encode(o),d=await this.client.signMessage({chainId:r,message:c,nonce:l,signerAddress:n.address});if("dismissed"===d.status)return{status:K.REJECTED};const{fullMessage:h,signature:f}=d.args,g={address:n.address.toString(),application:this.client.dappInfo.domain,chainId:r,message:s,nonce:o,prefix:"APTOS"};return{args:(0,i.A)({fullMessage:h,signature:f},g),status:K.APPROVED}}async signTransaction(t,n){var r;const{connectedAccount:s}=e;if(!s)throw new F(P.Unauthorized);if("bcsToBytes"in t){const e=t,n=e.feePayerAddress?{address:e.feePayerAddress}:void 0,i=null==(r=e.secondarySignerAddresses)?void 0:r.map(e=>({address:e}));return Gu(await this.client.signTransaction({feePayer:n,secondarySigners:i,signerAddress:s.address,transaction:e.rawTransaction}),e=>e.authenticator)}const o=t;return Gu(await this.client.signTransaction((0,i.A)((0,i.A)({},o),{},{signerAddress:s.address})),e=>{var t,n,r;const{authenticator:i,rawTransaction:s}=e;if(!s)throw new Error("Expected raw transaction in response args");const a=null!==(t=o.secondarySigners)&&void 0!==t?t:[];let c;return c=a.length>0?new u.D(s,a.map(e=>e.address),null==(n=o.feePayer)?void 0:n.address):new u.m(s,null==(r=o.feePayer)?void 0:r.address),{authenticator:i,rawTransaction:c}})}async signAndSubmitTransaction(t){const{gasUnitPrice:n,maxGasAmount:r,payload:i}=t,{connectedAccount:s}=e;if(!s)throw new F(P.Unauthorized);const o=await this.client.signAndSubmitTransaction({gasUnitPrice:n,maxGasAmount:r,network:this.aptosClient.config.network,payload:i,signerAddress:s.address});return"dismissed"===o.status?{status:K.REJECTED}:{args:{hash:o.args.txnHash},status:K.APPROVED}}async onAccountChange(e){}async onNetworkChange(e){}};Qu.connectedAccountStorageKey="@aptos-connect/connectedAccount";var Yu=Qu,Ju={icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxzdHlsZT4KICAgICAgICBwYXRoIHsKICAgICAgICAgICAgZmlsbDogYmxhY2s7CiAgICAgICAgfQoKICAgICAgICBAbWVkaWEgKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKSB7CiAgICAgICAgICAgIHBhdGggewogICAgICAgICAgICAgICAgZmlsbDogd2hpdGU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICA8L3N0eWxlPgogICAgPHBhdGgKICAgICAgICBkPSJNMjAuMzkzMiA4LjE4MjQyQzIwLjI1NzggOC4yOTA0MyAxNy44NjggOS42NzUzNyAxNy44NjggMTIuNzU0OUMxNy44NjggMTYuMzE2OCAyMC45MDkgMTcuNTc3IDIxIDE3LjYwODJDMjAuOTg2IDE3LjY4NSAyMC41MTY5IDE5LjMzMzkgMTkuMzk2NiAyMS4wMTQxQzE4LjM5NzcgMjIuNDkyNiAxNy4zNTQ1IDIzLjk2ODggMTUuNzY3NSAyMy45Njg4QzE0LjE4MDQgMjMuOTY4OCAxMy43NzIgMjMuMDIwNyAxMS45Mzk5IDIzLjAyMDdDMTAuMTU0NSAyMy4wMjA3IDkuNTE5NzIgMjQgOC4wNjgwNSAyNEM2LjYxNjM5IDI0IDUuNjAzNDkgMjIuNjMxOSA0LjQzODg5IDIwLjk1MTdDMy4wODk5MiAxOC45Nzg3IDIgMTUuOTEzNiAyIDEzLjAwNDVDMiA4LjMzODQzIDQuOTUwMDEgNS44NjM3OSA3Ljg1MzM0IDUuODYzNzlDOS4zOTYwMiA1Ljg2Mzc5IDEwLjY4MiA2LjkwNTQ5IDExLjY1MDUgNi45MDU0OUMxMi41NzI0IDYuOTA1NDkgMTQuMDEwMSA1LjgwMTM4IDE1Ljc2NTEgNS44MDEzOEMxNi40MzAzIDUuODAxMzggMTguODIwMiA1Ljg2Mzc5IDIwLjM5MzIgOC4xODI0MlpNMTQuOTMxOSAzLjgyNTk4QzE1LjY1NzggMi45NDAyOSAxNi4xNzEyIDEuNzExMzcgMTYuMTcxMiAwLjQ4MjQ0OEMxNi4xNzEyIDAuMzEyMDMxIDE2LjE1NzIgMC4xMzkyMTQgMTYuMTI2OSAwQzE0Ljk0NiAwLjA0NTYwNDYgMTMuNTQxIDAuODA4ODgxIDEyLjY5MzggMS44MTkzOEMxMi4wMjg2IDIuNTk3MDYgMTEuNDA3OCAzLjgyNTk4IDExLjQwNzggNS4wNzE3MUMxMS40MDc4IDUuMjU4OTMgMTEuNDM4MiA1LjQ0NjE0IDExLjQ1MjIgNS41MDYxNUMxMS41MjY4IDUuNTIwNTUgMTEuNjQ4MiA1LjUzNzM1IDExLjc2OTYgNS41MzczNUMxMi44MjkxIDUuNTM3MzUgMTQuMTYxOCA0LjgwNzY4IDE0LjkzMTkgMy44MjU5OFoiIC8+Cjwvc3ZnPg==",name:"Continue with Apple",url:"https://aptosconnect.app"},Zu={icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBjbGFzcz0iaF8yMCB3XzIwIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTIzLjU0IDEyLjc2MTNDMjMuNTQgMTEuOTQ1OSAyMy40NjY4IDExLjE2MTggMjMuMzMwOSAxMC40MDkxSDEyLjVWMTQuODU3NUgxOC42ODkxQzE4LjQyMjUgMTYuMjk1IDE3LjYxMjMgMTcuNTEyOSAxNi4zOTQzIDE4LjMyODRWMjEuMjEzOEgyMC4xMTA5QzIyLjI4NTUgMTkuMjExOCAyMy41NCAxNi4yNjM2IDIzLjU0IDEyLjc2MTNaIiBmaWxsPSIjNDI4NUY0Ij48L3BhdGg+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMi40OTk1IDIzLjk5OThDMTUuNjA0NSAyMy45OTk4IDE4LjIwNzcgMjIuOTcgMjAuMTEwNCAyMS4yMTM3TDE2LjM5MzggMTguMzI4MkMxNS4zNjQgMTkuMDE4MiAxNC4wNDY3IDE5LjQyNTkgMTIuNDk5NSAxOS40MjU5QzkuNTA0MjUgMTkuNDI1OSA2Ljk2OTAyIDE3LjQwMyA2LjA2NDcgMTQuNjg0OEgyLjIyMjY2VjE3LjY2NDRDNC4xMTQ5MyAyMS40MjI4IDguMDA0MDIgMjMuOTk5OCAxMi40OTk1IDIzLjk5OThaIiBmaWxsPSIjMzRBODUzIj48L3BhdGg+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjA2NTIzIDE0LjY4NTFDNS44MzUyMyAxMy45OTUxIDUuNzA0NTUgMTMuMjU4MSA1LjcwNDU1IDEyLjUwMDFDNS43MDQ1NSAxMS43NDIyIDUuODM1MjMgMTEuMDA1MSA2LjA2NTIzIDEwLjMxNTFWNy4zMzU1N0gyLjIyMzE4QzEuNDQ0MzIgOC44ODgwNyAxIDEwLjY0NDQgMSAxMi41MDAxQzEgMTQuMzU1OCAxLjQ0NDMyIDE2LjExMjIgMi4yMjMxOCAxNy42NjQ3TDYuMDY1MjMgMTQuNjg1MVoiIGZpbGw9IiNGQkJDMDUiPjwvcGF0aD48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEyLjQ5OTUgNS41NzM4NkMxNC4xODc5IDUuNTczODYgMTUuNzAzOCA2LjE1NDA5IDE2Ljg5NTYgNy4yOTM2NEwyMC4xOTQgMy45OTUyM0MxOC4yMDI0IDIuMTM5NTUgMTUuNTk5MiAxIDEyLjQ5OTUgMUM4LjAwNDAyIDEgNC4xMTQ5MyAzLjU3NzA1IDIuMjIyNjYgNy4zMzU0NUw2LjA2NDcgMTAuMzE1QzYuOTY5MDIgNy41OTY4MiA5LjUwNDI1IDUuNTczODYgMTIuNDk5NSA1LjU3Mzg2WiIgZmlsbD0iI0VBNDMzNSI+PC9wYXRoPjwvc3ZnPg==",name:"Continue with Google",url:"https://aptosconnect.app"},Xu=class extends Yu{constructor(e){super((0,i.A)((0,i.A)({},e),{},{provider:"google"})),this.name=Zu.name,this.icon=Zu.icon,this.url=Zu.url}get features(){return{[T]:{connect:this.connect.bind(this),version:"1.0.0"},[M]:{disconnect:this.disconnect.bind(this),version:"1.0.0"},[I]:{account:this.getAccount.bind(this),version:"1.0.0"},[N]:{network:this.getNetwork.bind(this),version:"1.0.0"},[x]:{onAccountChange:this.onAccountChange.bind(this),version:"1.0.0"},[k]:{onNetworkChange:this.onNetworkChange.bind(this),version:"1.0.0"},[U]:{signAndSubmitTransaction:this.signAndSubmitTransaction.bind(this),version:"1.1.0"},[E]:{signIn:this.signIn.bind(this),version:"0.1.0"},[_]:{signMessage:this.signMessage.bind(this),version:"1.0.0"},[S]:{signTransaction:this.signTransaction.bind(this),version:"1.1"}}}},$u=class extends Yu{constructor(e){super((0,i.A)((0,i.A)({},e),{},{provider:"apple"})),this.name=Ju.name,this.icon=Ju.icon,this.url=Ju.url}get features(){return{[T]:{connect:this.connect.bind(this),version:"1.0.0"},[M]:{disconnect:this.disconnect.bind(this),version:"1.0.0"},[I]:{account:this.getAccount.bind(this),version:"1.0.0"},[N]:{network:this.getNetwork.bind(this),version:"1.0.0"},[x]:{onAccountChange:this.onAccountChange.bind(this),version:"1.0.0"},[k]:{onNetworkChange:this.onNetworkChange.bind(this),version:"1.0.0"},[U]:{signAndSubmitTransaction:this.signAndSubmitTransaction.bind(this),version:"1.1.0"},[E]:{signIn:this.signIn.bind(this),version:"0.1.0"},[_]:{signMessage:this.signMessage.bind(this),version:"1.0.0"},[S]:{signTransaction:this.signTransaction.bind(this),version:"1.1"}}}};let ed=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.option=e,this.url="https://www.twallet.ai",this.version="1.0.0",this.name="T wallet",this.icon="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAQbUlEQVR4nO2da4wk11WAv3urume6e96z6519Obt2lsR2TNaWMQ52Hg6JkBD+kYAUoQiEQUImigT5gSUSZGIB4QdBSJEiEgHhkURAiC0lPyICRAZjRUFxYuLHvuY949mZ2ZndncfOdFdX1T38qK7u6urqnu6ent7dGR9pPV1V99469zv3nnvq3ltl9fCRH7MLeS/wGHAWeDtwB9AHWLsp9BYWA2wCV4BJ4P+Al4AX2y1QtWGAe4AngV8BTrd7430mM8BzwFeAc61kbMUAZ4A/Aj7eyg0OoPwT8CxwsZnEuslC/6BU4Fvwd5ZfBS4An2km8U4GGAH+A/gcoHan14GTPwG+BxxqlKiRAe4GXgU+1EGlDpp8kIDhmXoJ6hngNPAycHwPlDpochT4EUGUWCNJBugD/hcY2judDpz0Az8ABuIXkgzwb8DhvdboAMoo8N34ybgBngYe7Yo6B1MeAT4dPRF9DhgDFrut0QGVE8ACVPeAL94cXQ6k/FX4IzTASeCjN0eXAylPAKegYoDfu1maHGD5FFQM8Os3UZGDKr8GYBOMzA0flxuJUiAC+Rs+hW0Dwv6dtCjVrSejyfRZaB3UvU0ZBh6z2cVUg7YUG1c9Co7P8dO9HD6WRtsK8dvX6lYWpRUiwrUll7nxAqmUYuhQCiMSGKd1+ZANPNhOTm0pVi8XGTmS4qMfH+MdD+XoG7RQSiFm/xoAYHvTZ+InW3z3aysszRU5fDRFm1V+wCaYdGtJtKW4uljk6OkenvqzOzl6updrSy7bmybok2qf+iAJfFC6V/HoE8Pc+3A/X/r0LNPntjl8LI3xWy7xLvXwkR9fJpgwalqcvEFE+OTnT3H6viyXpwpoa59CryPGF468rYelWYcvfGoG1zFkci2vxC5qgsm3lmRjw+U9vzjC3ffnWJxxDhx8CLzA8pzDyTMZHv2lYTZvtN78gaymxZjF+EKmx+Lun85SKLR1030jWinyN3xO35ulL2vhey0PBErT4vjteUJ2wCI3YFHMy751902JgqJj6O2zyPa3ZQBpdk24+r4KZBcB8H4SBbuK+toygMiuHkD2neyGh73bmysRfMsmnx3AS5f82X41jgpavO1BZusGllfcdZG7MICgjbAxOIIGjs6+xtDqHCm/CGqfbowTg68t1oaPs3j6QVwb+sz6rtxB2wZQAlcPDXDHuVl+9t+/wImZH4GzXbq4T0dmEUAglWHp5P388MOfZPXsPajpFdrt9m0ZQBuf6yNHuHf2Eo9/+bdh8wqM3gmZgYge+80Pqcof32Pswos8Mf0y3//dL/PCyFm0maWdWci2BuF8Zoj+jes8/o1nIL8OR98Jdk+ggAr/6X32r1QvFFgpGDsDYvi5bz7D8OoiW7mRdlC2Z4CtvlHOvvw8LLwOh07RziTIbS/Gh5ETsDLFAz98nnx2uK1iWnZBRttk8uucmH0Fevuo52r2mwOCBAcjApkBjr35GrmtVXw7BbTWGFs2gG+l6M2v01vYhL4M4kpJl9LfVgu8zSQ0giqtRKlUL+kbW/QUNtnWGfbcAMHNwSgFAkYEgyASvL0AIFQWKG53g6iqHwpF4LfDv5YIJhwj2ghHWzaACvAGsMVQFIMv4IvBF8FAaXFif/SIqNvRKjCApRSWUqSUwhKDof3atmiA8DaCLwLGUADyhTybi0sUtrdxjQl6RJjjNreAikSfmgB8Jpuhf+wImVwfvUbwwucDoNVF8ZZ7gGBAPIpiQCmWJibZshTZDzzG4LvfhTU0hKjbv+XHJURqNm9QeP0cSy+8RO/8AsP3jeGWmECqlKp5I7RggNCp+6A8HCUsvn6O4gPv4/Qf/j6jj72n+aL2gay98hPm//TzLLz4HQp3HUeUi5g0e9oDJPR22ufK+fMc+eDP8K7nnsPat/tQ6svQA+9m8JtfZeXJj7H83HnI+oCPIKWhujlp7UFMDIKPs75EcXSIsX/8uwMJPxQF3PG3f4N/6jiF6wuI8kHMjvmi0qQBgkEm6AEe2/kZ7njqSciNtarz/hPdz9gnfot88U0Qr+IlmhwFm+4BUirUuAW0yjL0gbdeIwhl8NFHsK0BTDFPQKr5EKTFKMhgnDyp3CA9h0YTU1xb8VhecknbbU0z4XtCb0Zz59vTbeW/GZIaHsTuH8TNF6A301LeFgdhMGLQVv0u9o0vXePpZ+Y5k+ttSZFQVrY8zt6b4dtv/FRb+W+GiO8jyqc0J9DSqNhiGCqgQMQgpvFgc6CG5l0sCjdvgCYXWsK+0e4TcPPD160qrdWgzSXJ+jdQKvhUSru75TSg9e3Yf7q4JNlIPvbUCI9/ZIC0XQ1xYMhiYNBiacHFa7CByfeEnkx7A/jtKB03wPAhm+FDtcXe2PC5vu5x8u7bJ7rphnStqb3wrU3eMfYaT//GPBdeLXTrtre8dM0Ah4+myKD5639Y4SMPjvP0k/NMvHGwDSGyBy6onvi+kEVz12iafF7487+/zNY1ny9+61S3VLjpIiKIkfI7LErr7hkgFN9AJqc5tt1DJrd/B9sAdmWtXGmFthR2ysKyLbStsSytum6AUBRg27djuFkr6bRCjIvnFvFdD3QKy7aweyy0pQPYKY1labSlUaggaDXS/R6wH8WyAZUh2z9E3/AQdqqnDJzSOrJIsI3d+KWn5lIk/pYB2pDtLcPsZJGJiwUuvu5w4dVtxo4/QE9PD9pSiPERYzBGgld2w8XE2NKx8JYBmpK56SITFxwunStw6VyB6Ykii/Mua9d8fE/oH7AZO96D8X28oinDjc5KSGXPTuT6Wy6oRq5f85m65DB+vsDFcw6TFx3mZ4qsLns4BUNPj6Kv3yKb0wwMWoTveHmuF4PLjvChrX1Bu5tsu5WkUDDMTBQZv+Bw6XyByUsO89MuSwsumxs+WityfZq+PsWxE6nyFhUpb4yKuPMSlKbgl3501QUVHWEFD30dLBRXcNlc7+6m3oV5l8lS6x6/6DA17nA5dCW+kMlo+voshkctDt1RQmOqoQbRS6nAaGveoeWXG2x0C2c3H8T6BjT3HcswOmhhWYrsVc3xt+3dvND1qx5Tk0Hrnhp3mJpwmJt2WV32KOR9UmlFf79FNhu4kipwkTn1puFH92WxA/zIvbpmgIfen+N/Zt9ZdU516DnMLQoz00UmLjmMXwhcycxUkeVFjxslV5LNafpymrFjNkrbhPsrawCH/lUSrtVA3QX8bhtAKbA69OC1MO8yNekwNRFAn55wWJgvcv2aj+9BbyZo3SMjFocP2xF4UvHfSYDbgU/lPDTf8sPjWz4KWl/3mZ4MQE9ccpiadJifdVld8XAKQsqGXE6Ty2lO3mlVogQTCRZKwKKtr2Pwo2VKPF1CmbHrt5QBiiVXMj3hMDlRZHLCYXa6yNKiy41Ng9aQzWpyOYujR1MoJbUtLsG1dAJ+JerrHPyuDsJJsnjZLbuR8XGHmSmHy2+6rK/5eD5kMiqISkYsDh22qyFLAnzoHPyIu6gBGgHYED5UwzeVn2Harhlgfc1ndiZo1eMXA/89P1dkdcWjkBfSaUWuX5PLavoHrJo3XavjaUmudDPw4y16L+FHykmCv4snYYU0GE89T5idLjIxHvjtyXGHuVmX5WWXzQ2DUiW/3ac5MpZCN4qGaiqdAD+xdUu1iyhBgMZQa+CHhTYFX2rzStXpKvjQSg9QQSv0ij74eU6eqLwNf2XZY2oigD1+yWF6qsjlN12uX/OqXMngoMXoaGtbkerCrxtCNgnfSPVxp+DHdGkEv/EYICAiGE8wfrArGsuQ6e+hf/QY//z1bdbWPN54bYuFN12uLLvk86WopN8qRSXp9ndo1VQyUpMG8Xti5RPgl9NVgYmki8OvuRbVMRl+1XRNAnyR4NvRG0B/MFcN4pvgglbYaY2d0aQyGjurSWc16WyKVG8vc9N53KJPJhu4kt5e3diVtCIdgB/tKWVw0Dz8BD/eFvyqvBLLy4bt5v3gISmlSWU16UyKVNYugbewey2stEIpHSyx+YJXdBk7aqH24qMc3YKfADURPrXpOgQ/cEGDJzKkcxapbADbTmuUpYLxyQ9WcLyCqdSmJHvyPY4G8BNnFaNPt/H8u4DfqIckwk+6fxPwEbBHz+RQSmFC2K6B3X8Gp3XpFPw4VKhxO/UN0dhIHYVf+mN7BXPzV8Z3C78m/q/fohONJJHy6sEvx/FSrW+C/pW8DeAHZSs7coubI3H4po7Sewk/Hj1Rx/Bx+Am9oFLujvABRIuwtTOlPZJuwRc6C19i5RIvt0E9or1K2NaIrKib8YWrbsKPppP66aBJ+El6hnkbwSeeX65q48lk93aIRm9e+m26AN/EjkV2hC9VaXeAL2HeOvUI/9Sck2ltfHmlq+0/WpnI1r263XUH+OUe3wg+keM40DrwCdNGy2+kZyP48fwQBhqvaN81/1k1ou+lmOqKJ8I3VAPaAX7ZAjvBL6dLANRV+JXuJZjvad8x3zeeuar2+rWgOLw68KtaNJHQsFPrt1TOw27hRxKYpOux/OXmD8CaIC9q4wueY77asXmcJKmCJw3hVxTswhJiPfhJ8BLhx3RP0rF8+yh8hYj5ugiilVK4ef8vjZG9ebe0Bn5CpfZoCVEqtW8YPtbAD8usuR4eVxpQ6/CD+xjkLxSglVZ4jplz8+bbusPbxaWb8EswSvWr/EgEmKBH6HbK/6HGrUgcvlSSNg9fYZDvgEwDaJHgzW5n0/uE+J3bq9POEqIkwY8PyvXgh1zi6VqBH+0ldZYQo8d14Ud7ShX8Uh0xvxNm1QgoS+EV/AVnw/uMtnZpAWkCfrSCEfhVykPjFt0IftTtEEsb1SNyssZFEUvbIFyugU+sp5RVUgjms2DmwuJ1eFHbmsKG+zl32/+BTrX5zbGaSsZCyESFpTn4phbqjvAj4JPhU5O2JfhEekKEVz34YF4W/Gejg225uYezEdtXi79gXLnWshES4Jfzd2AJseq4WfhU/06EH9WrDfjR43K94+eCD2ysGfwPx7FV+RttK4wvGzeuOI+ILzd0qslBuQPwy1nqLKTs6HYSwsdW4RM/7hz8baO8R0DW4qFmtcOXwAh+Uca3VosPiS/LO0ZGHYIfpq+q3C24hFh932gZUqVnBP6KUf5DwMWkOD9xxLVSCuPLxa2rxfu9gvkvy1bJS5Ctwi/NFta05vAatA6fGPxYL0iEn3T/VuFXnYvUO5JPxLxolH8/yPkEekCDN+WDl81kJX+9+Hhh03sGgt5RNmID+FIPPvUjonLlIHEJsR58iZYTh1+O4yUCJVn/Srk7wCd+LgF+oNmzosz7geVGT7gNY05tKZRWOJveH+fX3HvcvP8vitLnZMrv69TCLytYD34sIqpUnlr49dIhDa6xN0uIsXpVww82MhjkXw3+faLMZ5OpVov6+bPnEi9oW6FK/7vW8nuugGXr++0e/Zva1r+sNScrLV0w0Q8GxuFHla8HLj420Fw6qGP4OPzo/SFW7g7woz0nPFmGL/MiPG8wXwFeTQRa1U0q0rQBgo8bELRQAW0pS1nqfUqr92qtzgKnlVKHgRyCJeWPB9afWqg+rmMkEtI1ApoEP1pOUtp68KP3Db5b7guyhbAqItPAKyAvich/S/BJ4USWlQJr5f8BAd7FbxCpVMcAAAAASUVORK5CYII=",this.chains=D,this.accounts=[],this.provider=typeof window<"u"?window.dekey:void 0,this.initializing=!1,this.account=async()=>{var e;const t=await(null==(e=this.provider)?void 0:e.request({method:"aptos_account"}));return{address:t.address,publicKey:t.publicKey}},this.connect=async()=>{var e,t,r;if(!this.initializing){this.initializing=!0,await n.e(3538).then(n.bind(n,3538));const r=td(null==(e=this.option)?void 0:e.env);if(!r)throw this.initializing=!1,new Error("walletDomain not found with env: ".concat(null==(t=this.option)?void 0:t.env));if(null==window||!window.initializeDekeyProvider)throw this.initializing=!1,new Error("initializeDekeyProvider not found");await window.initializeDekeyProvider(r),this.provider=window.dekey}if(!await this.checkProvider())return{status:K.REJECTED};const i=await(null==(r=this.provider)?void 0:r.request({method:"aptos_requestAccounts"}));return i?{status:K.APPROVED,args:{address:i.address,publicKey:i.publicKey}}:(await new Promise(e=>setTimeout(e,2e3)),{status:K.REJECTED})},this.checkProvider=async()=>new Promise(e=>{setTimeout(()=>{e(!1)},1e4);const t=setInterval(()=>{this.provider&&(e(!0),clearInterval(t))},100)}),this.network=async()=>{const{chainId:e,name:t,url:n}=await this.provider.request({method:"aptos_network"});return{name:t,chainId:e,url:n}},this.disconnect=async()=>Promise.resolve(),this.signTransaction=async(e,t)=>{try{const t=e.rawTransaction.bcsToBytes(),{concatedSig:n,uncompressedPubkey:r}=await this.provider.request({method:"aptos_signTransaction",params:[Array.from(t)]}),i=new u.s(r),s=new u.v(n),o=new u.Y(new u.k(i),new u.O(s));return Promise.resolve({status:K.APPROVED,args:o})}catch(n){throw n.message}},this.signAndSubmitTransaction=async e=>{const t=e.rawTransaction.bcsToBytes(),n=await this.provider.request({method:"aptos_signAndSubmitTransaction",params:[Array.from(t)]});return{status:K.APPROVED,args:n}},this.signMessage=async e=>{var t;try{const n=await(null==(t=this.provider)?void 0:t.request({method:"aptos_signMessage",params:[e.message]}));return{status:K.APPROVED,args:n}}catch(n){throw n.message}},this.onAccountChange=async()=>Promise.resolve(),this.onNetworkChange=async e=>{const t=async()=>{const t=await this.network(),{name:n,chainId:r,url:i}=t;e({name:n,chainId:r,url:i})};this.provider.on("chainChanged",()=>{t()})},(null==e||!e.env)&&!0===(null==e?void 0:e.registerWallet)&&nd(this)}get features(){return{"aptos:connect":{version:"1.0.0",connect:this.connect},"aptos:network":{version:"1.0.0",network:this.network},"aptos:disconnect":{version:"1.0.0",disconnect:this.disconnect},"aptos:signTransaction":{version:"1.0.0",signTransaction:this.signTransaction},"aptos:signAndSubmitTransaction":{version:"1.0.0",signAndSubmitTransaction:this.signAndSubmitTransaction},"aptos:signMessage":{version:"1.0.0",signMessage:this.signMessage},"aptos:onAccountChange":{version:"1.0.0",onAccountChange:this.onAccountChange},"aptos:onNetworkChange":{version:"1.0.0",onNetworkChange:this.onNetworkChange},"aptos:account":{version:"1.0.0",account:this.account}}}};const td=e=>"LOCAL"===e?"http://localhost:5173":"DEV"===e?"https://dev.twallet.ai":"QA"===e?"https://qa.twallet.ai":"https://www.twallet.ai",nd=e=>{typeof window>"u"||function(e){const t=t=>{let{register:n}=t;return n(e)};try{window.dispatchEvent(new A(t))}catch(n){console.error("wallet-standard:register-wallet event could not be dispatched\n",n)}try{window.addEventListener("wallet-standard:app-ready",e=>{let{detail:n}=e;return t(n)})}catch(n){console.error("wallet-standard:app-ready event listener could not be added\n",n)}}(e)};class rd extends ed{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super((0,i.A)((0,i.A)({},e),{},{env:"DEV"})),this.url="https://dev.twallet.ai",this.name="Dev T wallet",!0===(null==e?void 0:e.registerWallet)&&nd(this)}}var id=class{constructor(){this._listeners={}}on(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this._listeners[e]||(this._listeners[e]=[]),t._priority=n,-1===this._listeners[e].indexOf(t)&&(this._listeners[e].push(t),this._listeners[e].length>1&&this._listeners[e].sort(this.listenerSorter))}listenerSorter(e,t){return e._priority-t._priority}off(e,t){if(void 0===this._listeners[e])return;if(void 0===t)return void delete this._listeners[e];let n=this._listeners[e].indexOf(t);-1<n&&this._listeners[e].splice(n,1)}trigger(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof e&&(e={type:e,data:"object"==typeof t&&null!==t?t:{}}),typeof this._listeners[e.type]<"u")for(let n=this._listeners[e.type].length-1;n>=0;n--)this._listeners[e.type][n](e)}destroy(){this._listeners={}}},sd=class extends id{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100*Math.random()|0;super(),this.id="BELLHOP:".concat(e),this.connected=!1,this.isChild=!0,this.connecting=!1,this.debug=!1,this.origin="*",this.supported=!1,this._sendLater=[],this.iframe=null,this.receive=this.receive.bind(this)}receive(e){if(this.target===e.source){if(this.logDebugMessage(!0,e),"connected"!==e.data){let n=e.data;if("string"==typeof n)try{n=JSON.parse(n)}catch(t){console.warn("Bellhop error: ",t)}return void(this.connected&&"object"==typeof n&&n.type&&this.trigger(n))}this.onConnectionReceived(e.data)}}onConnectionReceived(e){if(this.connecting=!1,this.connected=!0,!this.isChild){if(!this.target)return;this.target.postMessage(e,this.origin)}for(let t=0;t<this._sendLater.length;t++){let{type:e,data:n}=this._sendLater[t];this.send(e,n)}this._sendLater.length=0,this.trigger("connected")}connect(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"*";var n;this.connecting||(this.disconnect(),this.connecting=!0,e instanceof HTMLIFrameElement&&(this.iframe=e),this.isChild=void 0===e,this.supported=!0,this.isChild&&(this.supported=window!=e),this.origin=t,window.addEventListener("message",this.receive),this.isChild&&(window===this.target?this.trigger("failed"):null==(n=this.target)||n.postMessage("connected",this.origin)))}disconnect(){this.connected=!1,this.connecting=!1,this.origin="",this.iframe=null,this.isChild=!0,this._sendLater.length=0,window.removeEventListener("message",this.receive)}send(e){var t;if("string"!=typeof e)throw"The event type must be a string";let n={type:e,data:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}};this.logDebugMessage(!1,n),this.connecting?this._sendLater.push(n):null==(t=this.target)||t.postMessage(JSON.stringify(n,(e,t)=>"bigint"==typeof t?t.toString():t),this.origin)}fetch(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!this.connecting&&!this.connected)throw"No connection, please call connect() first";let i=e=>{r&&this.off(e.type,i),t(e)};this.on(e,i),this.send(e,n)}respond(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this,i=async function(e){n&&r.off(e,i),"function"==typeof t?r.send(e.type,await t()):r.send(e.type,t)};this.on(e,i)}logDebugMessage(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;this.debug&&"function"==typeof this.debug?console.log({isChild:this.isChild,received:e,message:t}):this.debug&&console.log("Bellhop Instance (".concat(this.isChild?"Child":"Parent",") ").concat(e?"Received":"Sent"),t)}destroy(){super.destroy(),this.disconnect(),this._sendLater.length=0}get target(){var e;return this.isChild?window.parent:null==(e=this.iframe)?void 0:e.contentWindow}},od="MSafe",ad=class{constructor(e){this.config=e,this.isAIP62Standard=!0,this.version="1.0.0",this.name=od,this.providerName=od,this.provider=null,this.icon="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIQAAACECAMAAABmmnOVAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAB4UExURUxpcUe0pke1pke1p0W2oUi1p0e0pk68sEe1pj++q0e0pke1p0e1pke1p0e1p0e1p0e1p0m1qUe0pke1p0e1p0e1p0e1p0e1p0e1pke1p0e1pke1p0e0pka3pEi1p0i2qEq6rEu9rkm4qk3Cs0zAsU7Ftk3Bsk3DtOZUHKYAAAAedFJOUwD4J3kF+/sC/QQb1POTP+wyEVnhvqqdTHDItoVlDC8DDKsAAAdVSURBVHja7VrbQuM6DLTb+NYLlN4oBeLc8/9/eBzookbjNiennKeNHliWTGJFlkcjtWKyySabbLLJJptssskmm2yyvpmkM2f+Fcz8Lx7Q4s6Ye7g/v5jfD0L4sXj9mJ+2m4RWQgsXXrbv6/ePWfj9l30wIvnYr/KmbKpid9wIkcSBifhcr6om4Px587teGCFel21VWK21slmbHWbxBZyY7epCd2bLYiuSX/VhXeVS2/TLrLSt3QoX8+FlV8oLTGbZRiS/uBeHWsn0x7yVRfURWcCJdS1/UDJfGvFb2ZmIeS2tT69N++xJJLgZq8ISSLZrwjzqw8anNmUms+eFcNyJU6tTMpuSpw8nxFulUzDZnsNFBl23soepaEMe3YxSpRGT7UkkzIn3VvYx9TthHvFhJouoE9anM5H0sa+5tT1MWvzGCTHiXMo0aqp6C9fZCc10P4EJ80ggtrQZ4EU556FYlzqCeTQOL8+ZveWELfRlQ2jvtLcMowLmwUAcS+nTWyabfXC0j28UYsxjPjxlnCJY9vdPiBEz5dkNugVyfYwicENkn7KSjrg9w6wWwjwQiBM792C6OQtjWBL1/fa6OQj33wOxWBU6vW+22rLcPJWaY3LCjHfi0PKstJaHItu9CHd9k1nmLDdVvvscEQvgP/5OWWEhN9fCAG0CZrQT9EqWx3X5XPC/2fypt4ITh0ZxTEaYBwuXLexiW6uUB3vZIwsnFpJ56gkzylykcOlAweLM2cvLNpRKLoJSdkJaYu+RWQmbIUz3mhoCdGFm2shKxjCjA4HpZfNXkbjuCHJOrIi9ITcBM4Yrl7lmUe94qbuyr3godHNhZlLGDceoMmDGZmWrGfumQcGbr0ppeXlQ2fNLPxSB5hAzhr3jD5HtQZjvi+8t5GZ9FI7zJuTvGPaOh9OnQaj9bJUCZua6OpQ+H8mpURXc8mg2hz+VyomnHC6zRseJTZZCYu8SYUZUcDhiaUGvarp6DVKvTxYugtEtYYYD8dFKCDcJVhS0SAQB87nLYUs9ae9hXRmyEskyuZa/FUd8n2BxH3NXe4Nk9iBerttKY8S5UhxCRAAYaJiGW88CdaW9tJ5UWRSUUyILwIyTesCIsB93ilR5HCpk6ZDUo61UNuJE957u2lcsUpaacMCMIQsTSWrqbR12A0gWgEGpZ4YC8V7Hux3V307juvwFR+dfjhLmyDDwMhFzkepE9WHdI4JLhwhkYQYwvhgY6zlxoGMF5i93U/ZoBoiQRcMxXaNuRghsrkv6KwQiaKTn2b8VCWD4KUKygJ7hllmW2UbMdJQsXA9jo2SR3Gv7uHTD7B8ggkAWrpcWMUxXkW+3fawuMdPEuhg5mtgBRt8OKWblkUkmZCw6piA8aGInBjFMWTA0rMslGpdxgQg8kkWCGJzqjRxGkAEzx8hCz4RDDCqLqJSpIBCQpvpH3JAA0jDVo5kFDd84Zk8YNv6DauPBi4blptg3MjazGBhDqtiE3nVFA2K/h0BqNtMO8oMRAc4jElAWUJWBVMjZpZi3CgrQkTHzOwUb5hHQ4cNzgF6x0wgKZ2DWYESygzlGSkWKtSow14CiAUftk6ajvQI0cK+XrEhFjr/X+RL7XwvK+JvJIVV4a+twtuURc2Q6BWYWYalGx+iXGiEoUkD3gAFCUTgEJYwTi2f+FF0GCXMR397GrmHhw0J2X7tqai2jbZ3NulP2J/sHOikg21gh61L/TiEz1GmAOIlnvyzP0V4Fuy326Q0UsmUiDB5PlGkh+4nPuY/UtbUSihTlJhu8YCHrFoF4fwlWyn4+sVOsFnedArbIXUcGMwtcyOHxRFkesp9PEz1ryKKql/KXzSx4sfs+nnxeyRqULpAyphMHRo7ebnBmEc9NbLmwCoolf08FWpLIAo8gbRoO35fdUvSWqAdQouEMi5RFo2PjnaHhe+BNYjKeLPhZGLuZvaahYhfB0PBde9CtUBtA/4FEgxNELWQxgDE4m/RdoXyrFCcQRzfekWiy/WClOPZCJ8KQHASlJ/0NKgXB0UrmxFo4LpUbjjnynSU5SHwiNPOdZf119hcq5sQ9GSe7XotjsHcUu8zeLsGY/TiMwE/hMBJc6rFaySiZFwVeBn1fnhkceF1jPFEv+wCBzby3paQ/sPDhhliC0hc0AEOOVuBoV3Kvg29VwIh9vUr95cGs14QT0ih7gWrbvAoXxWjrmaLGkdTqAvF2FTAiqKpaShtMyay90S2T+FlJ27kvfQi0MXGMDJhgStbsGy/UqNcr++2mrfdJ59firWyyosiq1p7Yg3HL67zwqc9qfwr/j2OOdVWkaQc6COFufSUss1or2+Rr02GCI9vzbrV63s8XzAdcITntn21hd8cZQcGL7dsqLbzdzcEHmr7Pd3nZlMX+6YLpfiSLxacQ+GBcQbzMNrPguItCL89YzDZfoJuYsOLTfD3f0JLGGfrnnhHmLjRcHAIZRx7TH4MNrE9QB1hcwznE4FdHnZhssskmm2yyySabbLLJJvt77B/GCxK9lvuH1wAAAABJRU5ErkJggg==",this.chains=D,this.accounts=[],this.bellhop=new sd,this.account=async()=>(console.log("\ud83d\ude80 ~ MSafeWallet ~ AptosGetAccountMethod:"),this.getCurrentAccountInfo()),this.connect=async()=>(console.log("\ud83d\ude80 ~ MSafeWallet ~ AptosConnectMethod:"),this.getCurrentAccountInfo().then(e=>({status:K.APPROVED,args:e}))),this.network=async()=>({name:this.config.network,chainId:this.config.network===u.e.MAINNET?1:2}),this.disconnect=async()=>(console.log("\ud83d\ude80 ~ MSafeWallet ~ disconnect:"),Promise.resolve()),this.signMessage=async e=>(console.log("\ud83d\ude80 ~ MSafeWallet ~ signMessage:"),this.bellhop.send("signMessage",e),this.fetch("signMessageResponse")),this.signTransaction=async(e,t)=>(console.log("\ud83d\ude80 ~ MSafeWallet ~ signTransaction:"),this.bellhop.send("signTransaction",{transaction:e,asFeePayer:t}),this.fetch("signTransactionResponse")),this.onAccountChange=async e=>{console.log("\ud83d\ude80 ~ MSafeWallet ~ onAccountChange ~ listener:",e),this.onAccountChangeInput=e},this.onNetworkChange=async e=>{console.log("\ud83d\ude80 ~ MSafeWallet ~ onNetworkChange ~ listener:",e),this.onNetworkChangeInput=e};let{network:t,appId:n,appUrl:r}=this.config,i="https://aptos-testnet.m-safe.io/";t!==u.e.TESTNET&&(i="https://aptos.m-safe.io/"),this.url=n?"".concat(i,"/store/").concat(n):"".concat(i,"/store/0?url=").concat(r),this.bellhop.connect(),this.bellhop.on("changeAccount",async e=>{if(console.log("\ud83d\ude80 ~ MSafeWallet ~ on ~ changeAccount:",e,this.onAccountChangeInput),this.onAccountChangeInput){let t=e.data.address;this.onAccountChangeInput(new C({address:u.l.fromString(t),publicKey:new u.f(t)}))}})}get features(){return{"aptos:connect":{version:"1.0.0",connect:this.connect},"aptos:network":{version:"1.0.0",network:this.network},"aptos:disconnect":{version:"1.0.0",disconnect:this.disconnect},"aptos:signTransaction":{version:"1.0.0",signTransaction:this.signTransaction},"aptos:signAndSubmitTransaction":{version:"1.0.0",signAndSubmitTransaction:this.signAndSubmitTransaction},"aptos:signMessage":{version:"1.0.0",signMessage:this.signMessage},"aptos:onAccountChange":{version:"1.0.0",onAccountChange:this.onAccountChange},"aptos:onNetworkChange":{version:"1.0.0",onNetworkChange:this.onNetworkChange},"aptos:account":{version:"1.0.0",account:this.account}}}async submitTransaction(e){return console.log("\ud83d\ude80 ~ MSafeWallet ~ submitTransaction:"),this.bellhop.send("submitTransaction",{transaction:e}),this.fetch("submitTransactionResponse")}async signAndSubmitTransaction(e,t){if(console.log("\ud83d\ude80 ~ MSafeWallet ~ signAndSubmitTransaction:",e),e.rawTransaction){let n=e,r=new u.n;n.rawTransaction.serialize(r);let i=u.c.fromHexInput(r.toUint8Array()).toString();this.bellhop.send("signAndSubmitTransaction",{transaction:e,options:t,content:i})}else this.bellhop.send("signAndSubmitTransaction",{transaction:e,options:t});return await this.fetch("signAndSubmitTransactionResponse")}async getCurrentAccountInfo(){this.bellhop.send("connect");let{address:e}=await this.fetch("connectResponse");return console.log("\ud83d\ude80 ~ MSafeWallet ~ getCurrentAccountInfo ~ address:",e),new C({address:u.l.fromString(e),publicKey:new u.f(e)})}async fetch(e){return new Promise(t=>{this.bellhop.fetch(e,e=>{t(e.data)})})}};function cd(e,t,n,r,i,s,o){try{var a=e[s](o),c=a.value}catch(l){return void n(l)}a.done?t(c):Promise.resolve(c).then(r,i)}function ld(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var s=e.apply(t,n);function o(e){cd(s,r,i,o,a,"next",e)}function a(e){cd(s,r,i,o,a,"throw",e)}o(void 0)})}}function ud(e,t,n){return t=pd(t),function(e,t){return!t||"object"!==vd(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(e,zd()?Reflect.construct(t,n||[],pd(e).constructor):t.apply(e,n))}function dd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hd(e,t,n){return(hd=zd()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Ad(i,n.prototype),i}).apply(null,arguments)}function fd(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}function gd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pd(e){return(pd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yd(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ad(e,t)}function wd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){gd(e,t,n[t])})}return e}function md(e,t){return t=null!==t&&void 0!==t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function Ad(e,t){return(Ad=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vd(e){return e&&typeof Symbol<"u"&&e.constructor===Symbol?"symbol":typeof e}function bd(e){var t="function"==typeof Map?new Map:void 0;return bd=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return hd(e,arguments,pd(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Ad(n,e)},bd(e)}function zd(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(zd=function(){return!!e})()}function Ud(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}var Ed="5.5.0",_d=function(){function e(){dd(this,e),this.aptosGAID="G-GNVVWBL3J9",this.injectGA(this.aptosGAID)}return fd(e,[{key:"gtag",value:function(e,t,n){(window.dataLayer||[]).push(arguments)}},{key:"injectGA",value:function(e){if(!(typeof window>"u")&&e){var t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.setAttribute("src","https://www.googletagmanager.com/gtag/js?id=".concat(e));var r=this;n.onload=function(){r.gtag("js",new Date),r.gtag("config","".concat(e),{send_page_view:!1})},t.insertBefore(n,t.children[1])}}}]),e}(),Sd=function(e){function t(e,n){var r;return dd(this,t),(r=ud(this,t,[e])).error=n,r}return yd(t,e),t}(bd(Error)),Td=function(e){function t(){var e;return dd(this,t),(e=ud(this,t,arguments)).name="WalletNotSelectedError",e}return yd(t,e),t}(Sd),Md=function(e){function t(){var e;return dd(this,t),(e=ud(this,t,arguments)).name="WalletNotReadyError",e}return yd(t,e),t}(Sd),Id=function(e){function t(){var e;return dd(this,t),(e=ud(this,t,arguments)).name="WalletConnectionError",e}return yd(t,e),t}(Sd),Nd=function(e){function t(){var e;return dd(this,t),(e=ud(this,t,arguments)).name="WalletDisconnectionError",e}return yd(t,e),t}(Sd),xd=function(e){function t(){var e;return dd(this,t),(e=ud(this,t,arguments)).name="WalletAccountError",e}return yd(t,e),t}(Sd),kd=function(e){function t(){var e;return dd(this,t),(e=ud(this,t,arguments)).name="WalletGetNetworkError",e}return yd(t,e),t}(Sd),Cd=function(e){function t(){var e;return dd(this,t),(e=ud(this,t,arguments)).name="WalletAccountChangeError",e}return yd(t,e),t}(Sd),Dd=function(e){function t(){var e;return dd(this,t),(e=ud(this,t,arguments)).name="WalletNetworkChangeError",e}return yd(t,e),t}(Sd),Od=function(e){function t(){var e;return dd(this,t),(e=ud(this,t,arguments)).name="WalletNotConnectedError",e}return yd(t,e),t}(Sd),jd=function(e){function t(){var e;return dd(this,t),(e=ud(this,t,arguments)).name="WalletSignMessageError",e}return yd(t,e),t}(Sd),Bd=function(e){function t(){var e;return dd(this,t),(e=ud(this,t,arguments)).name="WalletSignMessageAndVerifyError",e}return yd(t,e),t}(Sd),Ld=function(e){function t(){var e;return dd(this,t),(e=ud(this,t,arguments)).name="WalletSignAndSubmitMessageError",e}return yd(t,e),t}(Sd),Pd=function(e){function t(){var e;return dd(this,t),(e=ud(this,t,arguments)).name="WalletSignTransactionError",e}return yd(t,e),t}(Sd),Rd=function(e){function t(){var e;return dd(this,t),(e=ud(this,t,arguments)).name="WalletNotSupportedMethod",e}return yd(t,e),t}(Sd),Fd=function(e){function t(){var e;return dd(this,t),(e=ud(this,t,arguments)).name="WalletChangeNetworkError",e}return yd(t,e),t}(Sd),Kd=function(e){function t(){var e;return dd(this,t),(e=ud(this,t,arguments)).name="WalletSubmitTransactionError",e}return yd(t,e),t}(Sd),Wd=function(e){function t(){var e;return dd(this,t),(e=ud(this,t,arguments)).name="WalletNotFoundError",e}return yd(t,e),t}(Sd),Hd=function(e){return e.Installed="Installed",e.NotDetected="NotDetected",e}(Hd||{}),Vd={1:"mainnet",2:"testnet"};function qd(){return!(typeof navigator>"u"||!navigator)&&(/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/i.test(navigator.userAgent)&&!function(){var e=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),t=/(Android).*Version\/[\d.]+.*Chrome\/[^\s]+ Mobile/i.test(navigator.userAgent);return e||t}())}function Gd(e){return"object"===(typeof e>"u"?"undefined":vd(e))&&"message"in e?e.message:e}var Qd=function(e,t){if(!e)throw new Error("Undefined network");if(Yd(e)){var n=function(e){switch(null==e?void 0:e.name){case"mainnet":return u.e.MAINNET;case"testnet":return u.e.TESTNET;case"devnet":return u.e.DEVNET;case"local":return u.e.LOCAL;default:throw new Error("Invalid Aptos network name")}}(e);if(Jd(n)){var r=null==t?void 0:t.aptosApiKeys;return new u.u({network:n,clientConfig:{API_KEY:r?r[n]:void 0}})}return new u.u({network:n})}if(e.url&&Object.values({okx:"https://wallet.okx.com/fullnode/aptos/discover/rpc"}).includes(e.url))return new u.u({network:u.e.CUSTOM,fullnode:e.url});throw new Error("Invalid network, network ".concat(e.name," not supported with Aptos wallet adapter to prevent user from using an unexpected network."))},Yd=function(e){if(!e)throw new Error("Undefined network");return void 0!==u.j[e.name]},Jd=function(e){return"devnet"===e||"testnet"===e||"mainnet"===e},Zd=function(){var e=ld(function(){return Ud(this,function(e){switch(e.label){case 0:return[4,(new u.W).getChainId()];case 1:return[2,e.sent()]}})});return function(){return e.apply(this,arguments)}}();var Xd="AptosWalletName";var $d=[{name:"Nightly",url:"https://nightly.app/",icon:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyOC4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iV2Fyc3R3YV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDg1MS41IDg1MS41IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA4NTEuNSA4NTEuNTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4NCgkuc3Qwe2ZpbGw6IzYwNjdGOTt9DQoJLnN0MXtmaWxsOiNGN0Y3Rjc7fQ0KPC9zdHlsZT4NCjxnPg0KCTxnIGlkPSJXYXJzdHdhXzJfMDAwMDAwMTQ2MDk2NTQyNTMxODA5NDY0NjAwMDAwMDg2NDc4NTIwMDIxMTY5MTg2ODhfIj4NCgkJPHBhdGggY2xhc3M9InN0MCIgZD0iTTEyNCwwaDYwMy42YzY4LjUsMCwxMjQsNTUuNSwxMjQsMTI0djYwMy42YzAsNjguNS01NS41LDEyNC0xMjQsMTI0SDEyNGMtNjguNSwwLTEyNC01NS41LTEyNC0xMjRWMTI0DQoJCQlDMCw1NS41LDU1LjUsMCwxMjQsMHoiLz4NCgk8L2c+DQoJPGcgaWQ9IldhcnN0d2FfMyI+DQoJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik02MjMuNSwxNzAuM2MtMzcuNCw1Mi4yLTg0LjIsODguNC0xMzkuNSwxMTIuNmMtMTkuMi01LjMtMzguOS04LTU4LjMtNy44Yy0xOS40LTAuMi0zOS4xLDIuNi01OC4zLDcuOA0KCQkJYy01NS4zLTI0LjMtMTAyLjEtNjAuMy0xMzkuNS0xMTIuNmMtMTEuMywyOC40LTU0LjgsMTI2LjQtMi42LDI2My40YzAsMC0xNi43LDcxLjUsMTQsMTMyLjljMCwwLDQ0LjQtMjAuMSw3OS43LDguMg0KCQkJYzM2LjksMjkuOSwyNS4xLDU4LjcsNTEuMSw4My41YzIyLjQsMjIuOSw1NS43LDIyLjksNTUuNywyMi45czMzLjMsMCw1NS43LTIyLjhjMjYtMjQuNywxNC4zLTUzLjUsNTEuMS04My41DQoJCQljMzUuMi0yOC4zLDc5LjctOC4yLDc5LjctOC4yYzMwLjYtNjEuNCwxNC0xMzIuOSwxNC0xMzIuOUM2NzguMywyOTYuNyw2MzQuOSwxOTguNyw2MjMuNSwxNzAuM3ogTTI1My4xLDQxNC44DQoJCQljLTI4LjQtNTguMy0zNi4yLTEzOC4zLTE4LjMtMjAxLjVjMjMuNyw2MCw1NS45LDg2LjksOTQuMiwxMTUuM0MzMTIuOCwzNjIuMywyODIuMywzOTQuMSwyNTMuMSw0MTQuOHogTTMzNC44LDUxNy41DQoJCQljLTIyLjQtOS45LTI3LjEtMjkuNC0yNy4xLTI5LjRjMzAuNS0xOS4yLDc1LjQtNC41LDc2LjgsNDAuOUMzNjAuOSw1MTQuNywzNTMsNTI1LjQsMzM0LjgsNTE3LjV6IE00MjUuNyw2NzguNw0KCQkJYy0xNiwwLTI5LTExLjUtMjktMjUuNnMxMy0yNS42LDI5LTI1LjZzMjksMTEuNSwyOSwyNS42QzQ1NC43LDY2Ny4zLDQ0MS43LDY3OC43LDQyNS43LDY3OC43eiBNNTE2LjcsNTE3LjUNCgkJCWMtMTguMiw4LTI2LTIuOC00OS43LDExLjVjMS41LTQ1LjQsNDYuMi02MC4xLDc2LjgtNDAuOUM1NDMuOCw0ODgsNTM5LDUwNy42LDUxNi43LDUxNy41eiBNNTk4LjMsNDE0LjgNCgkJCWMtMjkuMS0yMC43LTU5LjctNTIuNC03Ni04Ni4yYzM4LjMtMjguNCw3MC42LTU1LjQsOTQuMi0xMTUuM0M2MzQuNiwyNzYuNSw2MjYuOCwzNTYuNiw1OTguMyw0MTQuOHoiLz4NCgk8L2c+DQo8L2c+DQo8L3N2Zz4NCg==",readyState:"NotDetected",isAIP62Standard:!0,deeplinkProvider:"nightly://v1?network=aptos&url="},{name:"Petra",url:"https://chromewebstore.google.com/detail/petra-aptos-wallet/ejjladinnckdgjemekebdpeokbikhfci?hl=en",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAWbSURBVHgB7Z09c9NYFIaPlFSpUqQNK6rQhbSkWJghLZP9BesxfwAqytg1xe7+AY+3go5ACzObBkpwSqrVQkuRCiqkva8UZW1je22wpHPveZ8ZRU6wwwznueee+6FLJCuSdzrb7nZTNjaOJc9/ctdNiaJESPPkeeq+phLH5/L162k0HJ7JikTLvtEFPnFBf+D+0l/dt9tCNJK6xnjmZOg7GdJlPvC/AhQtPo5P3MsHQvwhiobLiLBQABf82y74z4Qt3ldSybKHToLTeW+I5/1B3u2euOD/JQy+zyRowEUs5zAzA1x+oCckJHrRYNCf/uE3AjD4QfONBBMC5PfvY2j3TEi4ZNmd8eHilQDFMK/s8xMhIXPhJLjuJLjAN/8VgRsbPWHwLbAtm5tXRWGRAS5b/99C7FBmgbTMAGXrJ5aIomJir8wA3S5afyLEEkUtEBezfQy+RYpFvdilgmMhNnGxRw2wL8QqScy1fMNE0T4yQCLEKkksxDQUwDj2BNjbK69pdndn/zxwNsUCCOyNGyJ374psbYkMBiLv30++59o1kW5X5NMnkdFI5OXL8nXghCsAAn10NL/Fz2NnpxQFFyR5/bq8BypDWAIg6AcHIoeH60nn4/K8e1deECIgwhAAQULQEXxIUAf43bju3ZvMDJ7jrwDT/XpToIvABeECqBf8EuB7+/W6CKBe0C/Auvv1uvC0XtArQBP9el14VC/oEqCtfr0uPKgX2hdAW79eF0rrhfYFQPCRKi1RyY4ZyZYF4GKQcSiAcSiAcSiAcSiAcSiAcSiAcSiAcSiAcSiAcSiAcSiAcSiAcShAm3z+LG1DAdqEAhjn40dpGwrQFtgIwgxgGAWtH1CAtsC2cQVQgLZQsk2cArSBoqeHKEAbKHpiiAI0DVq+kv4fUICmQetXMPyroABNgtb/5o1oggI0icJzBChAUyDwr16JNihAUzx+LBqhAE3w5InaU0MoQN08f64y9VdQgDrBkO/FC9EMBagLBB/P/yvHxlGxTYPh3tOn4gMUYN2g4FPc509DAdYFqvxZh1ArhwKsg6rSVzTHvywU4EeoqnyPTxKnAKuCVo4iD4s6ARwhTwGWoTrk8e3bIE4IH4cCVCDI1U6dL1/K73Eh4B727ctCASoQ6MBa9zJwJtA4FMA4FMA4FMA4FMA4FMA4FMA4FMA47Qtg4P/n1Uz7AgQ8zeoD7Qug5KQMq+joApgFWkNHEWhwEUYLFMA4OgRQdGCCNXQIUG28II2jZyKIWaAV9Aig7OgUK+gRAMH36ImaUNC1FoDt1swCjaJLAAQfT9mQxtC3GohugCOCxtC5HIyHLNkVNIJOATAv4Mnz9b6jd0MIhoWsB2pH944gPHmLkQGpDf1bwtAVUILa8GNPICRgd1AL/mwKRXfA0cHa8WtXMArDfp8bSdeIf9vCEfxHj8psQBF+GH/PB0A2wIzhrVsih4ciOztCVsfvAyKQAVAbYPr44EDk6Ehkd1fI8oRxQggKQ2QEXMgEe3ulELhvbQmZT3hHxFRn+1Tn/UAAZAWIUXUTHz4IKQn/jCBkB6Pn/ywDHw41DgUwDgRIhVgljSWKzoXYJM+dAFmWCrHKeewsOBViExd71AAjd10IsUYaDYdnsfty4Uz4U4g1zvClHAbm+e9CbJFlfdwKAVwWSJ0EfwixwrCIuYxPBOV5T1gLWCCtWj+4EqCoBbLsFyFhk2UPq9YPJqaCURW6W19IqPRdjCeG/dGsd+Xdbs/dToSERD8aDHrTP4zmvZsSBMXM4INo0afyTudY4vg39zIR4iNFXXfZtc9k4XJw0V9k2R1OFHkIhvVZdn1R8MHCDDDx+zqdxK0c9tz1szAjaKWc1XUTe+OV/iKWFmAcJ8NtJ8Kxe7kvkCGKEiHN45Zz3b/9yN3/uVzUGxXD+RX4F56985hsqA6SAAAAAElFTkSuQmCC",readyState:"NotDetected",isAIP62Standard:!0,deeplinkProvider:"https://petra.app/explore?link="},{name:"Pontem Wallet",url:"https://pontem.network/pontem-wallet",icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAzNiAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTE4IDBDOC4wNzMwNCAwIDAgOC4wNzEzOSAwIDE3Ljk5NjNDMCAyNS4xMjk4IDQuMTczMTYgMzEuMzEwOCAxMC4yMDc2IDM0LjIyMDNWMzQuMjM1MUgxMC4yMzcyQzEyLjU4NiAzNS4zNjQ5IDE1LjIyMjggMzYgMTggMzZDMjcuOTI3IDM2IDM2IDI3LjkyODYgMzYgMTguMDAzN0MzNiA4LjA3MTM4IDI3LjkyNyAwIDE4IDBaTTE4IDEuNDc2OTJDMjcuMTA3MSAxLjQ3NjkyIDM0LjUyMjggOC44OTEwOCAzNC41MjI4IDE3Ljk5NjNDMzQuNTIyOCAyMC42MTA1IDMzLjkwOTcgMjMuMDkxNyAzMi44MjQgMjUuMjkyM0MzMC40NDU2IDI0LjE0MDMgMjguMDMwNCAyMy4yODM3IDI1LjU5MjkgMjIuNzAwM1Y4LjkyMDYyQzI1LjU5MjkgOC40NDA2MiAyNS4yMTYyIDguMDU2NjIgMjQuNzQzNSA4LjA1NjYySDIxLjcxNTJIMTQuMDg1NEgxMS4wNTdDMTAuNTkxNyA4LjA1NjYyIDEwLjIwNzYgOC40NDA2MiAxMC4yMDc2IDguOTIwNjJWMjIuNzY2OEM3Ljg0NDA3IDIzLjM1MDIgNS40OTUyOCAyNC4xOTIgMy4xODM0MiAyNS4yOTk3QzIuMDkwMjcgMjMuMDkxNyAxLjQ3NzIzIDIwLjYxNzggMS40NzcyMyAxNy45OTYzQzEuNDc3MjMgOC44OTEwOCA4Ljg5MjkgMS40NzY5MiAxOCAxLjQ3NjkyWk00LjEzNjIzIDI2Ljk2MTJDNi4wOTM1NiAyNS45OTM4IDguMTI0NzQgMjUuMjQ4IDEwLjIxNSAyNC43MzExVjMyLjU1ODhDNy43NDA2NiAzMS4yMzY5IDUuNjUwMzkgMjkuMzAyMiA0LjEzNjIzIDI2Ljk2MTJaTTE0LjA4NTQgMzQuMDQzMVYxNS42MDM3QzE0LjA4NTQgMTMuNDY5NSAxNS44MzU5IDExLjcwNDYgMTcuOTI2MSAxMS43MDQ2QzIwLjAxNjQgMTEuNzA0NiAyMS43MTUyIDEzLjQzMjYgMjEuNzE1MiAxNS41NTk0QzIxLjcxNTIgMTUuNTc0MiAyMS43MDc4IDE1LjU4ODkgMjEuNzA3OCAxNS42MDM3SDIxLjcxNTJWMjIuMDIwOUMxOS45MzUyIDIxLjgxNDIgMTguMTQ3NyAyMS43NDc3IDE2LjM2MDMgMjEuODQzN0wxNC44OTA0IDIzLjk3NzhDMTcuMTgwMSAyMy43ODU4IDE5LjQxMDcgMjMuODAwNiAyMS42MTE4IDI0LjA1MTdDMjEuNjM0IDI0LjA1MTcgMjEuNjQ4NyAyNC4wNTE3IDIxLjY3MDkgMjQuMDU5MUMyMS42ODU3IDI0LjA1OTEgMjEuNzAwNSAyNC4wNTkxIDIxLjcyMjYgMjQuMDY2NUMyMi4xMDY3IDI0LjExMDggMjMuNTAyNyAyNC4yODggMjQuNzgwNSAyNC42MDU1TDIxLjcyMjYgMjUuNjQ2OFYzNC4xMDIyQzIwLjUyNjEgMzQuMzc1NCAxOS4yODUyIDM0LjUzMDUgMTguMDE0OCAzNC41MzA1QzE2LjY0ODMgMzQuNTE1NyAxNS4zNDEgMzQuMzQ1OCAxNC4wODU0IDM0LjA0MzFaTTI1LjU4NTYgMzIuNjYyMlYyNC43NjhDMjcuNjY4NCAyNS4yOTIzIDI5LjcyOTIgMjYuMDYwMyAzMS43OTczIDI3LjA2NDZDMzAuMjQ2MiAyOS40MjAzIDI4LjEwNDIgMzEuMzU1MSAyNS41ODU2IDMyLjY2MjJaIiBmaWxsPSJ1cmwoI3BhaW50MF9saW5lYXJfMjIyXzE2NzApIi8+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfMjIyXzE2NzAiIHgxPSIxNy45OTk3IiB5MT0iMzYuNzc4OSIgeDI9IjE3Ljk5OTciIHkyPSItNS41MTk3OCIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgo8c3RvcCBvZmZzZXQ9IjAuMDg1OCIgc3RvcC1jb2xvcj0iIzhEMjlDMSIvPgo8c3RvcCBvZmZzZXQ9IjAuMjM4MyIgc3RvcC1jb2xvcj0iIzk0MkJCQiIvPgo8c3RvcCBvZmZzZXQ9IjAuNDY2NyIgc3RvcC1jb2xvcj0iI0E5MkZBQyIvPgo8c3RvcCBvZmZzZXQ9IjAuNzQxMyIgc3RvcC1jb2xvcj0iI0NBMzc5MyIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNGMDNGNzciLz4KPC9saW5lYXJHcmFkaWVudD4KPC9kZWZzPgo8L3N2Zz4K",readyState:"NotDetected",isAIP62Standard:!0},{name:"Rimosafe",url:"https://chromewebstore.google.com/detail/rimo-safe-wallet/kiicddjcakdmobjkcpppkgcjbpakcagp",icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIHZpZXdCb3g9IjAgMCAzMCAzMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cmVjdCB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIGZpbGw9Im5vbmUiLz4KICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzLCAzKSBzY2FsZSgwLjgpIj4KICAgIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMjkuNTMxMSA5Ljg0MzY5VjBIMTkuNjg3NEwxOS42ODc3IDAuMDAwMzQwNTU1TDAgMC4wMDAzNDE0MTVMNC4zMjEzNGUtMDcgOS44NDQwM0g5Ljg0MzY5QzQuNDA3MTcgOS44NDQwMyAwIDE0LjI1MTIgMCAxOS42ODc3VjMwLjAwMDFIOS44NDM2OVYxOS42ODc5TDE5LjY4NzEgMzAuMDAwMUwxOS42ODcxIDE5LjY4NzdMMjkuNTMwOCA5Ljg0NDAzTDI5LjUzMTEgOS44NDQwM1Y5Ljg0MzY1TDI5LjUzMTEgOS44NDM2OVpNMTkuNjg3MSAxOS42ODc2TDE5LjY4NzEgOS44NDQwM0g5Ljg0MzY5VjE5LjY4NzZIMTkuNjg3MVpNMjkuNTMxMSA5Ljg0MzY1TDE5LjY4NzcgMC4wMDAzNDA1NTVMMjkuNTMxMSAwLjAwMDM0MDEyNVY5Ljg0MzY1Wk0xOS42ODc0IDE5LjY4NzZIMjkuNTMxMVYzMC4wMDAxSDE5LjY4NzRWMTkuNjg3NloiIGZpbGw9IiNGRjVDMjgiLz4KICA8L2c+Cjwvc3ZnPgo=",readyState:"NotDetected",isAIP62Standard:!0},{name:"OKX Wallet",url:"https://chromewebstore.google.com/detail/okx-wallet/mcohilncbfahbmgdjkbpemcciiolgcge",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJDSURBVHgB7Zq9jtpAEMfHlhEgQLiioXEkoAGECwoKxMcTRHmC5E3IoyRPkPAEkI7unJYmTgEFTYwA8a3NTKScLnCHN6c9r1e3P2llWQy7M/s1Gv1twCP0ej37dDq9x+Zut1t3t9vZjDEHIiSRSPg4ZpDL5fxkMvn1cDh8m0wmfugfO53OoFQq/crn8wxfY9EymQyrVCqMfHvScZx1p9ls3pFxXBy/bKlUipGPrVbLuQqAfsCliq3zl0H84zwtjQrOw4Mt1W63P5LvBm2d+Xz+YzqdgkqUy+WgWCy+Mc/nc282m4FqLBYL+3g8fjDxenq72WxANZbLJeA13zDX67UDioL5ybXwafMYu64Ltn3bdDweQ5R97fd7GyhBQMipx4POeEDHIu2LfDdBIGGz+hJ9CQ1ABjoA2egAZPM6AgiCAEQhsi/C4jHyPA/6/f5NG3Ks2+3CYDC4aTccDrn6ojG54MnEvG00GoVmWLIRNZ7wTCwDHYBsdACy0QHIhiuRETxlICWpMMhGZHmqS8qH6JLyGegAZKMDkI0uKf8X4SWlaZo+Pp1bRrwlJU8ZKLIvUjKh0WiQ3sRUbNVq9c5Ebew7KEo2m/1p4jJ4qAmDaqDQBzj5XyiAT4VCQezJigAU+IDU+z8vJFnGWeC+bKQV/5VZ71FV6L7PA3gg3tXrdQ+DgLhC+75Wq3no69P3MC0NFQpx2lL04Ql9gHK1bRDjsSBIvScBnDTk1WrlGIZBorIDEYJj+rhdgnQ67VmWRe0zlplXl81vcyEt0rSoYDUAAAAASUVORK5CYII=",readyState:"NotDetected",isAIP62Standard:!0}];var eh=function(e){function t(e,n,r){var i;return dd(this,t),(i=ud(this,t))._wallet=null,i._sdkWallets=[],i._standard_wallets=[],i._standard_not_detected_wallets=[],i._network=null,i._connected=!1,i._connecting=!1,i._account=null,i._optInWallets=[],i._disableTelemetry=!1,i.ga4=null,i._optInWallets=e||[],i._dappConfig=n,i._disableTelemetry=null!==r&&void 0!==r&&r,i._sdkWallets=function(e){var t=[];return typeof window<"u"&&t.push(new Xu(wd({network:null==e?void 0:e.network,dappId:null==e?void 0:e.aptosConnectDappId},null==e?void 0:e.aptosConnect)),new $u(wd({network:null==e?void 0:e.network,dappId:null==e?void 0:e.aptosConnectDappId},null==e?void 0:e.aptosConnect))),(null==e?void 0:e.network)===u.e.MAINNET?t.push(new ed):t.push(new rd),null!=e&&e.network&&t.push(new ad(md(wd({},null==e?void 0:e.msafeWalletConfig),{network:e.network}))),t}(i._dappConfig),i._disableTelemetry||(i.ga4=new _d),i.fetchExtensionAIP62AptosWallets(),i.fetchSDKAIP62AptosWallets(),i.appendNotDetectedStandardSupportedWallets(),i}return yd(t,e),fd(t,[{key:"fetchExtensionAIP62AptosWallets",value:function(){var e=B(),t=e.aptosWallets,n=e.on;if(this.setExtensionAIP62Wallets(t),!(typeof window>"u")){var r=this;n("register",function(){var e=B().aptosWallets;r.setExtensionAIP62Wallets(e)}),n("unregister",function(){var e=B().aptosWallets;r.setExtensionAIP62Wallets(e)})}}},{key:"setExtensionAIP62Wallets",value:function(e){var t=this;e.map(function(e){if(!t.excludeWallet(e)&&(t._standard_wallets=t._standard_wallets.filter(function(t){return t.name!==e.name}),j(e))){var n=t._standard_not_detected_wallets.findIndex(function(t){return t.name==e.name});-1!==n&&t._standard_not_detected_wallets.splice(n,1),e.readyState="Installed",t._standard_wallets.push(e),t.emit("standardWalletsAdded",e)}})}},{key:"fetchSDKAIP62AptosWallets",value:function(){var e=this;this._sdkWallets.map(function(t){e.excludeWallet(t)||j(t)&&(t.readyState="Installed",e._standard_wallets.push(t))})}},{key:"appendNotDetectedStandardSupportedWallets",value:function(){var e=this;$d.map(function(t){var n=e._standard_wallets.find(function(e){return e.name==t.name});n||e.excludeWallet(t)||n||(e._standard_not_detected_wallets.push(t),e.emit("standardNotDetectedWalletAdded",t))})}},{key:"excludeWallet",value:function(e){return this._optInWallets.length>0&&!this._optInWallets.includes(e.name)}},{key:"recordEvent",value:function(e,t){var n,r,i,s;null===(s=this.ga4)||void 0===s||s.gtag("event","wallet_adapter_".concat(e),wd({wallet:null===(n=this._wallet)||void 0===n?void 0:n.name,network:null===(r=this._network)||void 0===r?void 0:r.name,network_url:null===(i=this._network)||void 0===i?void 0:i.url,adapter_core_version:Ed,send_to:"G-GNVVWBL3J9"},t))}},{key:"ensureWalletExists",value:function(e){if(!e)throw(new Od).name;if("Installed"!==e.readyState)throw new Md("Wallet is not set").name}},{key:"ensureAccountExists",value:function(e){if(!e)throw new xd("Account is not set").name}},{key:"setAnsName",value:function(){var e=this;return ld(function(){var t,n,r,i,s;return Ud(this,function(o){switch(o.label){case 0:if(null===(t=e._network)||void 0===t||!t.chainId||!e._account)return[3,4];if(e._account.ansName)return[2];if(!Vd[e._network.chainId]||!Yd(e._network))return e._account.ansName=void 0,[2];n=Qd(e._network,e._dappConfig),r=new u.W(n),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,r.ans.getPrimaryName({address:e._account.address.toString()})];case 2:return i=o.sent(),e._account.ansName=i,[3,4];case 3:return s=o.sent(),console.log("Error setting ANS name ".concat(s)),[3,4];case 4:return[2]}})})()}},{key:"clearData",value:function(){this._connected=!1,this.setWallet(null),this.setAccount(null),this.setNetwork(null),localStorage.removeItem(Xd)}},{key:"setWallet",value:function(e){this._wallet=e}},{key:"setAccount",value:function(e){this._account=e}},{key:"setNetwork",value:function(e){this._network=e}},{key:"isConnected",value:function(){return this._connected}},{key:"wallets",get:function(){return this._standard_wallets}},{key:"notDetectedWallets",get:function(){return this._standard_not_detected_wallets}},{key:"wallet",get:function(){try{return this._wallet?this._wallet:null}catch(e){throw new Td(e).message}}},{key:"account",get:function(){try{return this._account}catch(e){throw new xd(e).message}}},{key:"network",get:function(){try{return this._network}catch(e){throw new kd(e).message}}},{key:"connect",value:function(e){var t=this;return ld(function(){var n,r,i,s,o,a,c;return Ud(this,function(l){switch(l.label){case 0:if(qd()&&((n=t._standard_not_detected_wallets.find(function(t){return t.name===e}))&&(r=n).deeplinkProvider))return i=encodeURIComponent(window.location.href),s=r.deeplinkProvider.concat(i),window.location.href=s,[2];if(o=t._standard_wallets,!(a=o.find(function(t){return t.name===e})))return[2];if(t._connected&&t._account&&(null===(c=t._wallet)||void 0===c?void 0:c.name)===e)throw new Id("".concat(e," wallet is already connected")).message;return[4,t.connectWallet(a,ld(function(){var e;return Ud(this,function(t){switch(t.label){case 0:return[4,a.features["aptos:connect"].connect()];case 1:if((e=t.sent()).status===K.REJECTED)throw new Id("User has rejected the request").message;return[2,{account:e.args,output:void 0}]}})}))];case 1:return l.sent(),[2]}})})()}},{key:"signIn",value:function(e){var t=this;return ld(function(){var n,r,i,s;return Ud(this,function(o){switch(o.label){case 0:if(n=e.input,r=e.walletName,i=t._standard_wallets,!(s=i.find(function(e){return e.name===r})))throw new Wd("Wallet ".concat(r," not found")).message;if(!s.features["aptos:signIn"])throw new Rd("aptos:signIn is not supported by ".concat(r)).message;return[4,t.connectWallet(s,ld(function(){var e;return Ud(this,function(t){switch(t.label){case 0:if(!s.features["aptos:signIn"])throw new Rd("aptos:signIn is not supported by ".concat(s.name)).message;return[4,s.features["aptos:signIn"].signIn(n)];case 1:if((e=t.sent()).status===K.REJECTED)throw new Id("User has rejected the request").message;return[2,{account:e.args.account,output:e.args}]}})}))];case 1:return[2,o.sent()]}})})()}},{key:"connectWallet",value:function(e,t){var n=this;return ld(function(){var r,i,s,o,a,c;return Ud(this,function(l){switch(l.label){case 0:return l.trys.push([0,4,5,6]),n._connecting=!0,n.setWallet(e),[4,t()];case 1:return r=l.sent(),i=r.account,s=r.output,n.setAccount(i),[4,e.features["aptos:network"].network()];case 2:return o=l.sent(),n.setNetwork(o),[4,n.setAnsName()];case 3:return l.sent(),function(e){localStorage.setItem(Xd,e)}(e.name),n._connected=!0,n.recordEvent("wallet_connect"),n.emit("connect",i),[2,s];case 4:throw a=l.sent(),n.clearData(),c=Gd(a),new Id(c).message;case 5:return n._connecting=!1,[7];case 6:return[2]}})})()}},{key:"disconnect",value:function(){var e=this;return ld(function(){var t,n;return Ud(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e.ensureWalletExists(e._wallet),[4,e._wallet.features["aptos:disconnect"].disconnect()];case 1:return r.sent(),e.clearData(),e.recordEvent("wallet_disconnect"),e.emit("disconnect"),[3,3];case 2:throw t=r.sent(),n=Gd(t),new Nd(n).message;case 3:return[2]}})})()}},{key:"signAndSubmitTransaction",value:function(e){var t=this;return ld(function(){var n,r,i,s,o,a,c,l,d,h,f,g;return Ud(this,function(p){switch(p.label){case 0:if(p.trys.push([0,9,,10]),"function"in e.data){if("0x1::account::rotate_authentication_key_call"===e.data.function)throw new Ld("SCAM SITE DETECTED").message;"0x1::code::publish_package_txn"===e.data.function&&(n=function(e){var t=e.data.functionArguments[0];"string"==typeof t&&(t=u.c.fromHexInput(t).toUint8Array());var n=e.data.functionArguments[1];if(!Array.isArray(n))throw new Ld("The bytecode argument must be an array.").message;return{metadataBytes:t,byteCode:n=n.map(function(e){return"string"==typeof e?u.c.fromHexInput(e).toUint8Array():e})}}(e),e.data.functionArguments[0]=n.metadataBytes,e.data.functionArguments[1]=n.byteCode)}return t.ensureWalletExists(t._wallet),t.ensureAccountExists(t._account),t.recordEvent("sign_and_submit_transaction"),t._wallet.features["aptos:signAndSubmitTransaction"]?"1.1.0"===t._wallet.features["aptos:signAndSubmitTransaction"].version?[3,3]:(s=Qd(t._network,t._dappConfig),[4,new u.W(s).transaction.build.simple({sender:t._account.address.toString(),data:e.data,options:e.options})]):[3,5];case 1:return o=p.sent(),[4,(0,t._wallet.features["aptos:signAndSubmitTransaction"].signAndSubmitTransaction)(o)];case 2:if((a=p.sent()).status===K.REJECTED)throw new Id("User has rejected the request").message;return[2,a.args];case 3:return[4,t._wallet.features["aptos:signAndSubmitTransaction"].signAndSubmitTransaction({payload:e.data,gasUnitPrice:null===(r=e.options)||void 0===r?void 0:r.gasUnitPrice,maxGasAmount:null===(i=e.options)||void 0===i?void 0:i.maxGasAmount})];case 4:if((c=p.sent()).status===K.REJECTED)throw new Id("User has rejected the request").message;return[2,c.args];case 5:return l=Qd(t._network,t._dappConfig),[4,new u.W(l).transaction.build.simple({sender:t._account.address,data:e.data,options:e.options})];case 6:return d=p.sent(),[4,t.signTransaction({transactionOrPayload:d})];case 7:return h=p.sent(),[4,t.submitTransaction({transaction:d,senderAuthenticator:h.authenticator})];case 8:return[2,{hash:p.sent().hash}];case 9:throw f=p.sent(),g=Gd(f),new Ld(g).message;case 10:return[2]}})})()}},{key:"signTransaction",value:function(e){var t=this;return ld(function(){var n,r,i,s,o,a,c,l,d,h,f,g,p,y,w,m,A,v,b;return Ud(this,function(z){switch(z.label){case 0:n=e.transactionOrPayload,r=e.asFeePayer,z.label=1;case 1:return z.trys.push([1,9,,10]),t.ensureWalletExists(t._wallet),t.ensureAccountExists(t._account),t.recordEvent("sign_transaction"),"rawTransaction"in n?[4,null===(s=t._wallet)||void 0===s?void 0:s.features["aptos:signTransaction"].signTransaction(n,r)]:[3,3];case 2:if((o=z.sent()).status===K.REJECTED)throw new Id("User has rejected the request").message;return[2,{authenticator:o.args,rawTransaction:n.rawTransaction.bcsToBytes()}];case 3:return"1.1"!==(null===(i=t._wallet.features["aptos:signTransaction"])||void 0===i?void 0:i.version)?[3,5]:(g={payload:n.data,expirationTimestamp:null===(a=n.options)||void 0===a?void 0:a.expirationTimestamp,expirationSecondsFromNow:null===(c=n.options)||void 0===c?void 0:c.expirationSecondsFromNow,gasUnitPrice:null===(l=n.options)||void 0===l?void 0:l.gasUnitPrice,maxGasAmount:null===(d=n.options)||void 0===d?void 0:d.maxGasAmount,sequenceNumber:null===(h=n.options)||void 0===h?void 0:h.accountSequenceNumber,sender:n.sender?{address:u.l.from(n.sender)}:void 0},[4,(null===(f=t._wallet)||void 0===f?void 0:f.features["aptos:signTransaction"].signTransaction)(g)]);case 4:if((p=z.sent()).status===K.REJECTED)throw new Id("User has rejected the request").message;return[2,{authenticator:p.args.authenticator,rawTransaction:p.args.rawTransaction.bcsToBytes()}];case 5:return w=Qd(t._network,t._dappConfig),[4,new u.W(w).transaction.build.simple({sender:t._account.address,data:n.data,options:n.options,withFeePayer:n.withFeePayer})];case 6:return m=z.sent(),[4,null===(y=t._wallet)||void 0===y?void 0:y.features["aptos:signTransaction"].signTransaction(m,r)];case 7:if((A=z.sent()).status===K.REJECTED)throw new Id("User has rejected the request").message;return[2,{authenticator:A.args,rawTransaction:m.bcsToBytes()}];case 8:return[3,10];case 9:throw v=z.sent(),b=Gd(v),new Pd(b).message;case 10:return[2]}})})()}},{key:"signMessage",value:function(e){var t=this;return ld(function(){var n,r,i,s,o;return Ud(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),t.ensureWalletExists(t._wallet),t.recordEvent("sign_message"),[4,null===(r=t._wallet)||void 0===r||null===(n=r.features["aptos:signMessage"])||void 0===n?void 0:n.signMessage(e)];case 1:if((i=a.sent()).status===K.REJECTED)throw new Id("User has rejected the request").message;return[2,i.args];case 2:throw s=a.sent(),o=Gd(s),new jd(o).message;case 3:return[2]}})})()}},{key:"submitTransaction",value:function(e){var t=this;return ld(function(){var n,r,i,s,o,a;return Ud(this,function(c){try{return t.ensureWalletExists(t._wallet),n=e.additionalSignersAuthenticators,r=void 0!==n?"multi-agent":"simple",t.recordEvent("submit_transaction",{transaction_type:r}),i=Qd(t._network,t._dappConfig),s=new u.W(i),void 0!==n?(o=md(wd({},e),{additionalSignersAuthenticators:n}),[2,s.transaction.submit.multiAgent(o)]):[2,s.transaction.submit.simple(e)]}catch(l){throw a=Gd(l),new Kd(a).message}})})()}},{key:"onAccountChange",value:function(){var e=this;return ld(function(){var t,n,r;return Ud(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),e.ensureWalletExists(e._wallet),[4,null===(t=e._wallet.features["aptos:onAccountChange"])||void 0===t?void 0:t.onAccountChange(function(){var t=ld(function(t){return Ud(this,function(n){switch(n.label){case 0:return e.setAccount(t),[4,e.setAnsName()];case 1:return n.sent(),e.recordEvent("account_change"),e.emit("accountChange",e._account),[2]}})});return function(e){return t.apply(this,arguments)}}())];case 1:return i.sent(),[3,3];case 2:throw n=i.sent(),r=Gd(n),new Cd(r).message;case 3:return[2]}})})()}},{key:"onNetworkChange",value:function(){var e=this;return ld(function(){var t,n,r;return Ud(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),e.ensureWalletExists(e._wallet),[4,null===(t=e._wallet.features["aptos:onNetworkChange"])||void 0===t?void 0:t.onNetworkChange(function(){var t=ld(function(t){return Ud(this,function(n){switch(n.label){case 0:return e.setNetwork(t),[4,e.setAnsName()];case 1:return n.sent(),e.emit("networkChange",e._network),[2]}})});return function(e){return t.apply(this,arguments)}}())];case 1:return i.sent(),[3,3];case 2:throw n=i.sent(),r=Gd(n),new Dd(r).message;case 3:return[2]}})})()}},{key:"changeNetwork",value:function(e){var t=this;return ld(function(){var n,r,i,s,o,a;return Ud(this,function(c){switch(c.label){case 0:return c.trys.push([0,6,,7]),t.ensureWalletExists(t._wallet),t.recordEvent("change_network_request",{from:null===(n=t._network)||void 0===n?void 0:n.name,to:e}),e!==u.e.DEVNET?[3,2]:[4,Zd()];case 1:return r=c.sent(),[3,3];case 2:r=u.r[e],c.label=3;case 3:return i={name:e,chainId:r},t._wallet.features["aptos:changeNetwork"]?[4,t._wallet.features["aptos:changeNetwork"].changeNetwork(i)]:[3,5];case 4:if((s=c.sent()).status===K.REJECTED)throw new Id("User has rejected the request").message;return[2,s.args];case 5:throw new Fd("".concat(t._wallet.name," does not support changing network request")).message;case 6:throw o=c.sent(),a=Gd(o),new Fd(a).message;case 7:return[2]}})})()}},{key:"signMessageAndVerify",value:function(e){var t=this;return ld(function(){var n,r,i,s,o;return Ud(this,function(a){switch(a.label){case 0:return a.trys.push([0,4,,5]),t.ensureWalletExists(t._wallet),t.ensureAccountExists(t._account),t.recordEvent("sign_message_and_verify"),[4,t._wallet.features["aptos:signMessage"].signMessage(e)];case 1:if((n=a.sent()).status===K.REJECTED)throw new Id("Failed to sign a message").message;return r=Qd(t._network,t._dappConfig),i=(new TextEncoder).encode(n.args.fullMessage),"verifySignatureAsync"in t._account.publicKey?[4,t._account.publicKey.verifySignatureAsync({aptosConfig:r,message:i,signature:n.args.signature,options:{throwErrorWithReason:!0}})]:[3,3];case 2:return[2,a.sent()];case 3:return[2,t._account.publicKey.verifySignature({message:i,signature:n.args.signature})];case 4:throw s=a.sent(),o=Gd(s),new Bd(o).message;case 5:return[2]}})})()}}]),t}(z);typeof window<"u"&&(window.WALLET_ADAPTER_CORE_VERSION=Ed);class th extends h.W{constructor(e,t){super(),this.selectedAptosWallet=e,this.walletCore=t}static walletCoreFactory(){return new eh(arguments.length>1&&void 0!==arguments[1]?arguments[1]:["Petra","Pontem Wallet","Nightly"],arguments.length>0&&void 0!==arguments[0]?arguments[0]:{network:"mainnet"},!0)}getName(){return this.selectedAptosWallet.name}getUrl(){return this.selectedAptosWallet.url}async connect(){var e,t;return await this.walletCore.connect(this.selectedAptosWallet.name),this.address=null==(t=null==(e=this.walletCore.account)?void 0:e.address)?void 0:t.toString(),this.walletCore.on("accountChange",e=>{var t;this.address=null==(t=null==e?void 0:e.address)?void 0:t.toString()}),this.network=this.walletCore.network||void 0,this.walletCore.on("networkChange",e=>{this.network=e||void 0}),this.walletCore.on("disconnect",()=>{this.emit("disconnect")}),this.getAddresses()}getNetworkInfo(){return this.network}isConnected(){return this.walletCore.isConnected()}disconnect(){return this.walletCore.off("accountChange"),this.walletCore.off("networkChange"),this.walletCore.disconnect()}getChainId(){return h.v}getAddress(){return this.address}getAddresses(){const e=this.getAddress();return e?[e]:[]}setMainAddress(){throw new Error("Not supported")}getBalance(){throw new Error("Not supported")}async signTransaction(e){return(await this.walletCore.signTransaction({transactionOrPayload:e})).authenticator}async sendTransaction(e){const t=await this.walletCore.submitTransaction(e.transaction);return{id:t.hash,data:{hash:t.hash}}}async signAndSendTransaction(e){const t=await this.walletCore.signAndSubmitTransaction(e);return{id:t.hash,data:{hash:t.hash}}}async signMessage(e){return this.walletCore.signMessage(e)}getIcon(){return this.selectedAptosWallet.icon}getWalletState(){const e=this.selectedAptosWallet.readyState||Hd.NotDetected;return h.f[e]}getFeatures(){return Object.values(h.B)}supportsChain(e){return e===h.v}}function nh(){const e={network:h.m.isMainnet?"mainnet":"testnet"},t={},n=th.walletCoreFactory(e);return n.wallets.forEach(e=>{t[e.name]=new th(e,n)}),t}async function rh(e,t){const n=e.transaction;n.functionArguments=n.functionArguments.map(e=>e instanceof Uint8Array?Array.from(e):"bigint"==typeof e?e.toString():e);const r=await(await(0,h.g)()).getPlatform("Aptos").getRpc("Aptos"),i=await t.signAndSendTransaction({data:n,options:{expireTimestamp:Math.floor(Date.now()/1e3)+300}});return await r.waitForTransaction({transactionHash:i.id}),i}}}]);
//# sourceMappingURL=9025.79049882.chunk.js.map