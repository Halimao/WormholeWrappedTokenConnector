"use strict";(self.webpackChunkwormhole_connector=self.webpackChunkwormhole_connector||[]).push([[6203],{6203:(e,t,o)=>{o.r(t),o.d(t,{C:()=>O,E:()=>w,M:()=>B,O:()=>W,R:()=>b,T:()=>$,a:()=>Y,b:()=>K,c:()=>v,i:()=>ee});var s=o(7547);const n=Symbol(),a=Object.getPrototypeOf,r=new WeakMap,i=e=>(e=>e&&(r.has(e)?r.get(e):a(e)===Object.prototype||a(e)===Array.prototype))(e)&&e[n]||null,l=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r.set(e,t)},c={},d=e=>"object"==typeof e&&null!==e,p=new WeakMap,u=new WeakSet,[h]=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.is,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e,t)=>new Proxy(e,t),o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e=>d(e)&&!u.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer),s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e=>{switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e}},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new WeakMap,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s;const r=n.get(e);if((null==r?void 0:r[0])===t)return r[1];const i=Array.isArray(e)?[]:Object.create(Object.getPrototypeOf(e));return l(i,!0),n.set(e,[t,i]),Reflect.ownKeys(e).forEach(t=>{if(Object.getOwnPropertyDescriptor(i,t))return;const s=Reflect.get(e,t),n={value:s,enumerable:!0,configurable:!0};if(u.has(s))l(s,!1);else if(s instanceof Promise)delete n.value,n.get=()=>o(s);else if(p.has(s)){const[e,t]=p.get(s);n.value=a(e,t(),o)}Object.defineProperty(i,t,n)}),Object.preventExtensions(i)},r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:new WeakMap,h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[1,1],g=arguments.length>8&&void 0!==arguments[8]?arguments[8]:s=>{if(!d(s))throw new Error("object required");const n=r.get(s);if(n)return n;let l=h[0];const m=new Set,f=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:++h[0];l!==t&&(l=t,m.forEach(o=>o(e,t)))};let b=h[1];const v=e=>(t,o)=>{const s=[...t];s[1]=[e,...s[1]],f(s,o)},y=new Map,w=e=>{var t;const o=y.get(e);o&&(y.delete(e),null==(t=o[1])||t.call(o))},I=Array.isArray(s)?[]:Object.create(Object.getPrototypeOf(s)),W=t(I,{deleteProperty(e,t){const o=Reflect.get(e,t);w(t);const s=Reflect.deleteProperty(e,t);return s&&f(["delete",[t],o]),s},set(t,s,n,a){const l=Reflect.has(t,s),h=Reflect.get(t,s,a);if(l&&(e(h,n)||r.has(n)&&e(h,r.get(n))))return!0;w(s),d(n)&&(n=i(n)||n);let b=n;if(n instanceof Promise)n.then(e=>{n.status="fulfilled",n.value=e,f(["resolve",[s],e])}).catch(e=>{n.status="rejected",n.reason=e,f(["reject",[s],e])});else{!p.has(n)&&o(n)&&(b=g(n));const e=!u.has(b)&&p.get(b);e&&((e,t)=>{if("production"!==(c?"production":void 0)&&y.has(e))throw new Error("prop listener already exists");if(m.size){const o=t[3](v(e));y.set(e,[t,o])}else y.set(e,[t])})(s,e)}return Reflect.set(t,s,b,a),f(["set",[s],n,h]),!0}});r.set(s,W);const C=[I,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:++h[1];return b!==e&&!m.size&&(b=e,y.forEach(t=>{let[o]=t;const s=o[1](e);s>l&&(l=s)})),l},a,e=>(m.add(e),1===m.size&&y.forEach((e,t)=>{let[o,s]=e;if("production"!==(c?"production":void 0)&&s)throw new Error("remove already exists");const n=o[3](v(t));y.set(t,[o,n])}),()=>{m.delete(e),0===m.size&&y.forEach((e,t)=>{let[o,s]=e;s&&(s(),y.set(t,[o]))})})];return p.set(W,C),Reflect.ownKeys(s).forEach(e=>{const t=Object.getOwnPropertyDescriptor(s,e);"value"in t&&(W[e]=s[e],delete t.value,delete t.writable),Object.defineProperty(I,e,t)}),W};return[g,p,u,e,t,o,s,n,a,r,h]}();function g(){return h(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function m(e,t,o){const s=p.get(e);let n;"production"!==(c?"production":void 0)&&!s&&console.warn("Please use proxy object");const a=[],r=s[3];let i=!1;const l=r(e=>{a.push(e),n||(n=Promise.resolve().then(()=>{n=void 0,i&&t(a.splice(0))}))});return i=!0,()=>{i=!1,l()}}const f=g({history:["ConnectWallet"],view:"ConnectWallet",data:void 0}),b={state:f,subscribe:e=>m(f,()=>e(f)),push(e,t){e!==f.view&&(f.view=e,t&&(f.data=t),f.history.push(e))},reset(e){f.view=e,f.history=[e]},replace(e){f.history.length>1&&(f.history[f.history.length-1]=e,f.view=e)},goBack(){if(f.history.length>1){f.history.pop();const[e]=f.history.slice(-1);f.view=e}},setData(e){f.data=e}},v={WALLETCONNECT_DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",WCM_VERSION:"WCM_VERSION",RECOMMENDED_WALLET_AMOUNT:9,isMobile:()=>typeof window<"u"&&!(!window.matchMedia("(pointer:coarse)").matches&&!/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/.test(navigator.userAgent)),isAndroid:()=>v.isMobile()&&navigator.userAgent.toLowerCase().includes("android"),isIos(){const e=navigator.userAgent.toLowerCase();return v.isMobile()&&(e.includes("iphone")||e.includes("ipad"))},isHttpUrl:e=>e.startsWith("http://")||e.startsWith("https://"),isArray:e=>Array.isArray(e)&&e.length>0,isTelegram:()=>typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto),formatNativeUrl(e,t,o){if(v.isHttpUrl(e))return this.formatUniversalUrl(e,t,o);let s=e;s.includes("://")||(s=e.replaceAll("/","").replaceAll(":",""),s="".concat(s,"://")),s.endsWith("/")||(s="".concat(s,"/")),this.setWalletConnectDeepLink(s,o);const n=encodeURIComponent(t);return"".concat(s,"wc?uri=").concat(n)},formatUniversalUrl(e,t,o){if(!v.isHttpUrl(e))return this.formatNativeUrl(e,t,o);let n=e;if(n.startsWith("https://t.me")){const e=s.d.Buffer.from(t).toString("base64").replace(/[=]/g,"");n.endsWith("/")&&(n=n.slice(0,-1)),this.setWalletConnectDeepLink(n,o);const a=new URL(n);return a.searchParams.set("startapp",e),a.toString()}n.endsWith("/")||(n="".concat(n,"/")),this.setWalletConnectDeepLink(n,o);const a=encodeURIComponent(t);return"".concat(n,"wc?uri=").concat(a)},wait:async e=>new Promise(t=>{setTimeout(t,e)}),openHref(e,t){const o=this.isTelegram()?"_blank":t;window.open(e,o,"noreferrer noopener")},setWalletConnectDeepLink(e,t){try{localStorage.setItem(v.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch(o){console.info("Unable to set WalletConnect deep link")}},setWalletConnectAndroidDeepLink(e){try{const[t]=e.split("?");localStorage.setItem(v.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:t,name:"Android"}))}catch(t){console.info("Unable to set WalletConnect android deep link")}},removeWalletConnectDeepLink(){try{localStorage.removeItem(v.WALLETCONNECT_DEEPLINK_CHOICE)}catch(e){console.info("Unable to remove WalletConnect deep link")}},setModalVersionInStorage(){try{typeof localStorage<"u"&&localStorage.setItem(v.WCM_VERSION,"2.7.0")}catch(e){console.info("Unable to set Web3Modal version in storage")}},getWalletRouterData(){var e;const t=null==(e=b.state.data)?void 0:e.Wallet;if(!t)throw new Error('Missing "Wallet" view data');return t}},y=g({enabled:typeof location<"u"&&(location.hostname.includes("localhost")||location.protocol.includes("https")),userSessionId:"",events:[],connectedWalletId:void 0}),w={state:y,subscribe:e=>m(y.events,()=>e(function(e,t){const o=p.get(e);"production"!==(c?"production":void 0)&&!o&&console.warn("Please use proxy object");const[s,n,a]=o;return a(s,n(),t)}(y.events[y.events.length-1]))),initialize(){y.enabled&&typeof(null==crypto?void 0:crypto.randomUUID)<"u"&&(y.userSessionId=crypto.randomUUID())},setConnectedWalletId(e){y.connectedWalletId=e},click(e){if(y.enabled){const t={type:"CLICK",name:e.name,userSessionId:y.userSessionId,timestamp:Date.now(),data:e};y.events.push(t)}},track(e){if(y.enabled){const t={type:"TRACK",name:e.name,userSessionId:y.userSessionId,timestamp:Date.now(),data:e};y.events.push(t)}},view(e){if(y.enabled){const t={type:"VIEW",name:e.name,userSessionId:y.userSessionId,timestamp:Date.now(),data:e};y.events.push(t)}}},I=g({chains:void 0,walletConnectUri:void 0,isAuth:!1,isCustomDesktop:!1,isCustomMobile:!1,isDataLoaded:!1,isUiLoaded:!1}),W={state:I,subscribe:e=>m(I,()=>e(I)),setChains(e){I.chains=e},setWalletConnectUri(e){I.walletConnectUri=e},setIsCustomDesktop(e){I.isCustomDesktop=e},setIsCustomMobile(e){I.isCustomMobile=e},setIsDataLoaded(e){I.isDataLoaded=e},setIsUiLoaded(e){I.isUiLoaded=e},setIsAuth(e){I.isAuth=e}},C=g({projectId:"",mobileWallets:void 0,desktopWallets:void 0,walletImages:void 0,chains:void 0,enableAuthMode:!1,enableExplorer:!0,explorerExcludedWalletIds:void 0,explorerRecommendedWalletIds:void 0,termsOfServiceUrl:void 0,privacyPolicyUrl:void 0}),O={state:C,subscribe:e=>m(C,()=>e(C)),setConfig(e){var t,o;w.initialize(),W.setChains(e.chains),W.setIsAuth(!!e.enableAuthMode),W.setIsCustomMobile(!(null==(t=e.mobileWallets)||!t.length)),W.setIsCustomDesktop(!(null==(o=e.desktopWallets)||!o.length)),v.setModalVersionInStorage(),Object.assign(C,e)}};var E=Object.defineProperty,L=Object.getOwnPropertySymbols,j=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable,k=(e,t,o)=>t in e?E(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;const M="https://explorer-api.walletconnect.com",P="wcm",U="js-2.7.0";async function D(e,t){const o=((e,t)=>{for(var o in t||(t={}))j.call(t,o)&&k(e,o,t[o]);if(L)for(var o of L(t))A.call(t,o)&&k(e,o,t[o]);return e})({sdkType:P,sdkVersion:U},t),s=new URL(e,M);return s.searchParams.append("projectId",O.state.projectId),Object.entries(o).forEach(e=>{let[t,o]=e;o&&s.searchParams.append(t,String(o))}),(await fetch(s)).json()}const S={getDesktopListings:async e=>D("/w3m/v1/getDesktopListings",e),getMobileListings:async e=>D("/w3m/v1/getMobileListings",e),getInjectedListings:async e=>D("/w3m/v1/getInjectedListings",e),getAllListings:async e=>D("/w3m/v1/getAllListings",e),getWalletImageUrl:e=>"".concat(M,"/w3m/v1/getWalletImage/").concat(e,"?projectId=").concat(O.state.projectId,"&sdkType=").concat(P,"&sdkVersion=").concat(U),getAssetImageUrl:e=>"".concat(M,"/w3m/v1/getAssetImage/").concat(e,"?projectId=").concat(O.state.projectId,"&sdkType=").concat(P,"&sdkVersion=").concat(U)};var T=Object.defineProperty,N=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,R=(e,t,o)=>t in e?T(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;const V=v.isMobile(),H=g({wallets:{listings:[],total:0,page:1},search:{listings:[],total:0,page:1},recomendedWallets:[]}),K={state:H,async getRecomendedWallets(){const{explorerRecommendedWalletIds:e,explorerExcludedWalletIds:t}=O.state;if("NONE"===e||"ALL"===t&&!e)return H.recomendedWallets;if(v.isArray(e)){const t={recommendedIds:e.join(",")},{listings:o}=await S.getAllListings(t),s=Object.values(o);s.sort((t,o)=>e.indexOf(t.id)-e.indexOf(o.id)),H.recomendedWallets=s}else{const{chains:e,isAuth:o}=W.state,s=null==e?void 0:e.join(","),n=v.isArray(t),a={page:1,sdks:o?"auth_v1":void 0,entries:v.RECOMMENDED_WALLET_AMOUNT,chains:s,version:2,excludedIds:n?t.join(","):void 0},{listings:r}=V?await S.getMobileListings(a):await S.getDesktopListings(a);H.recomendedWallets=Object.values(r)}return H.recomendedWallets},async getWallets(e){const t=((e,t)=>{for(var o in t||(t={}))x.call(t,o)&&R(e,o,t[o]);if(N)for(var o of N(t))_.call(t,o)&&R(e,o,t[o]);return e})({},e),{explorerRecommendedWalletIds:o,explorerExcludedWalletIds:s}=O.state,{recomendedWallets:n}=H;if("ALL"===s)return H.wallets;n.length?t.excludedIds=n.map(e=>e.id).join(","):v.isArray(o)&&(t.excludedIds=o.join(",")),v.isArray(s)&&(t.excludedIds=[t.excludedIds,s].filter(Boolean).join(",")),W.state.isAuth&&(t.sdks="auth_v1");const{page:a,search:r}=e,{listings:i,total:l}=V?await S.getMobileListings(t):await S.getDesktopListings(t),c=Object.values(i),d=r?"search":"wallets";return H[d]={listings:[...H[d].listings,...c],total:l,page:null!==a&&void 0!==a?a:1},{listings:c,total:l}},getWalletImageUrl:e=>S.getWalletImageUrl(e),getAssetImageUrl:e=>S.getAssetImageUrl(e),resetSearch(){H.search={listings:[],total:0,page:1}}},z=g({open:!1}),B={state:z,subscribe:e=>m(z,()=>e(z)),open:async e=>new Promise(t=>{const{isUiLoaded:o,isDataLoaded:s}=W.state;if(v.removeWalletConnectDeepLink(),W.setWalletConnectUri(null==e?void 0:e.uri),W.setChains(null==e?void 0:e.chains),b.reset("ConnectWallet"),o&&s)z.open=!0,t();else{const e=setInterval(()=>{const o=W.state;o.isUiLoaded&&o.isDataLoaded&&(clearInterval(e),z.open=!0,t())},200)}}),close(){z.open=!1}};var J=Object.defineProperty,q=Object.getOwnPropertySymbols,F=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable,Q=(e,t,o)=>t in e?J(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;const X=g({themeMode:typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}),Y={state:X,subscribe:e=>m(X,()=>e(X)),setThemeConfig(e){const{themeMode:t,themeVariables:o}=e;t&&(X.themeMode=t),o&&(X.themeVariables=((e,t)=>{for(var o in t||(t={}))F.call(t,o)&&Q(e,o,t[o]);if(q)for(var o of q(t))G.call(t,o)&&Q(e,o,t[o]);return e})({},o))}},Z=g({open:!1,message:"",variant:"success"}),$={state:Z,subscribe:e=>m(Z,()=>e(Z)),openToast(e,t){Z.open=!0,Z.message=e,Z.variant=t},closeToast(){Z.open=!1}};const ee=Object.freeze(Object.defineProperty({__proto__:null,WalletConnectModal:class{constructor(e){this.openModal=B.open,this.closeModal=B.close,this.subscribeModal=B.subscribe,this.setTheme=Y.setThemeConfig,Y.setThemeConfig(e),O.setConfig(e),this.initUi()}async initUi(){if(typeof window<"u"){await Promise.all([o.e(3742),o.e(6164)]).then(o.bind(o,6164));const e=document.createElement("wcm-modal");document.body.insertAdjacentElement("beforeend",e),W.setIsUiLoaded(!0)}}}},Symbol.toStringTag,{value:"Module"}))}}]);
//# sourceMappingURL=6203.f43d1267.chunk.js.map