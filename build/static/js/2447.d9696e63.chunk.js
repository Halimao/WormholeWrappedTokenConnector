"use strict";(self.webpackChunkwormhole_connector=self.webpackChunkwormhole_connector||[]).push([[2447],{2447:(e,t,n)=>{n.r(t),n.d(t,{AptosWormholeCore:()=>d});var r=n(600),o=n(7547),a=n(3332),s=n(4416),c=n(9801),i=Object.defineProperty,h=(e,t,n)=>((e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class d{constructor(e,t,n,r){h(this,"network"),h(this,"chain"),h(this,"connection"),h(this,"contracts"),h(this,"chainId"),h(this,"coreBridge"),this.network=e,this.chain=t,this.connection=n,this.contracts=r,this.chainId=(0,o.aP)(t);const a=r.coreBridge;if(!a)throw new Error("CoreBridge contract Address for chain ".concat(t," not found"));this.coreBridge=a}getGuardianSet(e){throw new Error("Method not implemented.")}getGuardianSetIndex(){throw new Error("Method not implemented.")}getMessageFee(){throw new Error("Method not implemented.")}static async fromRpc(e,t){const[n,r]=await a.A.chainFromRpc(e),o=t[r];if(o.network!==n)throw new Error("Network mismatch: ".concat(o.network," !== ").concat(n));return new d(n,r,e,o.contracts)}publishMessage(e,t){return(0,r.A)(function*(){throw new Error("Method not implemented.")})()}verifyMessage(e,t){return(0,r.A)(function*(){throw new Error("Not implemented.")})()}async parseTransaction(e){return(await this.parseMessages(e)).map(e=>({chain:e.emitterChain,emitter:e.emitterAddress,sequence:e.sequence}))}async parseMessages(e){const t=await this.connection.getTransactionByHash({transactionHash:e});if("user_transaction"!==t.type)throw new Error("".concat(e," is not a user_transaction"));const n=t.events.filter(e=>e.type.endsWith("WormholeMessage"));if(!n||0===n.length)throw new Error("WormholeMessage not found for ".concat(e));return n.map(e=>{const t=e.data,n=new o._(BigInt(t.sender).toString(16).padStart(64,"0"));return(0,s.c)("Uint8Array",{guardianSet:0,emitterChain:this.chain,emitterAddress:n,sequence:BigInt(t.sequence),timestamp:Number(t.timestamp),consistencyLevel:t.consistency_level,nonce:Number(t.nonce),signatures:[],payload:o.a3.decode(t.payload)})})}}(0,c.r)("Aptos","WormholeCore",d)},4416:(e,t,n)=>{n.d(t,{c:()=>s});var r=n(9379),o=n(7547);function a(e){return[...o.dn,(0,o.dp)(e)]}function s(e,t){const[n,s]=(0,o.dl)(e),c=(0,o.dm)(a(e),t);return(0,r.A)((0,r.A)((0,r.A)({protocolName:n,payloadName:s,payloadLiteral:e},(0,o.dm)(o.dq,t)),c),{},{hash:(0,o.aO)((0,o.aN)(a(e),c))})}}}]);
//# sourceMappingURL=2447.d9696e63.chunk.js.map