"use strict";(self.webpackChunkwormhole_connector=self.webpackChunkwormhole_connector||[]).push([[376],{376:(t,e,n)=>{n.d(e,{A:()=>je,B:()=>Hn,C:()=>Wn,E:()=>T,F:()=>tn,I:()=>$e,L:()=>on,T:()=>cn,a:()=>_,b:()=>E,c:()=>en,d:()=>x,e:()=>_n,f:()=>y,g:()=>k,h:()=>g,i:()=>Rt,j:()=>U,k:()=>_t,l:()=>m,m:()=>b,n:()=>O,o:()=>an,p:()=>ln,r:()=>Un,t:()=>N});var r=n(7547),s=Object.defineProperty,a=t=>{throw TypeError(t)},i=(t,e,n)=>((t,e,n)=>e in t?s(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n)(t,"symbol"!=typeof e?e+"":e,n),o=(t,e,n)=>e.has(t)||a("Cannot "+n),c=(t,e,n)=>(o(t,e,"read from private field"),n?n.call(t):e.get(t)),l=(t,e,n)=>e.has(t)?a("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),u=(t,e,n,r)=>(o(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),h=(t,e,n)=>(o(t,e,"access private method"),n);const f=BigInt(0),p=BigInt(1),d=9007199254740991;function g(t,e){const n=w(t,"value"),s=BigInt(k(e,"width"));if((0,r.bv)(n>>s===f,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),n>>s-p){return-((~n&(p<<s)-p)+p)}return n}function m(t,e){let n=y(t,"value");const s=BigInt(k(e,"width")),a=p<<s-p;if(n<f){n=-n,(0,r.bv)(n<=a,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return(~n&(p<<s)-p)+p}return(0,r.bv)(n<a,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t}),n}function b(t,e){const n=w(t,"value"),r=BigInt(k(e,"bits"));return n&(p<<r)-p}function y(t,e){switch(typeof t){case"bigint":return t;case"number":return(0,r.bs)(Number.isInteger(t),"underflow",e||"value",t),(0,r.bs)(t>=-9007199254740991&&t<=d,"overflow",e||"value",t),BigInt(t);case"string":try{if(""===t)throw new Error("empty string");return"-"===t[0]&&"-"!==t[1]?-BigInt(t.substring(1)):BigInt(t)}catch(n){(0,r.bs)(!1,"invalid BigNumberish string: ".concat(n.message),e||"value",t)}}(0,r.bs)(!1,"invalid BigNumberish value",e||"value",t)}function w(t,e){const n=y(t,e);return(0,r.bv)(n>=f,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),n}const v="0123456789abcdef";function E(t){if(t instanceof Uint8Array){let e="0x0";for(const n of t)e+=v[n>>4],e+=v[15&n];return BigInt(e)}return y(t)}function k(t,e){switch(typeof t){case"bigint":return(0,r.bs)(t>=-9007199254740991&&t<=d,"overflow",e||"value",t),Number(t);case"number":return(0,r.bs)(Number.isInteger(t),"underflow",e||"value",t),(0,r.bs)(t>=-9007199254740991&&t<=d,"overflow",e||"value",t),t;case"string":try{if(""===t)throw new Error("empty string");return k(BigInt(t),e)}catch(n){(0,r.bs)(!1,"invalid numeric string: ".concat(n.message),e||"value",t)}}(0,r.bs)(!1,"invalid numeric value",e||"value",t)}function N(t,e){let n=w(t,"value").toString(16);if(null==e)n.length%2&&(n="0"+n);else{const s=k(e,"width");for((0,r.bv)(2*s>=n.length,"value exceeds width (".concat(s," bytes)"),"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});n.length<2*s;)n="0"+n}return"0x"+n}function x(t){const e=w(t,"value");if(e===f)return new Uint8Array([]);let n=e.toString(16);n.length%2&&(n="0"+n);const r=new Uint8Array(n.length/2);for(let s=0;s<r.length;s++){const t=2*s;r[s]=parseInt(n.substring(t,t+2),16)}return r}function O(t){let e=(0,r.bk)((0,r.bB)(t)?t:x(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return""===e&&(e="0"),"0x"+e}var P;class T{constructor(t,e,n){i(this,"filter"),i(this,"emitter"),l(this,P),u(this,P,e),(0,r.br)(this,{emitter:t,filter:n})}async removeListener(){null!=c(this,P)&&await this.emitter.off(this.filter,c(this,P))}}function R(t,e,n,r,s){if("BAD_PREFIX"===t||"UNEXPECTED_CONTINUE"===t){let t=0;for(let r=e+1;r<n.length&&n[r]>>6===2;r++)t++;return t}return"OVERRUN"===t?n.length-e-1:0}P=new WeakMap;const A=Object.freeze({error:function(t,e,n,s,a){(0,r.bs)(!1,"invalid codepoint at offset ".concat(e,"; ").concat(t),"bytes",n)},ignore:R,replace:function(t,e,n,s,a){return"OVERLONG"===t?((0,r.bs)("number"==typeof a,"invalid bad code point for replacement","badCodepoint",a),s.push(a),0):(s.push(65533),R(t,e,n))}});function _(t,e){(0,r.bs)("string"==typeof t,"invalid string value","str",t),null!=e&&((0,r.bx)(e),t=t.normalize(e));let n=[];for(let s=0;s<t.length;s++){const e=t.charCodeAt(s);if(e<128)n.push(e);else if(e<2048)n.push(e>>6|192),n.push(63&e|128);else if(55296==(64512&e)){s++;const a=t.charCodeAt(s);(0,r.bs)(s<t.length&&56320===(64512&a),"invalid surrogate pair","str",t);const i=65536+((1023&e)<<10)+(1023&a);n.push(i>>18|240),n.push(i>>12&63|128),n.push(i>>6&63|128),n.push(63&i|128)}else n.push(e>>12|224),n.push(e>>6&63|128),n.push(63&e|128)}return new Uint8Array(n)}function U(t,e){return function(t){return t.map(t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10&1023),56320+(1023&t)))).join("")}(function(t,e){null==e&&(e=A.error);const n=(0,r.bj)(t,"bytes"),s=[];let a=0;for(;a<n.length;){const t=n[a++];if(!(t>>7)){s.push(t);continue}let r=null,i=null;if(192===(224&t))r=1,i=127;else if(224===(240&t))r=2,i=2047;else{if(240!==(248&t)){a+=e(128===(192&t)?"UNEXPECTED_CONTINUE":"BAD_PREFIX",a-1,n,s);continue}r=3,i=65535}if(a-1+r>=n.length){a+=e("OVERRUN",a-1,n,s);continue}let o=t&(1<<8-r-1)-1;for(let c=0;c<r;c++){let t=n[a];if(128!=(192&t)){a+=e("MISSING_CONTINUE",a,n,s),o=null;break}o=o<<6|63&t,a++}if(null!==o){if(o>1114111){a+=e("OUT_OF_RANGE",a-1-r,n,s,o);continue}if(o>=55296&&o<=57343){a+=e("UTF16_SURROGATE",a-1-r,n,s,o);continue}if(o<=i){a+=e("OVERLONG",a-1-r,n,s,o);continue}s.push(o)}}return s}(t,e))}const I=32,F=new Uint8Array(I),S=["then"],B={},j=new WeakMap;function L(t){return j.get(t)}function C(t,e){j.set(t,e)}function G(t,e){const n=new Error("deferred error during ABI decoding triggered accessing ".concat(t));throw n.error=e,n}function D(t,e,n){return t.indexOf(null)>=0?e.map((t,e)=>t instanceof V?D(L(t),t,n):t):t.reduce((t,r,s)=>{let a=e.getValue(r);return r in t||(n&&a instanceof V&&(a=D(L(a),a,n)),t[r]=a),t},{})}var M;M=new WeakMap;let V=class t extends Array{constructor(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const r=e[0];let s=e[1],a=(e[2]||[]).slice(),i=!0;r!==B&&(s=e,a=[],i=!1),super(s.length),l(this,M),s.forEach((t,e)=>{this[e]=t});const o=a.reduce((t,e)=>("string"==typeof e&&t.set(e,(t.get(e)||0)+1),t),new Map);if(C(this,Object.freeze(s.map((t,e)=>{const n=a[e];return null!=n&&1===o.get(n)?n:null}))),u(this,M,[]),null==c(this,M)&&c(this,M),!i)return;Object.freeze(this);const h=new Proxy(this,{get:(t,e,n)=>{if("string"==typeof e){if(e.match(/^[0-9]+$/)){const n=k(e,"%index");if(n<0||n>=this.length)throw new RangeError("out of result range");const r=t[n];return r instanceof Error&&G("index ".concat(n),r),r}if(S.indexOf(e)>=0)return Reflect.get(t,e,n);const r=t[e];if(r instanceof Function)return function(){for(var e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];return r.apply(this===n?t:this,s)};if(!(e in t))return t.getValue.apply(this===n?t:this,[e])}return Reflect.get(t,e,n)}});return C(h,L(this)),h}toArray(e){const n=[];return this.forEach((r,s)=>{r instanceof Error&&G("index ".concat(s),r),e&&r instanceof t&&(r=r.toArray(e)),n.push(r)}),n}toObject(t){const e=L(this);return e.reduce((n,s,a)=>((0,r.bv)(null!=s,"value at index ".concat(a," unnamed"),"UNSUPPORTED_OPERATION",{operation:"toObject()"}),D(e,this,t)),{})}slice(e,n){null==e&&(e=0),e<0&&((e+=this.length)<0&&(e=0)),null==n&&(n=this.length),n<0&&((n+=this.length)<0&&(n=0)),n>this.length&&(n=this.length);const r=L(this),s=[],a=[];for(let t=e;t<n;t++)s.push(this[t]),a.push(r[t]);return new t(B,s,a)}filter(e,n){const r=L(this),s=[],a=[];for(let t=0;t<this.length;t++){const i=this[t];i instanceof Error&&G("index ".concat(t),i),e.call(n,i,t,this)&&(s.push(i),a.push(r[t]))}return new t(B,s,a)}map(t,e){const n=[];for(let r=0;r<this.length;r++){const s=this[r];s instanceof Error&&G("index ".concat(r),s),n.push(t.call(e,s,r,this))}return n}getValue(t){const e=L(this).indexOf(t);if(-1===e)return;const n=this[e];return n instanceof Error&&G("property ".concat(JSON.stringify(t)),n.error),n}static fromItems(e,n){return new t(B,e,n)}};function H(t){let e=x(t);return(0,r.bv)(e.length<=I,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:I,offset:e.length}),e.length!==I&&(e=(0,r.by)((0,r.bq)([F.slice(e.length%I),e]))),e}class W{constructor(t,e,n,s){i(this,"name"),i(this,"type"),i(this,"localName"),i(this,"dynamic"),(0,r.br)(this,{name:t,type:e,localName:n,dynamic:s},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(t,e){(0,r.bs)(!1,t,this.localName,e)}}var z,J,K,q,Y,$,Z,X,Q,tt,et,nt;class rt{constructor(){l(this,K),l(this,z),l(this,J),u(this,z,[]),u(this,J,0)}get data(){return(0,r.bq)(c(this,z))}get length(){return c(this,J)}appendWriter(t){return h(this,K,q).call(this,(0,r.by)(t.data))}writeBytes(t){let e=(0,r.by)(t);const n=e.length%I;return n&&(e=(0,r.by)((0,r.bq)([e,F.slice(n)]))),h(this,K,q).call(this,e)}writeValue(t){return h(this,K,q).call(this,H(t))}writeUpdatableValue(){const t=c(this,z).length;return c(this,z).push(F),u(this,J,c(this,J)+I),e=>{c(this,z)[t]=H(e)}}}z=new WeakMap,J=new WeakMap,K=new WeakSet,q=function(t){return c(this,z).push(t),u(this,J,c(this,J)+t.length),t.length};Y=new WeakMap,$=new WeakMap,Z=new WeakMap,X=new WeakMap,Q=new WeakMap,tt=new WeakSet,et=function(t){var e;if(c(this,X))return h(e=c(this,X),tt,et).call(e,t);u(this,Z,c(this,Z)+t),(0,r.bv)(c(this,Q)<1||c(this,Z)<=c(this,Q)*this.dataLength,"compressed ABI data exceeds inflation ratio of ".concat(c(this,Q)," ( see: https://github.com/ethers-io/ethers.js/issues/4537 )"),"BUFFER_OVERRUN",{buffer:(0,r.by)(c(this,Y)),offset:c(this,$),length:t,info:{bytesRead:c(this,Z),dataLength:this.dataLength}})},nt=function(t,e,n){let s=Math.ceil(e/I)*I;return c(this,$)+s>c(this,Y).length&&(this.allowLoose&&n&&c(this,$)+e<=c(this,Y).length?s=e:(0,r.bv)(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:(0,r.by)(c(this,Y)),length:c(this,Y).length,offset:c(this,$)+s})),c(this,Y).slice(c(this,$),c(this,$)+s)};let st=class t{constructor(t,e,n){l(this,tt),i(this,"allowLoose"),l(this,Y),l(this,$),l(this,Z),l(this,X),l(this,Q),(0,r.br)(this,{allowLoose:!!e}),u(this,Y,(0,r.by)(t)),u(this,Z,0),u(this,X,null),u(this,Q,null!==n&&void 0!==n?n:1024),u(this,$,0)}get data(){return(0,r.bk)(c(this,Y))}get dataLength(){return c(this,Y).length}get consumed(){return c(this,$)}get bytes(){return new Uint8Array(c(this,Y))}subReader(e){const n=new t(c(this,Y).slice(c(this,$)+e),this.allowLoose,c(this,Q));return u(n,X,this),n}readBytes(t,e){let n=h(this,tt,nt).call(this,0,t,!!e);return h(this,tt,et).call(this,t),u(this,$,c(this,$)+n.length),n.slice(0,t)}readValue(){return E(this.readBytes(I))}readIndex(){return k(E(this.readBytes(I)))}};const at={};function it(t,e){let n=!1;return e<0&&(n=!0,e*=-1),new ut(at,"".concat(n?"":"u","int").concat(e),t,{signed:n,width:e})}function ot(t,e){return new ut(at,"bytes".concat(e||""),t,{size:e})}const ct=Symbol.for("_ethers_typed");var lt;lt=new WeakMap;let ut=class t{constructor(t,e,n,s){i(this,"type"),i(this,"value"),l(this,lt),i(this,"_typedSymbol"),null==s&&(s=null),(0,r.bw)(at,t,"Typed"),(0,r.br)(this,{_typedSymbol:ct,type:e,value:n}),u(this,lt,s),this.format()}format(){if("array"===this.type)throw new Error("");if("dynamicArray"===this.type)throw new Error("");return"tuple"===this.type?"tuple(".concat(this.value.map(t=>t.format()).join(","),")"):this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return"string"===this.type}get tupleName(){if("tuple"!==this.type)throw TypeError("not a tuple");return c(this,lt)}get arrayLength(){if("array"!==this.type)throw TypeError("not an array");return!0===c(this,lt)?-1:!1===c(this,lt)?this.value.length:null}static from(e,n){return new t(at,e,n)}static uint8(t){return it(t,8)}static uint16(t){return it(t,16)}static uint24(t){return it(t,24)}static uint32(t){return it(t,32)}static uint40(t){return it(t,40)}static uint48(t){return it(t,48)}static uint56(t){return it(t,56)}static uint64(t){return it(t,64)}static uint72(t){return it(t,72)}static uint80(t){return it(t,80)}static uint88(t){return it(t,88)}static uint96(t){return it(t,96)}static uint104(t){return it(t,104)}static uint112(t){return it(t,112)}static uint120(t){return it(t,120)}static uint128(t){return it(t,128)}static uint136(t){return it(t,136)}static uint144(t){return it(t,144)}static uint152(t){return it(t,152)}static uint160(t){return it(t,160)}static uint168(t){return it(t,168)}static uint176(t){return it(t,176)}static uint184(t){return it(t,184)}static uint192(t){return it(t,192)}static uint200(t){return it(t,200)}static uint208(t){return it(t,208)}static uint216(t){return it(t,216)}static uint224(t){return it(t,224)}static uint232(t){return it(t,232)}static uint240(t){return it(t,240)}static uint248(t){return it(t,248)}static uint256(t){return it(t,256)}static uint(t){return it(t,256)}static int8(t){return it(t,-8)}static int16(t){return it(t,-16)}static int24(t){return it(t,-24)}static int32(t){return it(t,-32)}static int40(t){return it(t,-40)}static int48(t){return it(t,-48)}static int56(t){return it(t,-56)}static int64(t){return it(t,-64)}static int72(t){return it(t,-72)}static int80(t){return it(t,-80)}static int88(t){return it(t,-88)}static int96(t){return it(t,-96)}static int104(t){return it(t,-104)}static int112(t){return it(t,-112)}static int120(t){return it(t,-120)}static int128(t){return it(t,-128)}static int136(t){return it(t,-136)}static int144(t){return it(t,-144)}static int152(t){return it(t,-152)}static int160(t){return it(t,-160)}static int168(t){return it(t,-168)}static int176(t){return it(t,-176)}static int184(t){return it(t,-184)}static int192(t){return it(t,-192)}static int200(t){return it(t,-200)}static int208(t){return it(t,-208)}static int216(t){return it(t,-216)}static int224(t){return it(t,-224)}static int232(t){return it(t,-232)}static int240(t){return it(t,-240)}static int248(t){return it(t,-248)}static int256(t){return it(t,-256)}static int(t){return it(t,-256)}static bytes1(t){return ot(t,1)}static bytes2(t){return ot(t,2)}static bytes3(t){return ot(t,3)}static bytes4(t){return ot(t,4)}static bytes5(t){return ot(t,5)}static bytes6(t){return ot(t,6)}static bytes7(t){return ot(t,7)}static bytes8(t){return ot(t,8)}static bytes9(t){return ot(t,9)}static bytes10(t){return ot(t,10)}static bytes11(t){return ot(t,11)}static bytes12(t){return ot(t,12)}static bytes13(t){return ot(t,13)}static bytes14(t){return ot(t,14)}static bytes15(t){return ot(t,15)}static bytes16(t){return ot(t,16)}static bytes17(t){return ot(t,17)}static bytes18(t){return ot(t,18)}static bytes19(t){return ot(t,19)}static bytes20(t){return ot(t,20)}static bytes21(t){return ot(t,21)}static bytes22(t){return ot(t,22)}static bytes23(t){return ot(t,23)}static bytes24(t){return ot(t,24)}static bytes25(t){return ot(t,25)}static bytes26(t){return ot(t,26)}static bytes27(t){return ot(t,27)}static bytes28(t){return ot(t,28)}static bytes29(t){return ot(t,29)}static bytes30(t){return ot(t,30)}static bytes31(t){return ot(t,31)}static bytes32(t){return ot(t,32)}static address(e){return new t(at,"address",e)}static bool(e){return new t(at,"bool",!!e)}static bytes(e){return new t(at,"bytes",e)}static string(e){return new t(at,"string",e)}static array(t,e){throw new Error("not implemented yet")}static tuple(t,e){throw new Error("not implemented yet")}static overrides(e){return new t(at,"overrides",Object.assign({},e))}static isTyped(t){return t&&"object"==typeof t&&"_typedSymbol"in t&&t._typedSymbol===ct}static dereference(e,n){if(t.isTyped(e)){if(e.type!==n)throw new Error("invalid type: expecetd ".concat(n,", got ").concat(e.type));return e.value}return e}};class ht extends W{constructor(t){super("address","address",t,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,e){let n=ut.dereference(e,"string");try{n=(0,r.ah)(n)}catch(s){return this._throwError(s.message,e)}return t.writeValue(n)}decode(t){return(0,r.ah)(N(t.readValue(),20))}}class ft extends W{constructor(t){super(t.name,t.type,"_",t.dynamic),i(this,"coder"),this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,e){return this.coder.encode(t,e)}decode(t){return this.coder.decode(t)}}function pt(t,e,n){let s=[];if(Array.isArray(n))s=n;else if(n&&"object"==typeof n){let t={};s=e.map(e=>{const s=e.localName;return(0,r.bv)(s,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:e},value:n}),(0,r.bv)(!t[s],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:e},value:n}),t[s]=!0,n[s]})}else(0,r.bs)(!1,"invalid tuple value","tuple",n);(0,r.bs)(e.length===s.length,"types/value length mismatch","tuple",n);let a=new rt,i=new rt,o=[];e.forEach((t,e)=>{let n=s[e];if(t.dynamic){let e=i.length;t.encode(i,n);let r=a.writeUpdatableValue();o.push(t=>{r(t+e)})}else t.encode(a,n)}),o.forEach(t=>{t(a.length)});let c=t.appendWriter(a);return c+=t.appendWriter(i),c}function dt(t,e){let n=[],s=[],a=t.subReader(0);return e.forEach(e=>{let i=null;if(e.dynamic){let n=t.readIndex(),s=a.subReader(n);try{i=e.decode(s)}catch(o){if((0,r.bY)(o,"BUFFER_OVERRUN"))throw o;i=o,i.baseType=e.name,i.name=e.localName,i.type=e.type}}else try{i=e.decode(t)}catch(c){if((0,r.bY)(c,"BUFFER_OVERRUN"))throw c;i=c,i.baseType=e.name,i.name=e.localName,i.type=e.type}if(null==i)throw new Error("investigate");n.push(i),s.push(e.localName||null)}),V.fromItems(n,s)}class gt extends W{constructor(t,e,n){super("array",t.type+"["+(e>=0?e:"")+"]",n,-1===e||t.dynamic),i(this,"coder"),i(this,"length"),(0,r.br)(this,{coder:t,length:e})}defaultValue(){const t=this.coder.defaultValue(),e=[];for(let n=0;n<this.length;n++)e.push(t);return e}encode(t,e){const n=ut.dereference(e,"array");Array.isArray(n)||this._throwError("expected array value",n);let s=this.length;-1===s&&(s=n.length,t.writeValue(n.length)),(0,r.b_)(n.length,s,"coder array"+(this.localName?" "+this.localName:""));let a=[];for(let r=0;r<n.length;r++)a.push(this.coder);return pt(t,a,n)}decode(t){let e=this.length;-1===e&&(e=t.readIndex(),(0,r.bv)(e*I<=t.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:t.bytes,offset:e*I,length:t.dataLength}));let n=[];for(let r=0;r<e;r++)n.push(new ft(this.coder));return dt(t,n)}}class mt extends W{constructor(t){super("bool","bool",t,!1)}defaultValue(){return!1}encode(t,e){const n=ut.dereference(e,"bool");return t.writeValue(n?1:0)}decode(t){return!!t.readValue()}}class bt extends W{constructor(t,e){super(t,t,e,!0)}defaultValue(){return"0x"}encode(t,e){e=(0,r.by)(e);let n=t.writeValue(e.length);return n+=t.writeBytes(e),n}decode(t){return t.readBytes(t.readIndex(),!0)}}class yt extends bt{constructor(t){super("bytes",t)}decode(t){return(0,r.bk)(super.decode(t))}}class wt extends W{constructor(t,e){let n="bytes"+String(t);super(n,n,e,!1),i(this,"size"),(0,r.br)(this,{size:t},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(t,e){let n=(0,r.by)(ut.dereference(e,this.type));return n.length!==this.size&&this._throwError("incorrect data length",e),t.writeBytes(n)}decode(t){return(0,r.bk)(t.readBytes(this.size))}}const vt=new Uint8Array([]);class Et extends W{constructor(t){super("null","",t,!1)}defaultValue(){return null}encode(t,e){return null!=e&&this._throwError("not null",e),t.writeBytes(vt)}decode(t){return t.readBytes(0),null}}const kt=BigInt(0),Nt=BigInt(1),xt=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class Ot extends W{constructor(t,e,n){const s=(e?"int":"uint")+8*t;super(s,s,n,!1),i(this,"size"),i(this,"signed"),(0,r.br)(this,{size:t,signed:e},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(t,e){let n=y(ut.dereference(e,this.type)),r=b(xt,256);if(this.signed){let t=b(r,8*this.size-1);(n>t||n<-(t+Nt))&&this._throwError("value out-of-bounds",e),n=m(n,256)}else(n<kt||n>b(r,8*this.size))&&this._throwError("value out-of-bounds",e);return t.writeValue(n)}decode(t){let e=b(t.readValue(),8*this.size);return this.signed&&(e=g(e,8*this.size)),e}}class Pt extends bt{constructor(t){super("string",t)}defaultValue(){return""}encode(t,e){return super.encode(t,_(ut.dereference(e,"string")))}decode(t){return U(super.decode(t))}}class Tt extends W{constructor(t,e){let n=!1;const s=[];t.forEach(t=>{t.dynamic&&(n=!0),s.push(t.type)});super("tuple","tuple("+s.join(",")+")",e,n),i(this,"coders"),(0,r.br)(this,{coders:Object.freeze(t.slice())})}defaultValue(){const t=[];this.coders.forEach(e=>{t.push(e.defaultValue())});const e=this.coders.reduce((t,e)=>{const n=e.localName;return n&&(t[n]||(t[n]=0),t[n]++),t},{});return this.coders.forEach((n,r)=>{let s=n.localName;!s||1!==e[s]||("length"===s&&(s="_length"),null==t[s]&&(t[s]=t[r]))}),Object.freeze(t)}encode(t,e){const n=ut.dereference(e,"tuple");return pt(t,this.coders,n)}decode(t){return dt(t,this.coders)}}function Rt(t){return(0,r.az)(_(t))}function At(t,e){return{address:(0,r.ah)(t),storageKeys:e.map((t,e)=>((0,r.bs)((0,r.ad)(t,32),"invalid slot","storageKeys[".concat(e,"]"),t),t.toLowerCase()))}}function _t(t){if(Array.isArray(t))return t.map((e,n)=>Array.isArray(e)?((0,r.bs)(2===e.length,"invalid slot set","value[".concat(n,"]"),e),At(e[0],e[1])):((0,r.bs)(null!=e&&"object"==typeof e,"invalid address-slot set","value",t),At(e.address,e.storageKeys)));(0,r.bs)(null!=t&&"object"==typeof t,"invalid access list","value",t);const e=Object.keys(t).map(e=>{const n=t[e].reduce((t,e)=>(t[e]=!0,t),{});return At(e,Object.keys(n).sort())});return e.sort((t,e)=>t.address.localeCompare(e.address)),e}function Ut(t){const e=new Set;return t.forEach(t=>e.add(t)),Object.freeze(e)}const It=Ut("external public payable override".split(" ")),Ft="constant external internal payable private public pure view override",St=Ut(Ft.split(" ")),Bt="constructor error event fallback function receive struct",jt=Ut(Bt.split(" ")),Lt="calldata memory storage payable indexed",Ct=Ut(Lt.split(" ")),Gt=Ut([Bt,Lt,"tuple returns",Ft].join(" ").split(" ")),Dt={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},Mt=new RegExp("^(\\s*)"),Vt=new RegExp("^([0-9]+)"),Ht=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),Wt=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),zt=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var Jt,Kt,qt,Yt;const $t=class t{constructor(t){l(this,qt),l(this,Jt),l(this,Kt),u(this,Jt,0),u(this,Kt,t.slice())}get offset(){return c(this,Jt)}get length(){return c(this,Kt).length-c(this,Jt)}clone(){return new t(c(this,Kt))}reset(){u(this,Jt,0)}popKeyword(t){const e=this.peek();if("KEYWORD"!==e.type||!t.has(e.text))throw new Error("expected keyword ".concat(e.text));return this.pop().text}popType(t){if(this.peek().type!==t){const e=this.peek();throw new Error("expected ".concat(t,"; got ").concat(e.type," ").concat(JSON.stringify(e.text)))}return this.pop().text}popParen(){const t=this.peek();if("OPEN_PAREN"!==t.type)throw new Error("bad start");const e=h(this,qt,Yt).call(this,c(this,Jt)+1,t.match+1);return u(this,Jt,t.match+1),e}popParams(){const t=this.peek();if("OPEN_PAREN"!==t.type)throw new Error("bad start");const e=[];for(;c(this,Jt)<t.match-1;){const t=this.peek().linkNext;e.push(h(this,qt,Yt).call(this,c(this,Jt)+1,t)),u(this,Jt,t)}return u(this,Jt,t.match+1),e}peek(){if(c(this,Jt)>=c(this,Kt).length)throw new Error("out-of-bounds");return c(this,Kt)[c(this,Jt)]}peekKeyword(t){const e=this.peekType("KEYWORD");return null!=e&&t.has(e)?e:null}peekType(t){if(0===this.length)return null;const e=this.peek();return e.type===t?e.text:null}pop(){const t=this.peek();return((t,e,n,r)=>({set _(r){u(t,e,r,n)},get _(){return c(t,e,r)}}))(this,Jt)._++,t}toString(){const t=[];for(let e=c(this,Jt);e<c(this,Kt).length;e++){const n=c(this,Kt)[e];t.push("".concat(n.type,":").concat(n.text))}return"<TokenString ".concat(t.join(" "),">")}};Jt=new WeakMap,Kt=new WeakMap,qt=new WeakSet,Yt=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new $t(c(this,Kt).slice(t,e).map(e=>Object.freeze(Object.assign({},e,{match:e.match-t,linkBack:e.linkBack-t,linkNext:e.linkNext-t}))))};let Zt=$t;function Xt(t){const e=[],n=e=>{const n=a<t.length?JSON.stringify(t[a]):"$EOI";throw new Error("invalid token ".concat(n," at ").concat(a,": ").concat(e))};let r=[],s=[],a=0;for(;a<t.length;){let i=t.substring(a),o=i.match(Mt);o&&(a+=o[1].length,i=t.substring(a));const c={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:a,value:-1};e.push(c);let l=Dt[i[0]]||"";if(l){if(c.type=l,c.text=i[0],a++,"OPEN_PAREN"===l)r.push(e.length-1),s.push(e.length-1);else if("CLOSE_PAREN"==l)0===r.length&&n("no matching open bracket"),c.match=r.pop(),e[c.match].match=e.length-1,c.depth--,c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1;else if("COMMA"===l)c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1,s.push(e.length-1);else if("OPEN_BRACKET"===l)c.type="BRACKET";else if("CLOSE_BRACKET"===l){let t=e.pop().text;if(e.length>0&&"NUMBER"===e[e.length-1].type){const n=e.pop().text;t=n+t,e[e.length-1].value=k(n)}if(0===e.length||"BRACKET"!==e[e.length-1].type)throw new Error("missing opening bracket");e[e.length-1].text+=t}}else if(o=i.match(Ht),o){if(c.text=o[1],a+=c.text.length,Gt.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(zt)){c.type="TYPE";continue}c.type="ID"}else{if(o=i.match(Vt),!o)throw new Error("unexpected token ".concat(JSON.stringify(i[0])," at position ").concat(a));c.text=o[1],c.type="NUMBER",a+=c.text.length}}return new Zt(e.map(t=>Object.freeze(t)))}function Qt(t,e){let n=[];for(const r in e.keys())t.has(r)&&n.push(r);if(n.length>1)throw new Error("conflicting types: ".concat(n.join(", ")))}function te(t,e){if(e.peekKeyword(jt)){const n=e.pop().text;if(n!==t)throw new Error("expected ".concat(t,", got ").concat(n))}return e.popType("ID")}function ee(t,e){const n=new Set;for(;;){const r=t.peekType("KEYWORD");if(null==r||e&&!e.has(r))break;if(t.pop(),n.has(r))throw new Error("duplicate keywords: ".concat(JSON.stringify(r)));n.add(r)}return Object.freeze(n)}function ne(t){let e=ee(t,St);return Qt(e,Ut("constant payable nonpayable".split(" "))),Qt(e,Ut("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function re(t,e){return t.popParams().map(t=>we.from(t,e))}function se(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return y(t.pop().text);throw new Error("invalid gas")}return null}function ae(t){if(t.length)throw new Error("unexpected tokens at offset ".concat(t.offset,": ").concat(t.toString()))}const ie=new RegExp(/^(.*)\[([0-9]*)\]$/);function oe(t){const e=t.match(zt);if((0,r.bs)(e,"invalid type","type",t),"uint"===t)return"uint256";if("int"===t)return"int256";if(e[2]){const n=parseInt(e[2]);(0,r.bs)(0!==n&&n<=32,"invalid bytes length","type",t)}else if(e[3]){const n=parseInt(e[3]);(0,r.bs)(0!==n&&n<=256&&n%8===0,"invalid numeric width","type",t)}return t}const ce={},le=Symbol.for("_ethers_internal"),ue="_ParamTypeInternal",he="_ErrorInternal",fe="_EventInternal",pe="_ConstructorInternal",de="_FallbackInternal",ge="_FunctionInternal",me="_StructInternal";var be,ye;be=new WeakSet,ye=function(t,e,n,r){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(-1!==this.arrayLength&&e.length!==this.arrayLength)throw new Error("array is wrong length");const s=this.arrayChildren,a=e.slice();return a.forEach((e,r)=>{var i;h(i=s,be,ye).call(i,t,e,n,t=>{a[r]=t})}),void r(a)}if(this.isTuple()){const s=this.components;let a;if(Array.isArray(e))a=e.slice();else{if(null==e||"object"!=typeof e)throw new Error("invalid tuple value");a=s.map(t=>{if(!t.name)throw new Error("cannot use object value with unnamed components");if(!(t.name in e))throw new Error("missing value for component ".concat(t.name));return e[t.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");return a.forEach((e,r)=>{var i;h(i=s[r],be,ye).call(i,t,e,n,t=>{a[r]=t})}),void r(a)}const s=n(this.type,e);s.then?t.push(async function(){r(await s)}()):r(s)};let we=class t{constructor(t,e,n,s,a,o,c,u){if(l(this,be),i(this,"name"),i(this,"type"),i(this,"baseType"),i(this,"indexed"),i(this,"components"),i(this,"arrayLength"),i(this,"arrayChildren"),(0,r.bw)(t,ce,"ParamType"),Object.defineProperty(this,le,{value:ue}),o&&(o=Object.freeze(o.slice())),"array"===s){if(null==c||null==u)throw new Error("")}else if(null!=c||null!=u)throw new Error("");if("tuple"===s){if(null==o)throw new Error("")}else if(null!=o)throw new Error("");(0,r.br)(this,{name:e,type:n,baseType:s,indexed:a,components:o,arrayLength:c,arrayChildren:u})}format(t){if(null==t&&(t="sighash"),"json"===t){const e=this.name||"";if(this.isArray()){const t=JSON.parse(this.arrayChildren.format("json"));return t.name=e,t.type+="[".concat(this.arrayLength<0?"":String(this.arrayLength),"]"),JSON.stringify(t)}const n={type:"tuple"===this.baseType?"tuple":this.type,name:e};return"boolean"==typeof this.indexed&&(n.indexed=this.indexed),this.isTuple()&&(n.components=this.components.map(e=>JSON.parse(e.format(t)))),JSON.stringify(n)}let e="";return this.isArray()?(e+=this.arrayChildren.format(t),e+="[".concat(this.arrayLength<0?"":String(this.arrayLength),"]")):this.isTuple()?e+="("+this.components.map(e=>e.format(t)).join("full"===t?", ":",")+")":e+=this.type,"sighash"!==t&&(!0===this.indexed&&(e+=" indexed"),"full"===t&&this.name&&(e+=" "+this.name)),e}isArray(){return"array"===this.baseType}isTuple(){return"tuple"===this.baseType}isIndexable(){return null!=this.indexed}walk(t,e){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(-1!==this.arrayLength&&t.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return t.map(t=>n.arrayChildren.walk(t,e))}if(this.isTuple()){if(!Array.isArray(t))throw new Error("invalid tuple value");if(t.length!==this.components.length)throw new Error("array is wrong length");const n=this;return t.map((t,r)=>n.components[r].walk(t,e))}return e(this.type,t)}async walkAsync(t,e){const n=[],r=[t];return h(this,be,ye).call(this,n,t,e,t=>{r[0]=t}),n.length&&await Promise.all(n),r[0]}static from(e,n){if(t.isParamType(e))return e;if("string"==typeof e)try{return t.from(Xt(e),n)}catch(c){(0,r.bs)(!1,"invalid param type","obj",e)}else if(e instanceof Zt){let r="",s="",a=null;ee(e,Ut(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(s="tuple",a=e.popParams().map(e=>t.from(e)),r="tuple(".concat(a.map(t=>t.format()).join(","),")")):(r=oe(e.popType("TYPE")),s=r);let i=null,o=null;for(;e.length&&e.peekType("BRACKET");){const n=e.pop();i=new t(ce,"",r,s,null,a,o,i),o=n.value,r+=n.text,s="array",a=null}let c=null;if(ee(e,Ct).has("indexed")){if(!n)throw new Error("");c=!0}const l=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new t(ce,l,r,s,c,a,o,i)}const s=e.name;(0,r.bs)(!s||"string"==typeof s&&s.match(Wt),"invalid name","obj.name",s);let a=e.indexed;null!=a&&((0,r.bs)(n,"parameter cannot be indexed","obj.indexed",e.indexed),a=!!a);let i=e.type,o=i.match(ie);if(o){const n=parseInt(o[2]||"-1"),r=t.from({type:o[1],components:e.components});return new t(ce,s||"",i,"array",a,null,n,r)}if("tuple"===i||i.startsWith("tuple(")||i.startsWith("(")){const n=null!=e.components?e.components.map(e=>t.from(e)):null;return new t(ce,s||"",i,"tuple",a,n,null,null)}return i=oe(e.type),new t(ce,s||"",i,i,a,null,null,null)}static isParamType(t){return t&&t[le]===ue}};class ve{constructor(t,e,n){i(this,"type"),i(this,"inputs"),(0,r.bw)(t,ce,"Fragment"),n=Object.freeze(n.slice()),(0,r.br)(this,{type:e,inputs:n})}static from(t){if("string"==typeof t){try{ve.from(JSON.parse(t))}catch(e){}return ve.from(Xt(t))}if(t instanceof Zt)switch(t.peekKeyword(jt)){case"constructor":return Oe.from(t);case"error":return Ne.from(t);case"event":return xe.from(t);case"fallback":case"receive":return Pe.from(t);case"function":return Te.from(t);case"struct":return Re.from(t)}else if("object"==typeof t){switch(t.type){case"constructor":return Oe.from(t);case"error":return Ne.from(t);case"event":return xe.from(t);case"fallback":case"receive":return Pe.from(t);case"function":return Te.from(t);case"struct":return Re.from(t)}(0,r.bv)(!1,"unsupported type: ".concat(t.type),"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}(0,r.bs)(!1,"unsupported frgament object","obj",t)}static isConstructor(t){return Oe.isFragment(t)}static isError(t){return Ne.isFragment(t)}static isEvent(t){return xe.isFragment(t)}static isFunction(t){return Te.isFragment(t)}static isStruct(t){return Re.isFragment(t)}}class Ee extends ve{constructor(t,e,n,s){super(t,e,s),i(this,"name"),(0,r.bs)("string"==typeof n&&n.match(Wt),"invalid identifier","name",n),s=Object.freeze(s.slice()),(0,r.br)(this,{name:n})}}function ke(t,e){return"("+e.map(e=>e.format(t)).join("full"===t?", ":",")+")"}class Ne extends Ee{constructor(t,e,n){super(t,"error",e,n),Object.defineProperty(this,le,{value:he})}get selector(){return Rt(this.format("sighash")).substring(0,10)}format(t){if(null==t&&(t="sighash"),"json"===t)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(e=>JSON.parse(e.format(t)))});const e=[];return"sighash"!==t&&e.push("error"),e.push(this.name+ke(t,this.inputs)),e.join(" ")}static from(t){if(Ne.isFragment(t))return t;if("string"==typeof t)return Ne.from(Xt(t));if(t instanceof Zt){const e=te("error",t),n=re(t);return ae(t),new Ne(ce,e,n)}return new Ne(ce,t.name,t.inputs?t.inputs.map(we.from):[])}static isFragment(t){return t&&t[le]===he}}class xe extends Ee{constructor(t,e,n,s){super(t,"event",e,n),i(this,"anonymous"),Object.defineProperty(this,le,{value:fe}),(0,r.br)(this,{anonymous:s})}get topicHash(){return Rt(this.format("sighash"))}format(t){if(null==t&&(t="sighash"),"json"===t)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(e=>JSON.parse(e.format(t)))});const e=[];return"sighash"!==t&&e.push("event"),e.push(this.name+ke(t,this.inputs)),"sighash"!==t&&this.anonymous&&e.push("anonymous"),e.join(" ")}static getTopicHash(t,e){return e=(e||[]).map(t=>we.from(t)),new xe(ce,t,e,!1).topicHash}static from(t){if(xe.isFragment(t))return t;if("string"==typeof t)try{return xe.from(Xt(t))}catch(e){(0,r.bs)(!1,"invalid event fragment","obj",t)}else if(t instanceof Zt){const e=te("event",t),n=re(t,!0),r=!!ee(t,Ut(["anonymous"])).has("anonymous");return ae(t),new xe(ce,e,n,r)}return new xe(ce,t.name,t.inputs?t.inputs.map(t=>we.from(t,!0)):[],!!t.anonymous)}static isFragment(t){return t&&t[le]===fe}}class Oe extends ve{constructor(t,e,n,s,a){super(t,e,n),i(this,"payable"),i(this,"gas"),Object.defineProperty(this,le,{value:pe}),(0,r.br)(this,{payable:s,gas:a})}format(t){if((0,r.bv)(null!=t&&"sighash"!==t,"cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),"json"===t)return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map(e=>JSON.parse(e.format(t)))});const e=["constructor".concat(ke(t,this.inputs))];return this.payable&&e.push("payable"),null!=this.gas&&e.push("@".concat(this.gas.toString())),e.join(" ")}static from(t){if(Oe.isFragment(t))return t;if("string"==typeof t)try{return Oe.from(Xt(t))}catch(e){(0,r.bs)(!1,"invalid constuctor fragment","obj",t)}else if(t instanceof Zt){ee(t,Ut(["constructor"]));const e=re(t),n=!!ee(t,It).has("payable"),r=se(t);return ae(t),new Oe(ce,"constructor",e,n,r)}return new Oe(ce,"constructor",t.inputs?t.inputs.map(we.from):[],!!t.payable,null!=t.gas?t.gas:null)}static isFragment(t){return t&&t[le]===pe}}class Pe extends ve{constructor(t,e,n){super(t,"fallback",e),i(this,"payable"),Object.defineProperty(this,le,{value:de}),(0,r.br)(this,{payable:n})}format(t){const e=0===this.inputs.length?"receive":"fallback";if("json"===t){const t=this.payable?"payable":"nonpayable";return JSON.stringify({type:e,stateMutability:t})}return"".concat(e,"()").concat(this.payable?" payable":"")}static from(t){if(Pe.isFragment(t))return t;if("string"==typeof t)try{return Pe.from(Xt(t))}catch(e){(0,r.bs)(!1,"invalid fallback fragment","obj",t)}else if(t instanceof Zt){const e=t.toString(),n=t.peekKeyword(Ut(["fallback","receive"]));if((0,r.bs)(n,"type must be fallback or receive","obj",e),"receive"===t.popKeyword(Ut(["fallback","receive"]))){const e=re(t);return(0,r.bs)(0===e.length,"receive cannot have arguments","obj.inputs",e),ee(t,Ut(["payable"])),ae(t),new Pe(ce,[],!0)}let s=re(t);s.length?(0,r.bs)(1===s.length&&"bytes"===s[0].type,"invalid fallback inputs","obj.inputs",s.map(t=>t.format("minimal")).join(", ")):s=[we.from("bytes")];const a=ne(t);if((0,r.bs)("nonpayable"===a||"payable"===a,"fallback cannot be constants","obj.stateMutability",a),ee(t,Ut(["returns"])).has("returns")){const e=re(t);(0,r.bs)(1===e.length&&"bytes"===e[0].type,"invalid fallback outputs","obj.outputs",e.map(t=>t.format("minimal")).join(", "))}return ae(t),new Pe(ce,s,"payable"===a)}if("receive"===t.type)return new Pe(ce,[],!0);if("fallback"===t.type){const e=[we.from("bytes")],n="payable"===t.stateMutability;return new Pe(ce,e,n)}(0,r.bs)(!1,"invalid fallback description","obj",t)}static isFragment(t){return t&&t[le]===de}}class Te extends Ee{constructor(t,e,n,s,a,o){super(t,"function",e,s),i(this,"constant"),i(this,"outputs"),i(this,"stateMutability"),i(this,"payable"),i(this,"gas"),Object.defineProperty(this,le,{value:ge}),a=Object.freeze(a.slice()),(0,r.br)(this,{constant:"view"===n||"pure"===n,gas:o,outputs:a,payable:"payable"===n,stateMutability:n})}get selector(){return Rt(this.format("sighash")).substring(0,10)}format(t){if(null==t&&(t="sighash"),"json"===t)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map(e=>JSON.parse(e.format(t))),outputs:this.outputs.map(e=>JSON.parse(e.format(t)))});const e=[];return"sighash"!==t&&e.push("function"),e.push(this.name+ke(t,this.inputs)),"sighash"!==t&&("nonpayable"!==this.stateMutability&&e.push(this.stateMutability),this.outputs&&this.outputs.length&&(e.push("returns"),e.push(ke(t,this.outputs))),null!=this.gas&&e.push("@".concat(this.gas.toString()))),e.join(" ")}static getSelector(t,e){return e=(e||[]).map(t=>we.from(t)),new Te(ce,t,"view",e,[],null).selector}static from(t){if(Te.isFragment(t))return t;if("string"==typeof t)try{return Te.from(Xt(t))}catch(n){(0,r.bs)(!1,"invalid function fragment","obj",t)}else if(t instanceof Zt){const e=te("function",t),n=re(t),r=ne(t);let s=[];ee(t,Ut(["returns"])).has("returns")&&(s=re(t));const a=se(t);return ae(t),new Te(ce,e,r,n,s,a)}let e=t.stateMutability;return null==e&&(e="payable","boolean"==typeof t.constant?(e="view",t.constant||(e="payable","boolean"==typeof t.payable&&!t.payable&&(e="nonpayable"))):"boolean"==typeof t.payable&&!t.payable&&(e="nonpayable")),new Te(ce,t.name,e,t.inputs?t.inputs.map(we.from):[],t.outputs?t.outputs.map(we.from):[],null!=t.gas?t.gas:null)}static isFragment(t){return t&&t[le]===ge}}class Re extends Ee{constructor(t,e,n){super(t,"struct",e,n),Object.defineProperty(this,le,{value:me})}format(){throw new Error("@TODO")}static from(t){if("string"==typeof t)try{return Re.from(Xt(t))}catch(e){(0,r.bs)(!1,"invalid struct fragment","obj",t)}else if(t instanceof Zt){const e=te("struct",t),n=re(t);return ae(t),new Re(ce,e,n)}return new Re(ce,t.name,t.inputs?t.inputs.map(we.from):[])}static isFragment(t){return t&&t[le]===me}}const Ae=new Map;Ae.set(0,"GENERIC_PANIC"),Ae.set(1,"ASSERT_FALSE"),Ae.set(17,"OVERFLOW"),Ae.set(18,"DIVIDE_BY_ZERO"),Ae.set(33,"ENUM_RANGE_ERROR"),Ae.set(34,"BAD_STORAGE_DATA"),Ae.set(49,"STACK_UNDERFLOW"),Ae.set(50,"ARRAY_RANGE_ERROR"),Ae.set(65,"OUT_OF_MEMORY"),Ae.set(81,"UNINITIALIZED_FUNCTION_CALL");const _e=new RegExp(/^bytes([0-9]*)$/),Ue=new RegExp(/^(u?int)([0-9]*)$/);let Ie=null,Fe=1024;var Se,Be;Se=new WeakSet,Be=function(t){if(t.isArray())return new gt(h(this,Se,Be).call(this,t.arrayChildren),t.arrayLength,t.name);if(t.isTuple())return new Tt(t.components.map(t=>h(this,Se,Be).call(this,t)),t.name);switch(t.baseType){case"address":return new ht(t.name);case"bool":return new mt(t.name);case"string":return new Pt(t.name);case"bytes":return new yt(t.name);case"":return new Et(t.name)}let e=t.type.match(Ue);if(e){let n=parseInt(e[2]||"256");return(0,r.bs)(0!==n&&n<=256&&n%8===0,"invalid "+e[1]+" bit length","param",t),new Ot(n/8,"int"===e[1],t.name)}if(e=t.type.match(_e),e){let n=parseInt(e[1]);return(0,r.bs)(0!==n&&n<=32,"invalid bytes length","param",t),new wt(n,t.name)}(0,r.bs)(!1,"invalid type","type",t.type)};let je=class t{constructor(){l(this,Se)}getDefaultValue(t){const e=t.map(t=>h(this,Se,Be).call(this,we.from(t)));return new Tt(e,"_").defaultValue()}encode(t,e){(0,r.b_)(e.length,t.length,"types/values length mismatch");const n=t.map(t=>h(this,Se,Be).call(this,we.from(t))),s=new Tt(n,"_"),a=new rt;return s.encode(a,e),a.data}decode(t,e,n){const r=t.map(t=>h(this,Se,Be).call(this,we.from(t)));return new Tt(r,"_").decode(new st(e,n,Fe))}static _setDefaultMaxInflation(t){(0,r.bs)("number"==typeof t&&Number.isInteger(t),"invalid defaultMaxInflation factor","value",t),Fe=t}static defaultAbiCoder(){return null==Ie&&(Ie=new t),Ie}static getBuiltinCallException(e,n,s){return function(t,e,n,s){let a="missing revert data",i=null,o=null;if(n){a="execution reverted";const t=(0,r.bj)(n);if(n=(0,r.bk)(n),0===t.length)a+=" (no data present; likely require(false) occurred",i="require(false)";else if(t.length%32!==4)a+=" (could not decode reason; invalid data length)";else if("0x08c379a0"===(0,r.bk)(t.slice(0,4)))try{i=s.decode(["string"],t.slice(4))[0],o={signature:"Error(string)",name:"Error",args:[i]},a+=": ".concat(JSON.stringify(i))}catch(l){a+=" (could not decode reason; invalid string data)"}else if("0x4e487b71"===(0,r.bk)(t.slice(0,4)))try{const e=Number(s.decode(["uint256"],t.slice(4))[0]);o={signature:"Panic(uint256)",name:"Panic",args:[e]},i="Panic due to ".concat(Ae.get(e)||"UNKNOWN","(").concat(e,")"),a+=": ".concat(i)}catch(u){a+=" (could not decode panic code)"}else a+=" (unknown custom error)"}const c={to:e.to?(0,r.ah)(e.to):null,data:e.data||"0x"};return e.from&&(c.from=(0,r.ah)(e.from)),(0,r.bL)(a,"CALL_EXCEPTION",{action:t,data:n,reason:i,transaction:c,invocation:null,revert:o})}(e,n,s,t.defaultAbiCoder())}};class Le{constructor(t,e,n){i(this,"fragment"),i(this,"name"),i(this,"signature"),i(this,"topic"),i(this,"args");const s=t.name,a=t.format();(0,r.br)(this,{fragment:t,name:s,signature:a,topic:e,args:n})}}class Ce{constructor(t,e,n,s){i(this,"fragment"),i(this,"name"),i(this,"args"),i(this,"signature"),i(this,"selector"),i(this,"value");const a=t.name,o=t.format();(0,r.br)(this,{fragment:t,name:a,args:n,signature:o,selector:e,value:s})}}class Ge{constructor(t,e,n){i(this,"fragment"),i(this,"name"),i(this,"args"),i(this,"signature"),i(this,"selector");const s=t.name,a=t.format();(0,r.br)(this,{fragment:t,name:s,args:n,signature:a,selector:e})}}class De{constructor(t){i(this,"hash"),i(this,"_isIndexed"),(0,r.br)(this,{hash:t,_isIndexed:!0})}static isIndexed(t){return!(!t||!t._isIndexed)}}const Me={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},Ve={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>"reverted with reason string ".concat(JSON.stringify(t))},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&Me[t.toString()]&&(e=Me[t.toString()]),"reverted with panic code 0x".concat(t.toString(16)," (").concat(e,")")}}};var He,We,ze,Je,Ke,qe,Ye;He=new WeakMap,We=new WeakMap,ze=new WeakMap,Je=new WeakMap,Ke=new WeakSet,qe=function(t,e,n){if((0,r.ad)(t)){const e=t.toLowerCase();for(const t of c(this,ze).values())if(e===t.selector)return t;return null}if(-1===t.indexOf("(")){const s=[];for(const[e,n]of c(this,ze))e.split("(")[0]===t&&s.push(n);if(e){const t=e.length>0?e[e.length-1]:null;let n=e.length,r=!0;ut.isTyped(t)&&"overrides"===t.type&&(r=!1,n--);for(let e=s.length-1;e>=0;e--){const t=s[e].inputs.length;t!==n&&(!r||t!==n-1)&&s.splice(e,1)}for(let a=s.length-1;a>=0;a--){const t=s[a].inputs;for(let n=0;n<e.length;n++)if(ut.isTyped(e[n])){if(n>=t.length){if("overrides"===e[n].type)continue;s.splice(a,1);break}if(e[n].type!==t[n].baseType){s.splice(a,1);break}}}}if(1===s.length&&e&&e.length!==s[0].inputs.length){const t=e[e.length-1];(null==t||Array.isArray(t)||"object"!=typeof t)&&s.splice(0,1)}if(0===s.length)return null;if(s.length>1&&n){const e=s.map(t=>JSON.stringify(t.format())).join(", ");(0,r.bs)(!1,"ambiguous function description (i.e. matches ".concat(e,")"),"key",t)}return s[0]}return c(this,ze).get(Te.from(t).format())||null},Ye=function(t,e,n){if((0,r.ad)(t)){const e=t.toLowerCase();for(const t of c(this,We).values())if(e===t.topicHash)return t;return null}if(-1===t.indexOf("(")){const s=[];for(const[e,n]of c(this,We))e.split("(")[0]===t&&s.push(n);if(e){for(let t=s.length-1;t>=0;t--)s[t].inputs.length<e.length&&s.splice(t,1);for(let t=s.length-1;t>=0;t--){const n=s[t].inputs;for(let r=0;r<e.length;r++)if(ut.isTyped(e[r])&&e[r].type!==n[r].baseType){s.splice(t,1);break}}}if(0===s.length)return null;if(s.length>1&&n){const e=s.map(t=>JSON.stringify(t.format())).join(", ");(0,r.bs)(!1,"ambiguous event description (i.e. matches ".concat(e,")"),"key",t)}return s[0]}return c(this,We).get(xe.from(t).format())||null};let $e=class t{constructor(t){l(this,Ke),i(this,"fragments"),i(this,"deploy"),i(this,"fallback"),i(this,"receive"),l(this,He),l(this,We),l(this,ze),l(this,Je);let e=[];e="string"==typeof t?JSON.parse(t):t,u(this,ze,new Map),u(this,He,new Map),u(this,We,new Map);const n=[];for(const r of e)try{n.push(ve.from(r))}catch(o){console.log("[Warning] Invalid Fragment ".concat(JSON.stringify(r),":"),o.message)}(0,r.br)(this,{fragments:Object.freeze(n)});let s=null,a=!1;u(this,Je,this.getAbiCoder()),this.fragments.forEach((t,e)=>{let n;switch(t.type){case"constructor":return this.deploy?void console.log("duplicate definition - constructor"):void(0,r.br)(this,{deploy:t});case"fallback":return void(0===t.inputs.length?a=!0:((0,r.bs)(!s||t.payable!==s.payable,"conflicting fallback fragments","fragments[".concat(e,"]"),t),s=t,a=s.payable));case"function":n=c(this,ze);break;case"event":n=c(this,We);break;case"error":n=c(this,He);break;default:return}const i=t.format();n.has(i)||n.set(i,t)}),this.deploy||(0,r.br)(this,{deploy:Oe.from("constructor()")}),(0,r.br)(this,{fallback:s,receive:a})}format(t){const e=t?"minimal":"full";return this.fragments.map(t=>t.format(e))}formatJson(){const t=this.fragments.map(t=>t.format("json"));return JSON.stringify(t.map(t=>JSON.parse(t)))}getAbiCoder(){return je.defaultAbiCoder()}getFunctionName(t){const e=h(this,Ke,qe).call(this,t,null,!1);return(0,r.bs)(e,"no matching function","key",t),e.name}hasFunction(t){return!!h(this,Ke,qe).call(this,t,null,!1)}getFunction(t,e){return h(this,Ke,qe).call(this,t,e||null,!0)}forEachFunction(t){const e=Array.from(c(this,ze).keys());e.sort((t,e)=>t.localeCompare(e));for(let n=0;n<e.length;n++){const r=e[n];t(c(this,ze).get(r),n)}}getEventName(t){const e=h(this,Ke,Ye).call(this,t,null,!1);return(0,r.bs)(e,"no matching event","key",t),e.name}hasEvent(t){return!!h(this,Ke,Ye).call(this,t,null,!1)}getEvent(t,e){return h(this,Ke,Ye).call(this,t,e||null,!0)}forEachEvent(t){const e=Array.from(c(this,We).keys());e.sort((t,e)=>t.localeCompare(e));for(let n=0;n<e.length;n++){const r=e[n];t(c(this,We).get(r),n)}}getError(t,e){if((0,r.ad)(t)){const e=t.toLowerCase();if(Ve[e])return Ne.from(Ve[e].signature);for(const t of c(this,He).values())if(e===t.selector)return t;return null}if(-1===t.indexOf("(")){const e=[];for(const[n,r]of c(this,He))n.split("(")[0]===t&&e.push(r);if(0===e.length)return"Error"===t?Ne.from("error Error(string)"):"Panic"===t?Ne.from("error Panic(uint256)"):null;if(e.length>1){const n=e.map(t=>JSON.stringify(t.format())).join(", ");(0,r.bs)(!1,"ambiguous error description (i.e. ".concat(n,")"),"name",t)}return e[0]}if("Error(string)"===(t=Ne.from(t).format()))return Ne.from("error Error(string)");if("Panic(uint256)"===t)return Ne.from("error Panic(uint256)");return c(this,He).get(t)||null}forEachError(t){const e=Array.from(c(this,He).keys());e.sort((t,e)=>t.localeCompare(e));for(let n=0;n<e.length;n++){const r=e[n];t(c(this,He).get(r),n)}}_decodeParams(t,e){return c(this,Je).decode(t,e)}_encodeParams(t,e){return c(this,Je).encode(t,e)}encodeDeploy(t){return this._encodeParams(this.deploy.inputs,t||[])}decodeErrorResult(t,e){if("string"==typeof t){const e=this.getError(t);(0,r.bs)(e,"unknown error","fragment",t),t=e}return(0,r.bs)((0,r.bA)(e,0,4)===t.selector,"data signature does not match error ".concat(t.name,"."),"data",e),this._decodeParams(t.inputs,(0,r.bA)(e,4))}encodeErrorResult(t,e){if("string"==typeof t){const e=this.getError(t);(0,r.bs)(e,"unknown error","fragment",t),t=e}return(0,r.bq)([t.selector,this._encodeParams(t.inputs,e||[])])}decodeFunctionData(t,e){if("string"==typeof t){const e=this.getFunction(t);(0,r.bs)(e,"unknown function","fragment",t),t=e}return(0,r.bs)((0,r.bA)(e,0,4)===t.selector,"data signature does not match function ".concat(t.name,"."),"data",e),this._decodeParams(t.inputs,(0,r.bA)(e,4))}encodeFunctionData(t,e){if("string"==typeof t){const e=this.getFunction(t);(0,r.bs)(e,"unknown function","fragment",t),t=e}return(0,r.bq)([t.selector,this._encodeParams(t.inputs,e||[])])}decodeFunctionResult(t,e){if("string"==typeof t){const e=this.getFunction(t);(0,r.bs)(e,"unknown function","fragment",t),t=e}let n="invalid length for result data";const s=(0,r.by)(e);if(s.length%32===0)try{return c(this,Je).decode(t.outputs,s)}catch(a){n="could not decode result data"}(0,r.bv)(!1,n,"BAD_DATA",{value:(0,r.bk)(s),info:{method:t.name,signature:t.format()}})}makeError(t,e){const n=(0,r.bj)(t,"data"),s=je.getBuiltinCallException("call",e,n);if(s.message.startsWith("execution reverted (unknown custom error)")){const t=(0,r.bk)(n.slice(0,4)),e=this.getError(t);if(e)try{const t=c(this,Je).decode(e.inputs,n.slice(4));s.revert={name:e.name,signature:e.format(),args:t},s.reason=s.revert.signature,s.message="execution reverted: ".concat(s.reason)}catch(i){s.message="execution reverted (coult not decode custom error)"}}const a=this.parseTransaction(e);return a&&(s.invocation={method:a.name,signature:a.signature,args:a.args}),s}encodeFunctionResult(t,e){if("string"==typeof t){const e=this.getFunction(t);(0,r.bs)(e,"unknown function","fragment",t),t=e}return(0,r.bk)(c(this,Je).encode(t.outputs,e||[]))}encodeFilterTopics(t,e){if("string"==typeof t){const e=this.getEvent(t);(0,r.bs)(e,"unknown event","eventFragment",t),t=e}(0,r.bv)(e.length<=t.inputs.length,"too many arguments for ".concat(t.format()),"UNEXPECTED_ARGUMENT",{count:e.length,expectedCount:t.inputs.length});const n=[];t.anonymous||n.push(t.topicHash);const s=(t,e)=>"string"===t.type?Rt(e):"bytes"===t.type?(0,r.az)((0,r.bk)(e)):("bool"===t.type&&"boolean"==typeof e?e=e?"0x01":"0x00":t.type.match(/^u?int/)?e=N(e):t.type.match(/^bytes/)?e=(0,r.b$)(e,32):"address"===t.type&&c(this,Je).encode(["address"],[e]),(0,r.au)((0,r.bk)(e),32));for(e.forEach((e,a)=>{const i=t.inputs[a];i.indexed?null==e?n.push(null):"array"===i.baseType||"tuple"===i.baseType?(0,r.bs)(!1,"filtering with tuples or arrays not supported","contract."+i.name,e):Array.isArray(e)?n.push(e.map(t=>s(i,t))):n.push(s(i,e)):(0,r.bs)(null==e,"cannot filter non-indexed parameters; must be null","contract."+i.name,e)});n.length&&null===n[n.length-1];)n.pop();return n}encodeEventLog(t,e){if("string"==typeof t){const e=this.getEvent(t);(0,r.bs)(e,"unknown event","eventFragment",t),t=e}const n=[],s=[],a=[];return t.anonymous||n.push(t.topicHash),(0,r.bs)(e.length===t.inputs.length,"event arguments/values mismatch","values",e),t.inputs.forEach((t,i)=>{const o=e[i];if(t.indexed)if("string"===t.type)n.push(Rt(o));else if("bytes"===t.type)n.push((0,r.az)(o));else{if("tuple"===t.baseType||"array"===t.baseType)throw new Error("not implemented");n.push(c(this,Je).encode([t.type],[o]))}else s.push(t),a.push(o)}),{data:c(this,Je).encode(s,a),topics:n}}decodeEventLog(t,e,n){if("string"==typeof t){const e=this.getEvent(t);(0,r.bs)(e,"unknown event","eventFragment",t),t=e}if(null!=n&&!t.anonymous){const e=t.topicHash;(0,r.bs)((0,r.ad)(n[0],32)&&n[0].toLowerCase()===e,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const s=[],a=[],i=[];t.inputs.forEach((t,e)=>{t.indexed?"string"===t.type||"bytes"===t.type||"tuple"===t.baseType||"array"===t.baseType?(s.push(we.from({type:"bytes32",name:t.name})),i.push(!0)):(s.push(t),i.push(!1)):(a.push(t),i.push(!1))});const o=null!=n?c(this,Je).decode(s,(0,r.bq)(n)):null,l=c(this,Je).decode(a,e,!0),u=[],h=[];let f=0,p=0;return t.inputs.forEach((t,e)=>{let n=null;if(t.indexed)if(null==o)n=new De(null);else if(i[e])n=new De(o[p++]);else try{n=o[p++]}catch(r){n=r}else try{n=l[f++]}catch(r){n=r}u.push(n),h.push(t.name||null)}),V.fromItems(u,h)}parseTransaction(t){const e=(0,r.bj)(t.data,"tx.data"),n=y(null!=t.value?t.value:0,"tx.value"),s=this.getFunction((0,r.bk)(e.slice(0,4)));if(!s)return null;const a=c(this,Je).decode(s.inputs,e.slice(4));return new Ce(s,s.selector,a,n)}parseCallResult(t){throw new Error("@TODO")}parseLog(t){const e=this.getEvent(t.topics[0]);return!e||e.anonymous?null:new Le(e,e.topicHash,this.decodeEventLog(e,t.data,t.topics))}parseError(t){const e=(0,r.bk)(t),n=this.getError((0,r.bA)(e,0,4));if(!n)return null;const s=c(this,Je).decode(n.inputs,(0,r.bA)(e,4));return new Ge(n,n.selector,s)}static from(e){return e instanceof t?e:"string"==typeof e?new t(JSON.parse(e)):"function"==typeof e.formatJson?new t(e.formatJson()):"function"==typeof e.format?new t(e.format("json")):new t(e)}};const Ze=BigInt(0);function Xe(t){return null!==t&&void 0!==t?t:null}function Qe(t){return null==t?null:t.toString()}class tn{constructor(t,e,n){i(this,"gasPrice"),i(this,"maxFeePerGas"),i(this,"maxPriorityFeePerGas"),(0,r.br)(this,{gasPrice:Xe(t),maxFeePerGas:Xe(e),maxPriorityFeePerGas:Xe(n)})}toJSON(){const{gasPrice:t,maxFeePerGas:e,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:Qe(t),maxFeePerGas:Qe(e),maxPriorityFeePerGas:Qe(n)}}}function en(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=(0,r.bk)(t.data));const n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const r of n)!(r in t)||null==t[r]||(e[r]=y(t[r],"request.".concat(r)));const s="type,nonce".split(/,/);for(const r of s)!(r in t)||null==t[r]||(e[r]=k(t[r],"request.".concat(r)));return t.accessList&&(e.accessList=_t(t.accessList)),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(t=>(0,r.bB)(t)?(0,r.bk)(t):Object.assign({},t))),e}var nn,rn,sn;class an{constructor(t,e){i(this,"provider"),i(this,"number"),i(this,"hash"),i(this,"timestamp"),i(this,"parentHash"),i(this,"parentBeaconBlockRoot"),i(this,"nonce"),i(this,"difficulty"),i(this,"gasLimit"),i(this,"gasUsed"),i(this,"stateRoot"),i(this,"receiptsRoot"),i(this,"blobGasUsed"),i(this,"excessBlobGas"),i(this,"miner"),i(this,"prevRandao"),i(this,"extraData"),i(this,"baseFeePerGas"),l(this,nn),u(this,nn,t.transactions.map(t=>"string"!=typeof t?new ln(t,e):t)),(0,r.br)(this,{provider:e,hash:Xe(t.hash),number:t.number,timestamp:t.timestamp,parentHash:t.parentHash,parentBeaconBlockRoot:t.parentBeaconBlockRoot,nonce:t.nonce,difficulty:t.difficulty,gasLimit:t.gasLimit,gasUsed:t.gasUsed,blobGasUsed:t.blobGasUsed,excessBlobGas:t.excessBlobGas,miner:t.miner,prevRandao:Xe(t.prevRandao),extraData:t.extraData,baseFeePerGas:Xe(t.baseFeePerGas),stateRoot:t.stateRoot,receiptsRoot:t.receiptsRoot})}get transactions(){return c(this,nn).map(t=>"string"==typeof t?t:t.hash)}get prefetchedTransactions(){const t=c(this,nn).slice();return 0===t.length?[]:((0,r.bv)("object"==typeof t[0],"transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),t)}toJSON(){const{baseFeePerGas:t,difficulty:e,extraData:n,gasLimit:r,gasUsed:s,hash:a,miner:i,prevRandao:o,nonce:c,number:l,parentHash:u,parentBeaconBlockRoot:h,stateRoot:f,receiptsRoot:p,timestamp:d,transactions:g}=this;return{_type:"Block",baseFeePerGas:Qe(t),difficulty:Qe(e),extraData:n,gasLimit:Qe(r),gasUsed:Qe(s),blobGasUsed:Qe(this.blobGasUsed),excessBlobGas:Qe(this.excessBlobGas),hash:a,miner:i,prevRandao:o,nonce:c,number:l,parentHash:u,timestamp:d,parentBeaconBlockRoot:h,stateRoot:f,receiptsRoot:p,transactions:g}}[Symbol.iterator](){let t=0;const e=this.transactions;return{next:()=>t<this.length?{value:e[t++],done:!1}:{value:void 0,done:!0}}}get length(){return c(this,nn).length}get date(){return null==this.timestamp?null:new Date(1e3*this.timestamp)}async getTransaction(t){let e;if("number"==typeof t)e=c(this,nn)[t];else{const n=t.toLowerCase();for(const t of c(this,nn)){if("string"==typeof t){if(t!==n)continue;e=t;break}if(t.hash!==n)continue;e=t;break}}if(null==e)throw new Error("no such tx");return"string"==typeof e?await this.provider.getTransaction(e):e}getPrefetchedTransaction(t){const e=this.prefetchedTransactions;if("number"==typeof t)return e[t];t=t.toLowerCase();for(const n of e)if(n.hash===t)return n;(0,r.bs)(!1,"no matching transaction","indexOrHash",t)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return{orphan:"drop-block",hash:(t=this).hash,number:t.number};var t}}nn=new WeakMap;class on{constructor(t,e){i(this,"provider"),i(this,"transactionHash"),i(this,"blockHash"),i(this,"blockNumber"),i(this,"removed"),i(this,"address"),i(this,"data"),i(this,"topics"),i(this,"index"),i(this,"transactionIndex"),this.provider=e;const n=Object.freeze(t.topics.slice());(0,r.br)(this,{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,removed:t.removed,address:t.address,data:t.data,topics:n,index:t.index,transactionIndex:t.transactionIndex})}toJSON(){const{address:t,blockHash:e,blockNumber:n,data:r,index:s,removed:a,topics:i,transactionHash:o,transactionIndex:c}=this;return{_type:"log",address:t,blockHash:e,blockNumber:n,data:r,index:s,removed:a,topics:i,transactionHash:o,transactionIndex:c}}async getBlock(){const t=await this.provider.getBlock(this.blockHash);return(0,r.bv)(!!t,"failed to find transaction","UNKNOWN_ERROR",{}),t}async getTransaction(){const t=await this.provider.getTransaction(this.transactionHash);return(0,r.bv)(!!t,"failed to find transaction","UNKNOWN_ERROR",{}),t}async getTransactionReceipt(){const t=await this.provider.getTransactionReceipt(this.transactionHash);return(0,r.bv)(!!t,"failed to find transaction receipt","UNKNOWN_ERROR",{}),t}removedEvent(){return{orphan:"drop-log",log:{transactionHash:(t=this).transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}};var t}}class cn{constructor(t,e){i(this,"provider"),i(this,"to"),i(this,"from"),i(this,"contractAddress"),i(this,"hash"),i(this,"index"),i(this,"blockHash"),i(this,"blockNumber"),i(this,"logsBloom"),i(this,"gasUsed"),i(this,"blobGasUsed"),i(this,"cumulativeGasUsed"),i(this,"gasPrice"),i(this,"blobGasPrice"),i(this,"type"),i(this,"status"),i(this,"root"),l(this,rn),u(this,rn,Object.freeze(t.logs.map(t=>new on(t,e))));let n=Ze;null!=t.effectiveGasPrice?n=t.effectiveGasPrice:null!=t.gasPrice&&(n=t.gasPrice),(0,r.br)(this,{provider:e,to:t.to,from:t.from,contractAddress:t.contractAddress,hash:t.hash,index:t.index,blockHash:t.blockHash,blockNumber:t.blockNumber,logsBloom:t.logsBloom,gasUsed:t.gasUsed,cumulativeGasUsed:t.cumulativeGasUsed,blobGasUsed:t.blobGasUsed,gasPrice:n,blobGasPrice:t.blobGasPrice,type:t.type,status:t.status,root:t.root})}get logs(){return c(this,rn)}toJSON(){const{to:t,from:e,contractAddress:n,hash:r,index:s,blockHash:a,blockNumber:i,logsBloom:o,logs:c,status:l,root:u}=this;return{_type:"TransactionReceipt",blockHash:a,blockNumber:i,contractAddress:n,cumulativeGasUsed:Qe(this.cumulativeGasUsed),from:e,gasPrice:Qe(this.gasPrice),blobGasUsed:Qe(this.blobGasUsed),blobGasPrice:Qe(this.blobGasPrice),gasUsed:Qe(this.gasUsed),hash:r,index:s,logs:c,logsBloom:o,root:u,status:l,to:t}}get length(){return this.logs.length}[Symbol.iterator](){let t=0;return{next:()=>t<this.length?{value:this.logs[t++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const t=await this.provider.getBlock(this.blockHash);if(null==t)throw new Error("TODO");return t}async getTransaction(){const t=await this.provider.getTransaction(this.hash);if(null==t)throw new Error("TODO");return t}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return hn(this)}reorderedEvent(t){return(0,r.bv)(!t||t.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),un(this,t)}}rn=new WeakMap;sn=new WeakMap;let ln=class t{constructor(t,e){i(this,"provider"),i(this,"blockNumber"),i(this,"blockHash"),i(this,"index"),i(this,"hash"),i(this,"type"),i(this,"to"),i(this,"from"),i(this,"nonce"),i(this,"gasLimit"),i(this,"gasPrice"),i(this,"maxPriorityFeePerGas"),i(this,"maxFeePerGas"),i(this,"maxFeePerBlobGas"),i(this,"data"),i(this,"value"),i(this,"chainId"),i(this,"signature"),i(this,"accessList"),i(this,"blobVersionedHashes"),l(this,sn),this.provider=e,this.blockNumber=null!=t.blockNumber?t.blockNumber:null,this.blockHash=null!=t.blockHash?t.blockHash:null,this.hash=t.hash,this.index=t.index,this.type=t.type,this.from=t.from,this.to=t.to||null,this.gasLimit=t.gasLimit,this.nonce=t.nonce,this.data=t.data,this.value=t.value,this.gasPrice=t.gasPrice,this.maxPriorityFeePerGas=null!=t.maxPriorityFeePerGas?t.maxPriorityFeePerGas:null,this.maxFeePerGas=null!=t.maxFeePerGas?t.maxFeePerGas:null,this.maxFeePerBlobGas=null!=t.maxFeePerBlobGas?t.maxFeePerBlobGas:null,this.chainId=t.chainId,this.signature=t.signature,this.accessList=null!=t.accessList?t.accessList:null,this.blobVersionedHashes=null!=t.blobVersionedHashes?t.blobVersionedHashes:null,u(this,sn,-1)}toJSON(){const{blockNumber:t,blockHash:e,index:n,hash:r,type:s,to:a,from:i,nonce:o,data:c,signature:l,accessList:u,blobVersionedHashes:h}=this;return{_type:"TransactionResponse",accessList:u,blockNumber:t,blockHash:e,blobVersionedHashes:h,chainId:Qe(this.chainId),data:c,from:i,gasLimit:Qe(this.gasLimit),gasPrice:Qe(this.gasPrice),hash:r,maxFeePerGas:Qe(this.maxFeePerGas),maxPriorityFeePerGas:Qe(this.maxPriorityFeePerGas),maxFeePerBlobGas:Qe(this.maxFeePerBlobGas),nonce:o,signature:l,to:a,index:n,type:s,value:Qe(this.value)}}async getBlock(){let t=this.blockNumber;if(null==t){const e=await this.getTransaction();e&&(t=e.blockNumber)}if(null==t)return null;const e=this.provider.getBlock(t);if(null==e)throw new Error("TODO");return e}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(null==this.blockNumber){const{tx:t,blockNumber:e}=await(0,r.bt)({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return null==t||null==t.blockNumber?0:e-t.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(t,e){const n=null!==t&&void 0!==t?t:1,s=null!==e&&void 0!==e?e:0;let a=c(this,sn),i=-1,o=-1===a;const l=async()=>{if(o)return null;const{blockNumber:t,nonce:e}=await(0,r.bt)({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(e<this.nonce)return void(a=t);if(o)return null;const s=await this.getTransaction();if(!s||null==s.blockNumber)for(-1===i&&(i=a-3,i<c(this,sn)&&(i=c(this,sn)));i<=t;){if(o)return null;const e=await this.provider.getBlock(i,!0);if(null==e)return;for(const t of e)if(t===this.hash)return;for(let s=0;s<e.length;s++){const i=await e.getTransaction(s);if(i.from===this.from&&i.nonce===this.nonce){if(o)return null;const e=await this.provider.getTransactionReceipt(i.hash);if(null==e||t-e.blockNumber+1<n)return;let s="replaced";i.data===this.data&&i.to===this.to&&i.value===this.value?s="repriced":"0x"===i.data&&i.from===i.to&&i.value===Ze&&(s="cancelled"),(0,r.bv)(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:"replaced"===s||"cancelled"===s,reason:s,replacement:i.replaceableTransaction(a),hash:i.hash,receipt:e})}}i++}},u=t=>{if(null==t||0!==t.status)return t;(0,r.bv)(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:t.to,from:t.from,data:""},receipt:t})},h=await this.provider.getTransactionReceipt(this.hash);if(0===n)return u(h);if(h){if(await h.confirmations()>=n)return u(h)}else if(await l(),0===n)return null;return await new Promise((t,e)=>{const i=[],c=()=>{i.forEach(t=>t())};if(i.push(()=>{o=!0}),s>0){const t=setTimeout(()=>{c(),e((0,r.bL)("wait for transaction timeout","TIMEOUT"))},s);i.push(()=>{clearTimeout(t)})}const h=async r=>{if(await r.confirmations()>=n){c();try{t(u(r))}catch(s){e(s)}}};if(i.push(()=>{this.provider.off(this.hash,h)}),this.provider.on(this.hash,h),a>=0){const t=async()=>{try{await l()}catch(n){if((0,r.bY)(n,"TRANSACTION_REPLACED"))return c(),void e(n)}o||this.provider.once("block",t)};i.push(()=>{this.provider.off("block",t)}),this.provider.once("block",t)}})}isMined(){return null!=this.blockHash}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}removedEvent(){return(0,r.bv)(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),hn(this)}reorderedEvent(t){return(0,r.bv)(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),(0,r.bv)(!t||t.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),un(this,t)}replaceableTransaction(e){(0,r.bs)(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const n=new t(this,this.provider);return u(n,sn,e),n}};function un(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function hn(t){return{orphan:"drop-transaction",tx:t}}class fn extends on{constructor(t,e,n){super(t,t.provider),i(this,"interface"),i(this,"fragment"),i(this,"args");const s=e.decodeEventLog(n,t.data,t.topics);(0,r.br)(this,{args:s,fragment:n,interface:e})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class pn extends on{constructor(t,e){super(t,t.provider),i(this,"error"),(0,r.br)(this,{error:e})}}var dn,gn;class mn extends cn{constructor(t,e,n){super(n,e),l(this,dn),u(this,dn,t)}get logs(){return super.logs.map(t=>{const e=t.topics.length?c(this,dn).getEvent(t.topics[0]):null;if(e)try{return new fn(t,c(this,dn),e)}catch(n){return new pn(t,n)}return t})}}dn=new WeakMap;class bn extends ln{constructor(t,e,n){super(n,e),l(this,gn),u(this,gn,t)}async wait(t,e){const n=await super.wait(t,e);return null==n?null:new mn(c(this,gn),this.provider,n)}}gn=new WeakMap;class yn extends T{constructor(t,e,n,s){super(t,e,n),i(this,"log"),(0,r.br)(this,{log:s})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class wn extends yn{constructor(t,e,n,s,a){super(t,e,n,new fn(a,t.interface,s));const i=t.interface.decodeEventLog(s,this.log.data,this.log.topics);(0,r.br)(this,{args:i,fragment:s})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const vn=BigInt(0);function En(t){return t&&"function"==typeof t.call}function kn(t){return t&&"function"==typeof t.estimateGas}function Nn(t){return t&&"function"==typeof t.resolveName}function xn(t){return t&&"function"==typeof t.sendTransaction}function On(t){if(null!=t){if(Nn(t))return t;if(t.provider)return t.provider}}var Pn;class Tn{constructor(t,e,n){if(l(this,Pn),i(this,"fragment"),(0,r.br)(this,{fragment:e}),e.inputs.length<n.length)throw new Error("too many arguments");const s=Rn(t.runner,"resolveName"),a=Nn(s)?s:null;u(this,Pn,async function(){const s=await Promise.all(e.inputs.map((t,e)=>null==n[e]?null:t.walkAsync(n[e],(t,e)=>"address"===t?Array.isArray(e)?Promise.all(e.map(t=>(0,r.bu)(t,a))):(0,r.bu)(e,a):e)));return t.interface.encodeFilterTopics(e,s)}())}getTopicFilter(){return c(this,Pn)}}function Rn(t,e){return null==t?null:"function"==typeof t[e]?t:t.provider&&"function"==typeof t.provider[e]?t.provider:null}function An(t){return null==t?null:t.provider||null}async function _n(t,e){const n=ut.dereference(t,"overrides");(0,r.bs)("object"==typeof n,"invalid overrides parameter","overrides",t);const s=en(n);return(0,r.bs)(null==s.to||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",s.to),(0,r.bs)(null==s.data||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",s.data),s.from&&(s.from=s.from),s}async function Un(t,e,n){const s=Rn(t,"resolveName"),a=Nn(s)?s:null;return await Promise.all(e.map((t,e)=>t.walkAsync(n[e],(t,e)=>(e=ut.dereference(e,t),"address"===t?(0,r.bu)(e,a):e))))}function In(t){const e=async function(e){const n=await _n(e,["data"]);n.to=await t.getAddress(),n.from&&(n.from=await(0,r.bu)(n.from,On(t.runner)));const s=t.interface,a=y(n.value||vn,"overrides.value")===vn,i="0x"===(n.data||"0x");s.fallback&&!s.fallback.payable&&s.receive&&!i&&!a&&(0,r.bs)(!1,"cannot send data to receive or send value to non-payable fallback","overrides",e),(0,r.bs)(s.fallback||i,"cannot send data to receive-only contract","overrides.data",n.data);const o=s.receive||s.fallback&&s.fallback.payable;return(0,r.bs)(o||a,"cannot send value to non-payable fallback","overrides.value",n.value),(0,r.bs)(s.fallback||i,"cannot send data to receive-only contract","overrides.data",n.data),n},n=async function(n){const s=t.runner;(0,r.bv)(xn(s),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const a=await s.sendTransaction(await e(n)),i=An(t.runner);return new bn(t.interface,i,a)},s=async t=>await n(t);return(0,r.br)(s,{_contract:t,estimateGas:async function(n){const s=Rn(t.runner,"estimateGas");return(0,r.bv)(kn(s),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await s.estimateGas(await e(n))},populateTransaction:e,send:n,staticCall:async function(n){const s=Rn(t.runner,"call");(0,r.bv)(En(s),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const a=await e(n);try{return await s.call(a)}catch(i){throw(0,r.bZ)(i)&&i.data?t.interface.makeError(i.data,a):i}}}),s}Pn=new WeakMap;const Fn=Symbol.for("_ethersInternal_contract"),Sn=new WeakMap;function Bn(t){return Sn.get(t[Fn])}async function jn(t,e){let n,s=null;if(Array.isArray(e)){const s=function(e){if((0,r.ad)(e,32))return e;const n=t.interface.getEvent(e);return(0,r.bs)(n,"unknown fragment","name",e),n.topicHash};n=e.map(t=>null==t?null:Array.isArray(t)?t.map(s):s(t))}else"*"===e?n=[null]:"string"==typeof e?(0,r.ad)(e,32)?n=[e]:(s=t.interface.getEvent(e),(0,r.bs)(s,"unknown fragment","event",e),n=[s.topicHash]):function(t){return t&&"object"==typeof t&&"getTopicFilter"in t&&"function"==typeof t.getTopicFilter&&t.fragment}(e)?n=await e.getTopicFilter():"fragment"in e?(s=e.fragment,n=[s.topicHash]):(0,r.bs)(!1,"unknown event name","event",e);n=n.map(t=>{if(null==t)return null;if(Array.isArray(t)){const e=Array.from(new Set(t.map(t=>t.toLowerCase())).values());return 1===e.length?e[0]:(e.sort(),e)}return t.toLowerCase()});return{fragment:s,tag:n.map(t=>null==t?"null":Array.isArray(t)?t.join("|"):t).join("&"),topics:n}}async function Ln(t,e){const{subs:n}=Bn(t);return n.get((await jn(t,e)).tag)||null}async function Cn(t,e,n){const s=An(t.runner);(0,r.bv)(s,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:a,tag:i,topics:o}=await jn(t,n),{addr:c,subs:l}=Bn(t);let u=l.get(i);if(!u){const e={address:c||t,topics:o},r=e=>{let r=a;if(null==r)try{r=t.interface.getEvent(e.topics[0])}catch(s){}if(r){const s=r,i=a?t.interface.decodeEventLog(a,e.data,e.topics):[];Dn(t,n,i,r=>new wn(t,r,n,s,e))}else Dn(t,n,[],r=>new yn(t,r,n,e))};let h=[];u={tag:i,listeners:[],start:()=>{h.length||h.push(s.on(e,r))},stop:async()=>{if(0==h.length)return;let t=h;h=[],await Promise.all(t),s.off(e,r)}},l.set(i,u)}return u}let Gn=Promise.resolve();async function Dn(t,e,n,r){try{await Gn}catch(a){}const s=async function(t,e,n,r){await Gn;const s=await Ln(t,e);if(!s)return!1;const a=s.listeners.length;return s.listeners=s.listeners.filter(e=>{let{listener:s,once:a}=e;const i=Array.from(n);r&&i.push(r(a?null:s));try{s.call(t,...i)}catch(o){}return!a}),0===s.listeners.length&&(s.stop(),Bn(t).subs.delete(s.tag)),a>0}(t,e,n,r);return Gn=s,await s}const Mn=["then"];var Vn;Vn=Fn;let Hn=class t{constructor(t,e,n,s){i(this,"target"),i(this,"interface"),i(this,"runner"),i(this,"filters"),i(this,Vn),i(this,"fallback"),(0,r.bs)("string"==typeof t||(0,r.c0)(t),"invalid value for Contract target","target",t),null==n&&(n=null);const a=$e.from(e);(0,r.br)(this,{target:t,runner:n,interface:a}),Object.defineProperty(this,Fn,{value:{}});let o,c=null,l=null;if(s){const t=An(n);l=new bn(this.interface,t,s)}let u=new Map;if("string"==typeof t)if((0,r.ad)(t))c=t,o=Promise.resolve(t);else{const e=Rn(n,"resolveName");if(!Nn(e))throw(0,r.bL)("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=e.resolveName(t).then(e=>{if(null==e)throw(0,r.bL)("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:t});return Bn(this).addr=e,e})}else o=t.getAddress().then(t=>{if(null==t)throw new Error("TODO");return Bn(this).addr=t,t});!function(t,e){Sn.set(t[Fn],e)}(this,{addrPromise:o,addr:c,deployTx:l,subs:u});const h=new Proxy({},{get:(t,e,n)=>{if("symbol"==typeof e||Mn.indexOf(e)>=0)return Reflect.get(t,e,n);try{return this.getEvent(e)}catch(s){if(!(0,r.bY)(s,"INVALID_ARGUMENT")||"key"!==s.argument)throw s}},has:(t,e)=>Mn.indexOf(e)>=0?Reflect.has(t,e):Reflect.has(t,e)||this.interface.hasEvent(String(e))});return(0,r.br)(this,{filters:h}),(0,r.br)(this,{fallback:a.receive||a.fallback?In(this):null}),new Proxy(this,{get:(t,e,n)=>{if("symbol"==typeof e||e in t||Mn.indexOf(e)>=0)return Reflect.get(t,e,n);try{return t.getFunction(e)}catch(s){if(!(0,r.bY)(s,"INVALID_ARGUMENT")||"key"!==s.argument)throw s}},has:(t,e)=>"symbol"==typeof e||e in t||Mn.indexOf(e)>=0?Reflect.has(t,e):t.interface.hasFunction(e)})}connect(e){return new t(this.target,this.interface,e)}attach(e){return new t(e,this.interface,this.runner)}async getAddress(){return await Bn(this).addrPromise}async getDeployedCode(){const t=An(this.runner);(0,r.bv)(t,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const e=await t.getCode(await this.getAddress());return"0x"===e?null:e}async waitForDeployment(){const t=this.deploymentTransaction();if(t)return await t.wait(),this;if(null!=await this.getDeployedCode())return this;const e=An(this.runner);return(0,r.bv)(null!=e,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((t,n)=>{const r=async()=>{try{if(null!=await this.getDeployedCode())return t(this);e.once("block",r)}catch(s){n(s)}};r()})}deploymentTransaction(){return Bn(this).deployTx}getFunction(t){return"string"!=typeof t&&(t=t.format()),function(t,e){const n=function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];const i=t.interface.getFunction(e,s);return(0,r.bv)(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:s}}),i},s=async function(){for(var e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];const i=n(...s);let o={};if(i.inputs.length+1===s.length&&(o=await _n(s.pop()),o.from&&(o.from=await(0,r.bu)(o.from,On(t.runner)))),i.inputs.length!==s.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const c=await Un(t.runner,i.inputs,s);return Object.assign({},o,await(0,r.bt)({to:t.getAddress(),data:t.interface.encodeFunctionData(i,c)}))},a=async function(){const t=await o(...arguments);return 1===t.length?t[0]:t},i=async function(){const e=t.runner;(0,r.bv)(xn(e),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const n=await e.sendTransaction(await s(...arguments)),a=An(t.runner);return new bn(t.interface,a,n)},o=async function(){const e=Rn(t.runner,"call");(0,r.bv)(En(e),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const a=await s(...arguments);let i="0x";try{i=await e.call(a)}catch(c){throw(0,r.bZ)(c)&&c.data?t.interface.makeError(c.data,a):c}const o=n(...arguments);return t.interface.decodeFunctionResult(o,i)},c=async function(){return n(...arguments).constant?await a(...arguments):await i(...arguments)};return(0,r.br)(c,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:n,estimateGas:async function(){const e=Rn(t.runner,"estimateGas");return(0,r.bv)(kn(e),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await e.estimateGas(await s(...arguments))},populateTransaction:s,send:i,staticCall:a,staticCallResult:o}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{const n=t.interface.getFunction(e);return(0,r.bv)(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),n}}),c}(this,t)}getEvent(t){return"string"!=typeof t&&(t=t.format()),function(t,e){const n=function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];const i=t.interface.getEvent(e,s);return(0,r.bv)(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:s}}),i},s=function(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return new Tn(t,n(...r),r)};return(0,r.br)(s,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:n}),Object.defineProperty(s,"fragment",{configurable:!1,enumerable:!0,get:()=>{const n=t.interface.getEvent(e);return(0,r.bv)(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),n}}),s}(this,t)}async queryTransaction(t){throw new Error("@TODO")}async queryFilter(t,e,n){null==e&&(e=0),null==n&&(n="latest");const{addr:s,addrPromise:a}=Bn(this),i=s||await a,{fragment:o,topics:c}=await jn(this,t),l={address:i,topics:c,fromBlock:e,toBlock:n},u=An(this.runner);return(0,r.bv)(u,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await u.getLogs(l)).map(t=>{let e=o;if(null==e)try{e=this.interface.getEvent(t.topics[0])}catch(n){}if(e)try{return new fn(t,this.interface,e)}catch(r){return new pn(t,r)}return new on(t,u)})}async on(t,e){const n=await Cn(this,"on",t);return n.listeners.push({listener:e,once:!1}),n.start(),this}async once(t,e){const n=await Cn(this,"once",t);return n.listeners.push({listener:e,once:!0}),n.start(),this}async emit(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return await Dn(this,t,n,null)}async listenerCount(t){if(t){const e=await Ln(this,t);return e?e.listeners.length:0}const{subs:e}=Bn(this);let n=0;for(const{listeners:r}of e.values())n+=r.length;return n}async listeners(t){if(t){const e=await Ln(this,t);return e?e.listeners.map(t=>{let{listener:e}=t;return e}):[]}const{subs:e}=Bn(this);let n=[];for(const{listeners:r}of e.values())n=n.concat(r.map(t=>{let{listener:e}=t;return e}));return n}async off(t,e){const n=await Ln(this,t);if(!n)return this;if(e){const t=n.listeners.map(t=>{let{listener:e}=t;return e}).indexOf(e);t>=0&&n.listeners.splice(t,1)}return(null==e||0===n.listeners.length)&&(n.stop(),Bn(this).subs.delete(n.tag)),this}async removeAllListeners(t){if(t){const e=await Ln(this,t);if(!e)return this;e.stop(),Bn(this).subs.delete(e.tag)}else{const{subs:t}=Bn(this);for(const{tag:e,stop:n}of t.values())n(),t.delete(e)}return this}async addListener(t,e){return await this.on(t,e)}async removeListener(t,e){return await this.off(t,e)}static buildClass(e){return class extends t{constructor(t){super(t,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}}}static from(t,e,n){return null==n&&(n=null),new this(t,e,n)}};class Wn extends(function(){return Hn}()){}}}]);
//# sourceMappingURL=376.7c1d1397.chunk.js.map